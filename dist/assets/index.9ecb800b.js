function t(t){return t.offsetHeight+parseInt(window.getComputedStyle(t).marginTop)+parseInt(window.getComputedStyle(t).marginBottom)}function n(n){let e,r;var i;n?e=n:(e=t(document.body),r=t(document.querySelector("div:first-of-type")),r>e&&(e=r)),i=e,window.parent.postMessage(JSON.stringify({event:"resize",height:i}),"*"),window.parent.postMessage({sentinel:"amp",type:"embed-size",height:i},"*")}!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver((t=>{for(const e of t)if("childList"===e.type)for(const t of e.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&n(t)})).observe(document,{childList:!0,subtree:!0})}function n(t){if(t.ep)return;t.ep=!0;const n=function(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),"use-credentials"===t.crossorigin?n.credentials="include":"anonymous"===t.crossorigin?n.credentials="omit":n.credentials="same-origin",n}(t);fetch(t.href,n)}}();n();new ResizeObserver((function(){n()})).observe(document.body);function e(){}function r(t,n){for(const e in n)t[e]=n[e];return t}function i(t){return t()}function o(){return Object.create(null)}function a(t){t.forEach(i)}function c(t){return"function"==typeof t}function s(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}let u,f;function l(t,n){return u||(u=document.createElement("a")),u.href=n,t===u.href}function h(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function d(t){const n={};for(const e in t)"$"!==e[0]&&(n[e]=t[e]);return n}function p(t,n){const e={};n=new Set(n);for(const r in t)n.has(r)||"$"===r[0]||(e[r]=t[r]);return e}function g(t){return t&&c(t.destroy)?t.destroy:e}function m(t,n){t.appendChild(n)}function y(t,n,e){t.insertBefore(n,e||null)}function b(t){t.parentNode.removeChild(t)}function v(t){return document.createElement(t)}function _(t){return document.createTextNode(t)}function x(){return _(" ")}function w(){return _("")}function $(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function M(t,n){const e=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in n)null==n[r]?t.removeAttribute(r):"style"===r?t.style.cssText=n[r]:"__value"===r?t.value=t[r]=n[r]:e[r]&&e[r].set?t[r]=n[r]:$(t,r,n[r])}function k(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function T(t,n,e,r){null===e?t.style.removeProperty(n):t.style.setProperty(n,e,r?"important":"")}function A(t){f=t}function N(t){(function(){if(!f)throw new Error("Function called outside component initialization");return f})().$$.on_mount.push(t)}const S=[],E=[],C=[],L=[],D=Promise.resolve();let U=!1;function O(t){C.push(t)}const F=new Set;let j=0;function z(){const t=f;do{for(;j<S.length;){const t=S[j];j++,A(t),R(t.$$)}for(A(null),S.length=0,j=0;E.length;)E.pop()();for(let t=0;t<C.length;t+=1){const n=C[t];F.has(n)||(F.add(n),n())}C.length=0}while(S.length);for(;L.length;)L.pop()();U=!1,F.clear(),A(t)}function R(t){if(null!==t.fragment){t.update(),a(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(O)}}const P=new Set;function q(t,n){t&&t.i&&(P.delete(t),t.i(n))}function I(t,n,e,r){if(t&&t.o){if(P.has(t))return;P.add(t),undefined.c.push((()=>{P.delete(t),r&&(e&&t.d(1),r())})),t.o(n)}else r&&r()}function H(t,n){const e={},r={},i={$$scope:1};let o=t.length;for(;o--;){const a=t[o],c=n[o];if(c){for(const t in a)t in c||(r[t]=1);for(const t in c)i[t]||(e[t]=c[t],i[t]=1);t[o]=c}else for(const t in a)i[t]=1}for(const a in r)a in e||(e[a]=void 0);return e}function Y(t){t&&t.c()}function B(t,n,e,r){const{fragment:o,after_update:s}=t.$$;o&&o.m(n,e),r||O((()=>{const n=t.$$.on_mount.map(i).filter(c);t.$$.on_destroy?t.$$.on_destroy.push(...n):a(n),t.$$.on_mount=[]})),s.forEach(O)}function W(t,n){const e=t.$$;null!==e.fragment&&(a(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function V(t,n){-1===t.$$.dirty[0]&&(S.push(t),U||(U=!0,D.then(z)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function X(t,n,r,i,c,s,u,l=[-1]){const h=f;A(t);const d=t.$$={fragment:null,ctx:[],props:s,update:e,not_equal:c,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(h?h.$$.context:[])),callbacks:o(),dirty:l,skip_bound:!1,root:n.target||h.$$.root};u&&u(d.root);let p=!1;if(d.ctx=r?r(t,n.props||{},((n,e,...r)=>{const i=r.length?r[0]:e;return d.ctx&&c(d.ctx[n],d.ctx[n]=i)&&(!d.skip_bound&&d.bound[n]&&d.bound[n](i),p&&V(t,n)),e})):[],d.update(),p=!0,a(d.before_update),d.fragment=!!i&&i(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(b)}else d.fragment&&d.fragment.c();n.intro&&q(t.$$.fragment),B(t,n.target,n.anchor,n.customElement),z()}A(h)}class Z{$destroy(){W(this,1),this.$destroy=e}$on(t,n){if(!c(n))return e;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){this.$$set&&!function(t){return 0===Object.keys(t).length}(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const G=[];function J(t,n=e){let r;const i=new Set;function o(n){if(s(t,n)&&(t=n,r)){const n=!G.length;for(const e of i)e[1](),G.push(e,t);if(n){for(let t=0;t<G.length;t+=2)G[t][0](G[t+1]);G.length=0}}}return{set:o,update:function(n){o(n(t))},subscribe:function(a,c=e){const s=[a,c];return i.add(s),1===i.size&&(r=n(o)||e),a(t),()=>{i.delete(s),0===i.size&&(r(),r=null)}}}}function Q(t,n,r){const i=!Array.isArray(t),o=i?[t]:t,s=n.length<2;return function(t,n){return{subscribe:J(t,n).subscribe}}(r,(t=>{let r=!1;const u=[];let f=0,l=e;const d=()=>{if(f)return;l();const r=n(i?u[0]:u,t);s?t(r):l=c(r)?r:e},p=o.map(((t,n)=>h(t,(t=>{u[n]=t,f&=~(1<<n),r&&d()}),(()=>{f|=1<<n}))));return r=!0,d(),function(){a(p),l()}}))}var K={},tt={};function nt(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function et(t){var n=Object.create(null),e=[];return t.forEach((function(t){for(var r in t)r in n||e.push(n[r]=r)})),e}function rt(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function ot(t){var n=t.getUTCHours(),e=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+rt(-t,6):t>9999?"+"+rt(t,6):rt(t,4)}(t.getUTCFullYear())+"-"+rt(t.getUTCMonth()+1,2)+"-"+rt(t.getUTCDate(),2)+(i?"T"+rt(n,2)+":"+rt(e,2)+":"+rt(r,2)+"."+rt(i,3)+"Z":r?"T"+rt(n,2)+":"+rt(e,2)+":"+rt(r,2)+"Z":e||n?"T"+rt(n,2)+":"+rt(e,2)+"Z":"")}var at=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],o=t.length,a=0,c=0,s=o<=0,u=!1;function f(){if(s)return tt;if(u)return u=!1,K;var n,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(n=a)>=o?s=!0:10===(r=t.charCodeAt(a++))?u=!0:13===r&&(u=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,n-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(n=a++)))u=!0;else if(13===r)u=!0,10===t.charCodeAt(a)&&++a;else if(r!==e)continue;return t.slice(i,n)}return s=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=f())!==tt;){for(var l=[];r!==K&&r!==tt;)l.push(r),r=f();n&&null==(l=n(l,c++))||i.push(l)}return i}function i(n,e){return n.map((function(n){return e.map((function(t){return a(n[t])})).join(t)}))}function o(n){return n.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?ot(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,o=r(t,(function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=nt(t);return function(r,i){return n(e(r),i,t)}}(t,n):nt(t)}));return o.columns=i||[],o},parseRows:r,format:function(n,e){return null==e&&(e=et(n)),[e.map(a).join(t)].concat(i(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=et(t)),i(t,n).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}(","),ct=at.parse;function st(t){for(var n in t){var e,r,i=t[n].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(e=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;ut&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=e;else i=null;t[n]=i}return t}const ut=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),ft={data:"data/song_genres.json",dfAll:"data/songs.csv",dfPersonal:"data/my_most_listened.csv",corrMatrix:"data/all_corr_matrix.csv",title:"Los géneros más populares",subtitle:"Playlist de los últimos 40 años",sources:"Fuente: ...",embed:!1,debug:!1},lt=Q(J({}),((t,n)=>{const e=new URLSearchParams(window.location.search),r=Object.fromEntries(e);n({...ft,...st(r),...st(t)})}));function ht(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function dt(t,n){return fetch(t,n).then(ht)}var pt,gt=(pt=ct,function(t,n,e){return 2===arguments.length&&"function"==typeof n&&(e=n,n=void 0),dt(t,n).then((function(t){return pt(t,e)}))});function mt(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function yt(t,n){return fetch(t,n).then(mt)}Q(lt,(t=>{const{data:n,dfAll:e}=t;return Promise.all([yt(n),gt(e)]).then((([t,n])=>({data:t,dfAll:n}))).catch((t=>{}))}));const bt=await yt("data/song_genres.json"),vt=await gt("data/songs.csv"),_t=await gt("data/my_most_listened.csv"),xt=await yt("data/my_song_genres.json"),wt=await gt("data/all_corr_matrix.csv"),$t=[{label:"Resto del mundo",value:28},{label:"Europa",value:30},{label:"Latinoamérica",value:21},{label:"Norteamérica",value:21}];function Mt(t){let n;function e(t,n){return t[2]?Tt:kt}let r=e(t),i=r(t);return{c(){i.c(),n=w()},m(t,e){i.m(t,e),y(t,n,e)},p(t,o){r===(r=e(t))&&i?i.p(t,o):(i.d(1),i=r(t),i&&(i.c(),i.m(n.parentNode,n)))},d(t){i.d(t),t&&b(n)}}}function kt(t){let n,e,r;return{c(){n=v("div"),e=_(t[0]),$(n,"class",r="title "+t[2]+" svelte-fa7132")},m(t,r){y(t,n,r),m(n,e)},p(t,i){1&i&&k(e,t[0]),4&i&&r!==(r="title "+t[2]+" svelte-fa7132")&&$(n,"class",r)},d(t){t&&b(n)}}}function Tt(t){let n,e,r;return{c(){n=v("div"),e=_(t[0]),$(n,"class",r="title "+t[2]+" svelte-fa7132")},m(t,r){y(t,n,r),m(n,e)},p(t,i){1&i&&k(e,t[0]),4&i&&r!==(r="title "+t[2]+" svelte-fa7132")&&$(n,"class",r)},d(t){t&&b(n)}}}function At(t){let n,e;return{c(){n=v("div"),e=_(t[1]),$(n,"class","subtitle svelte-fa7132")},m(t,r){y(t,n,r),m(n,e)},p(t,n){2&n&&k(e,t[1])},d(t){t&&b(n)}}}function Nt(t){let n,r,i,o=t[0]&&Mt(t),a=t[1]&&At(t);return{c(){n=v("div"),o&&o.c(),r=x(),a&&a.c(),$(n,"class",i="header "+t[2]+" svelte-fa7132")},m(t,e){y(t,n,e),o&&o.m(n,null),m(n,r),a&&a.m(n,null)},p(t,[e]){t[0]?o?o.p(t,e):(o=Mt(t),o.c(),o.m(n,r)):o&&(o.d(1),o=null),t[1]?a?a.p(t,e):(a=At(t),a.c(),a.m(n,null)):a&&(a.d(1),a=null),4&e&&i!==(i="header "+t[2]+" svelte-fa7132")&&$(n,"class",i)},i:e,o:e,d(t){t&&b(n),o&&o.d(),a&&a.d()}}}function St(t,n,e){let{title:r=""}=n,{subtitle:i=""}=n,{tipo:o=""}=n;return t.$$set=t=>{"title"in t&&e(0,r=t.title),"subtitle"in t&&e(1,i=t.subtitle),"tipo"in t&&e(2,o=t.tipo)},[r,i,o]}class Et extends Z{constructor(t){super(),X(this,t,St,Nt,s,{title:0,subtitle:1,tipo:2})}}function Ct(t){let n,e,r,i;return{c(){n=v("div"),e=v("span"),r=_("\r\n        AM - "),i=_(t[0]),$(e,"class","svelte-pn20qk"),$(n,"class","svelte-pn20qk")},m(t,o){y(t,n,o),m(n,e),m(n,r),m(n,i)},p(t,n){1&n&&k(i,t[0])},d(t){t&&b(n)}}}function Lt(t){let n,r=t[0]&&!/^\s+$/.test(t[0]),i=r&&Ct(t);return{c(){i&&i.c(),n=w()},m(t,e){i&&i.m(t,e),y(t,n,e)},p(t,[e]){1&e&&(r=t[0]&&!/^\s+$/.test(t[0])),r?i?i.p(t,e):(i=Ct(t),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},i:e,o:e,d(t){i&&i.d(t),t&&b(n)}}}function Dt(t,n,e){let{sources:r}=n;return t.$$set=t=>{"sources"in t&&e(0,r=t.sources)},[r]}class Ut extends Z{constructor(t){super(),X(this,t,Dt,Lt,s,{sources:0})}}class Ot extends Map{constructor(t,n=Pt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const[e,r]of t)this.set(e,r)}get(t){return super.get(jt(this,t))}has(t){return super.has(jt(this,t))}set(t,n){return super.set(zt(this,t),n)}delete(t){return super.delete(Rt(this,t))}}class Ft extends Set{constructor(t,n=Pt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const e of t)this.add(e)}has(t){return super.has(jt(this,t))}add(t){return super.add(zt(this,t))}delete(t){return super.delete(Rt(this,t))}}function jt({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function zt({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function Rt({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(e),t.delete(r)),e}function Pt(t){return null!==t&&"object"==typeof t?t.valueOf():t}function qt(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function It(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Ht(){}var Yt=1/.7,Bt="\\s*([+-]?\\d+)\\s*",Wt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xt=/^#([0-9a-f]{3,8})$/,Zt=new RegExp("^rgb\\("+[Bt,Bt,Bt]+"\\)$"),Gt=new RegExp("^rgb\\("+[Vt,Vt,Vt]+"\\)$"),Jt=new RegExp("^rgba\\("+[Bt,Bt,Bt,Wt]+"\\)$"),Qt=new RegExp("^rgba\\("+[Vt,Vt,Vt,Wt]+"\\)$"),Kt=new RegExp("^hsl\\("+[Wt,Vt,Vt]+"\\)$"),tn=new RegExp("^hsla\\("+[Wt,Vt,Vt,Wt]+"\\)$"),nn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function en(){return this.rgb().formatHex()}function rn(){return this.rgb().formatRgb()}function on(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Xt.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?an(n):3===e?new fn(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?cn(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?cn(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Zt.exec(t))?new fn(n[1],n[2],n[3],1):(n=Gt.exec(t))?new fn(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Jt.exec(t))?cn(n[1],n[2],n[3],n[4]):(n=Qt.exec(t))?cn(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Kt.exec(t))?pn(n[1],n[2]/100,n[3]/100,1):(n=tn.exec(t))?pn(n[1],n[2]/100,n[3]/100,n[4]):nn.hasOwnProperty(t)?an(nn[t]):"transparent"===t?new fn(NaN,NaN,NaN,0):null}function an(t){return new fn(t>>16&255,t>>8&255,255&t,1)}function cn(t,n,e,r){return r<=0&&(t=n=e=NaN),new fn(t,n,e,r)}function sn(t){return t instanceof Ht||(t=on(t)),t?new fn((t=t.rgb()).r,t.g,t.b,t.opacity):new fn}function un(t,n,e,r){return 1===arguments.length?sn(t):new fn(t,n,e,null==r?1:r)}function fn(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function ln(){return"#"+dn(this.r)+dn(this.g)+dn(this.b)}function hn(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function dn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function pn(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new mn(t,n,e,r)}function gn(t){if(t instanceof mn)return new mn(t.h,t.s,t.l,t.opacity);if(t instanceof Ht||(t=on(t)),!t)return new mn;if(t instanceof mn)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,c=o-i,s=(o+i)/2;return c?(a=n===o?(e-r)/c+6*(e<r):e===o?(r-n)/c+2:(n-e)/c+4,c/=s<.5?o+i:2-o-i,a*=60):c=s>0&&s<1?0:a,new mn(a,c,s,t.opacity)}function mn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function yn(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}qt(Ht,on,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:en,formatHex:en,formatHsl:function(){return gn(this).formatHsl()},formatRgb:rn,toString:rn}),qt(fn,un,It(Ht,{brighter:function(t){return t=null==t?Yt:Math.pow(Yt,t),new fn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new fn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ln,formatHex:ln,formatRgb:hn,toString:hn})),qt(mn,(function(t,n,e,r){return 1===arguments.length?gn(t):new mn(t,n,e,null==r?1:r)}),It(Ht,{brighter:function(t){return t=null==t?Yt:Math.pow(Yt,t),new mn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new mn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new fn(yn(t>=240?t-240:t+120,i,r),yn(t,i,r),yn(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const bn=Math.PI/180,vn=180/Math.PI;var _n=1.78277,xn=-.29227,wn=-.90649,$n=1.97294,Mn=$n*wn,kn=$n*_n,Tn=_n*xn- -.14861*wn;function An(t){if(t instanceof Sn)return new Sn(t.h,t.s,t.l,t.opacity);t instanceof fn||(t=sn(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Tn*r+Mn*n-kn*e)/(Tn+Mn-kn),o=r-i,a=($n*(e-i)-xn*o)/wn,c=Math.sqrt(a*a+o*o)/($n*i*(1-i)),s=c?Math.atan2(a,o)*vn-120:NaN;return new Sn(s<0?s+360:s,c,i,t.opacity)}function Nn(t,n,e,r){return 1===arguments.length?An(t):new Sn(t,n,e,null==r?1:r)}function Sn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}qt(Sn,Nn,It(Ht,{brighter:function(t){return t=null==t?Yt:Math.pow(Yt,t),new Sn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Sn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*bn,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new fn(255*(n+e*(-.14861*r+_n*i)),255*(n+e*(xn*r+wn*i)),255*(n+e*($n*r)),this.opacity)}}));const En=t=>()=>t;function Cn(t,n){return function(e){return t+e*n}}function Ln(t){return 1==(t=+t)?Dn:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):En(isNaN(n)?e:n)}}function Dn(t,n){var e=n-t;return e?Cn(t,e):En(isNaN(t)?n:t)}const Un=function t(n){var e=Ln(n);function r(t,n){var r=e((t=un(t)).r,(n=un(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=Dn(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);var On=function(t){return function(n){var e,r,i=n.length,o=new Array(i),a=new Array(i),c=new Array(i);for(e=0;e<i;++e)r=un(n[e]),o[e]=r.r||0,a[e]=r.g||0,c[e]=r.b||0;return o=t(o),a=t(a),c=t(c),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=c(t),r+""}}}((function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,c=r<n-1?t[r+2]:2*o-i;return function(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}((e-r/n)*n,a,i,o,c)}}));function Fn(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}var jn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zn=new RegExp(jn.source,"g");function Rn(t,n){var e,r,i,o=jn.lastIndex=zn.lastIndex=0,a=-1,c=[],s=[];for(t+="",n+="";(e=jn.exec(t))&&(r=zn.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),c[a]?c[a]+=i:c[++a]=i),(e=e[0])===(r=r[0])?c[a]?c[a]+=r:c[++a]=r:(c[++a]=null,s.push({i:a,x:Fn(e,r)})),o=zn.lastIndex;return o<n.length&&(i=n.slice(o),c[a]?c[a]+=i:c[++a]=i),c.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)c[(e=s[r]).i]=e.x(t);return c.join("")})}var Pn,qn=180/Math.PI,In={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Hn(t,n,e,r,i,o){var a,c,s;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(c=Math.sqrt(e*e+r*r))&&(e/=c,r/=c,s/=c),t*r<n*e&&(t=-t,n=-n,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*qn,skewX:Math.atan(s)*qn,scaleX:a,scaleY:c}}function Yn(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var c=[],s=[];return o=t(o),a=t(a),function(t,r,i,o,a,c){if(t!==i||r!==o){var s=a.push("translate(",null,n,null,e);c.push({i:s-4,x:Fn(t,i)},{i:s-2,x:Fn(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,c,s),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:Fn(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,a.rotate,c,s),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:Fn(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,a.skewX,c,s),function(t,n,e,r,o,a){if(t!==e||n!==r){var c=o.push(i(o)+"scale(",null,",",null,")");a.push({i:c-4,x:Fn(t,e)},{i:c-2,x:Fn(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,c,s),o=a=null,function(t){for(var n,e=-1,r=s.length;++e<r;)c[(n=s[e]).i]=n.x(t);return c.join("")}}}var Bn=Yn((function(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?In:Hn(n.a,n.b,n.c,n.d,n.e,n.f)}),"px, ","px)","deg)"),Wn=Yn((function(t){return null==t?In:(Pn||(Pn=document.createElementNS("http://www.w3.org/2000/svg","g")),Pn.setAttribute("transform",t),(t=Pn.transform.baseVal.consolidate())?Hn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):In)}),", ",")",")");function Vn(t){return function n(e){function r(n,r){var i=t((n=Nn(n)).h,(r=Nn(r)).h),o=Dn(n.s,r.s),a=Dn(n.l,r.l),c=Dn(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=a(Math.pow(t,e)),n.opacity=c(t),n+""}}return e=+e,r.gamma=n,r}(1)}Vn((function(t,n){var e=n-t;return e?Cn(t,e>180||e<-180?e-360*Math.round(e/360):e):En(isNaN(t)?n:t)}));var Xn=Vn(Dn),Zn=new Date,Gn=new Date;function Jn(t,n,e,r){function i(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return i.floor=function(n){return t(n=new Date(+n)),n},i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,o){var a,c=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return c;do{c.push(a=new Date(+e)),n(e,o),t(e)}while(a<e&&e<r);return c},i.filter=function(e){return Jn((function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););}))},e&&(i.count=function(n,r){return Zn.setTime(+n),Gn.setTime(+r),t(Zn),t(Gn),Math.floor(e(Zn,Gn))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}const Qn=864e5,Kn=7*Qn;var te=Jn((t=>t.setHours(0,0,0,0)),((t,n)=>t.setDate(t.getDate()+n)),((t,n)=>(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/Qn),(t=>t.getDate()-1));const ne=te;function ee(t){return Jn((function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+7*n)}),(function(t,n){return(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/Kn}))}te.range;var re=ee(0),ie=ee(1),oe=ee(2),ae=ee(3),ce=ee(4),se=ee(5),ue=ee(6);re.range,ie.range,oe.range,ae.range,ce.range,se.range,ue.range;var fe=Jn((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n)}),(function(t,n){return n.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));fe.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Jn((function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),(function(n,e){n.setFullYear(n.getFullYear()+e*t)})):null};const le=fe;fe.range;var he=Jn((function(t){t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+n)}),(function(t,n){return(n-t)/Qn}),(function(t){return t.getUTCDate()-1}));const de=he;function pe(t){return Jn((function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+7*n)}),(function(t,n){return(n-t)/Kn}))}he.range;var ge=pe(0),me=pe(1),ye=pe(2),be=pe(3),ve=pe(4),_e=pe(5),xe=pe(6);ge.range,me.range,ye.range,be.range,ve.range,_e.range,xe.range;var we=Jn((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)}),(function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));we.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Jn((function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),(function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)})):null};const $e=we;function Me(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ke(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Te(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}we.range;var Ae,Ne,Se={"-":"",_:" ",0:"0"},Ee=/^\s*\d+/,Ce=/^%/,Le=/[\\^$*+?|[\]().{}]/g;function De(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function Ue(t){return t.replace(Le,"\\$&")}function Oe(t){return new RegExp("^(?:"+t.map(Ue).join("|")+")","i")}function Fe(t){return new Map(t.map(((t,n)=>[t.toLowerCase(),n])))}function je(t,n,e){var r=Ee.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function ze(t,n,e){var r=Ee.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Re(t,n,e){var r=Ee.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function Pe(t,n,e){var r=Ee.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function qe(t,n,e){var r=Ee.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Ie(t,n,e){var r=Ee.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function He(t,n,e){var r=Ee.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Ye(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Be(t,n,e){var r=Ee.exec(n.slice(e,e+1));return r?(t.q=3*r[0]-3,e+r[0].length):-1}function We(t,n,e){var r=Ee.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Ve(t,n,e){var r=Ee.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Xe(t,n,e){var r=Ee.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function Ze(t,n,e){var r=Ee.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function Ge(t,n,e){var r=Ee.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function Je(t,n,e){var r=Ee.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function Qe(t,n,e){var r=Ee.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function Ke(t,n,e){var r=Ee.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function tr(t,n,e){var r=Ce.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function nr(t,n,e){var r=Ee.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function er(t,n,e){var r=Ee.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function rr(t,n){return De(t.getDate(),n,2)}function ir(t,n){return De(t.getHours(),n,2)}function or(t,n){return De(t.getHours()%12||12,n,2)}function ar(t,n){return De(1+ne.count(le(t),t),n,3)}function cr(t,n){return De(t.getMilliseconds(),n,3)}function sr(t,n){return cr(t,n)+"000"}function ur(t,n){return De(t.getMonth()+1,n,2)}function fr(t,n){return De(t.getMinutes(),n,2)}function lr(t,n){return De(t.getSeconds(),n,2)}function hr(t){var n=t.getDay();return 0===n?7:n}function dr(t,n){return De(re.count(le(t)-1,t),n,2)}function pr(t){var n=t.getDay();return n>=4||0===n?ce(t):ce.ceil(t)}function gr(t,n){return t=pr(t),De(ce.count(le(t),t)+(4===le(t).getDay()),n,2)}function mr(t){return t.getDay()}function yr(t,n){return De(ie.count(le(t)-1,t),n,2)}function br(t,n){return De(t.getFullYear()%100,n,2)}function vr(t,n){return De((t=pr(t)).getFullYear()%100,n,2)}function _r(t,n){return De(t.getFullYear()%1e4,n,4)}function xr(t,n){var e=t.getDay();return De((t=e>=4||0===e?ce(t):ce.ceil(t)).getFullYear()%1e4,n,4)}function wr(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+De(n/60|0,"0",2)+De(n%60,"0",2)}function $r(t,n){return De(t.getUTCDate(),n,2)}function Mr(t,n){return De(t.getUTCHours(),n,2)}function kr(t,n){return De(t.getUTCHours()%12||12,n,2)}function Tr(t,n){return De(1+de.count($e(t),t),n,3)}function Ar(t,n){return De(t.getUTCMilliseconds(),n,3)}function Nr(t,n){return Ar(t,n)+"000"}function Sr(t,n){return De(t.getUTCMonth()+1,n,2)}function Er(t,n){return De(t.getUTCMinutes(),n,2)}function Cr(t,n){return De(t.getUTCSeconds(),n,2)}function Lr(t){var n=t.getUTCDay();return 0===n?7:n}function Dr(t,n){return De(ge.count($e(t)-1,t),n,2)}function Ur(t){var n=t.getUTCDay();return n>=4||0===n?ve(t):ve.ceil(t)}function Or(t,n){return t=Ur(t),De(ve.count($e(t),t)+(4===$e(t).getUTCDay()),n,2)}function Fr(t){return t.getUTCDay()}function jr(t,n){return De(me.count($e(t)-1,t),n,2)}function zr(t,n){return De(t.getUTCFullYear()%100,n,2)}function Rr(t,n){return De((t=Ur(t)).getUTCFullYear()%100,n,2)}function Pr(t,n){return De(t.getUTCFullYear()%1e4,n,4)}function qr(t,n){var e=t.getUTCDay();return De((t=e>=4||0===e?ve(t):ve.ceil(t)).getUTCFullYear()%1e4,n,4)}function Ir(){return"+0000"}function Hr(){return"%"}function Yr(t){return+t}function Br(t){return Math.floor(+t/1e3)}function Wr(t,n){return null==t||null==n?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Vr(t,n){return null==t||null==n?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Xr(t){let n,e,r;function i(t,r,i=0,o=t.length){if(i<o){if(0!==n(r,r))return o;do{const n=i+o>>>1;e(t[n],r)<0?i=n+1:o=n}while(i<o)}return i}return 2!==t.length?(n=Wr,e=(n,e)=>Wr(t(n),e),r=(n,e)=>t(n)-e):(n=t===Wr||t===Vr?t:Zr,e=t,r=t),{left:i,center:function(t,n,e=0,o=t.length){const a=i(t,n,e,o-1);return a>e&&r(t[a-1],n)>-r(t[a],n)?a-1:a},right:function(t,r,i=0,o=t.length){if(i<o){if(0!==n(r,r))return o;do{const n=i+o>>>1;e(t[n],r)<=0?i=n+1:o=n}while(i<o)}return i}}}function Zr(){return 0}function Gr(t){return null===t?NaN:+t}!function(t){Ae=function(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,c=t.months,s=t.shortMonths,u=Oe(i),f=Fe(i),l=Oe(o),h=Fe(o),d=Oe(a),p=Fe(a),g=Oe(c),m=Fe(c),y=Oe(s),b=Fe(s),v={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return c[t.getMonth()]},c:null,d:rr,e:rr,f:sr,g:vr,G:xr,H:ir,I:or,j:ar,L:cr,m:ur,M:fr,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Yr,s:Br,S:lr,u:hr,U:dr,V:gr,w:mr,W:yr,x:null,X:null,y:br,Y:_r,Z:wr,"%":Hr},_={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return c[t.getUTCMonth()]},c:null,d:$r,e:$r,f:Nr,g:Rr,G:qr,H:Mr,I:kr,j:Tr,L:Ar,m:Sr,M:Er,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Yr,s:Br,S:Cr,u:Lr,U:Dr,V:Or,w:Fr,W:jr,x:null,X:null,y:zr,Y:Pr,Z:Ir,"%":Hr},x={a:function(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=p.get(r[0].toLowerCase()),e+r[0].length):-1},A:function(t,n,e){var r=l.exec(n.slice(e));return r?(t.w=h.get(r[0].toLowerCase()),e+r[0].length):-1},b:function(t,n,e){var r=y.exec(n.slice(e));return r?(t.m=b.get(r[0].toLowerCase()),e+r[0].length):-1},B:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.m=m.get(r[0].toLowerCase()),e+r[0].length):-1},c:function(t,e,r){return M(t,n,e,r)},d:Ve,e:Ve,f:Ke,g:He,G:Ie,H:Ze,I:Ze,j:Xe,L:Qe,m:We,M:Ge,p:function(t,n,e){var r=u.exec(n.slice(e));return r?(t.p=f.get(r[0].toLowerCase()),e+r[0].length):-1},q:Be,Q:nr,s:er,S:Je,u:ze,U:Re,V:Pe,w:je,W:qe,x:function(t,n,r){return M(t,e,n,r)},X:function(t,n,e){return M(t,r,n,e)},y:He,Y:Ie,Z:Ye,"%":tr};function w(t,n){return function(e){var r,i,o,a=[],c=-1,s=0,u=t.length;for(e instanceof Date||(e=new Date(+e));++c<u;)37===t.charCodeAt(c)&&(a.push(t.slice(s,c)),null!=(i=Se[r=t.charAt(++c)])?r=t.charAt(++c):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),a.push(r),s=c+1);return a.push(t.slice(s,c)),a.join("")}}function $(t,n){return function(e){var r,i,o=Te(1900,void 0,1);if(M(o,t,e+="",0)!=e.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(n&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=ke(Te(o.y,0,1))).getUTCDay(),r=i>4||0===i?me.ceil(r):me(r),r=de.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Me(Te(o.y,0,1))).getDay(),r=i>4||0===i?ie.ceil(r):ie(r),r=ne.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?ke(Te(o.y,0,1)).getUTCDay():Me(Te(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,ke(o)):Me(o)}}function M(t,n,e,r){for(var i,o,a=0,c=n.length,s=e.length;a<c;){if(r>=s)return-1;if(37===(i=n.charCodeAt(a++))){if(i=n.charAt(a++),!(o=x[i in Se?n.charAt(a++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return v.x=w(e,v),v.X=w(r,v),v.c=w(n,v),_.x=w(e,_),_.X=w(r,_),_.c=w(n,_),{format:function(t){var n=w(t+="",v);return n.toString=function(){return t},n},parse:function(t){var n=$(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=w(t+="",_);return n.toString=function(){return t},n},utcParse:function(t){var n=$(t+="",!0);return n.toString=function(){return t},n}}}(t),Ne=Ae.format,Ae.parse,Ae.utcFormat,Ae.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const Jr=Xr(Wr).right;Xr(Gr).center;const Qr=Jr;function Kr(t){return 0|t.length}function ti(t){return!(t>0)}function ni(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function ei(t,n){var e=0,r=0;return Float64Array.from(t,void 0===n?t=>e+=+t||0:i=>e+=+n(i,r++,t)||0)}function ri(t,n){let e,r=0,i=0,o=0;if(void 0===n)for(let a of t)null!=a&&(a=+a)>=a&&(e=a-i,i+=e/++r,o+=e*(a-i));else{let a=-1;for(let c of t)null!=(c=n(c,++a,t))&&(c=+c)>=c&&(e=c-i,i+=e/++r,o+=e*(c-i))}if(r>1)return o/(r-1)}function ii(t,n){const e=ri(t,n);return e?Math.sqrt(e):e}function oi(t,n){let e,r;if(void 0===n)for(const i of t)null!=i&&(void 0===e?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));else{let i=-1;for(let o of t)null!=(o=n(o,++i,t))&&(void 0===e?o>=o&&(e=r=o):(e>o&&(e=o),r<o&&(r=o)))}return[e,r]}class ai{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let e=0;for(let r=0;r<this._n&&r<32;r++){const i=n[r],o=t+i,a=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);a&&(n[e++]=a),t=o}return n[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let n,e,r,i=this._n,o=0;if(i>0){for(o=t[--i];i>0&&(n=o,e=t[--i],o=n+e,r=e-(o-n),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(e=2*r,n=o+e,e==n-o&&(o=n))}return o}}function ci(t){return t}function si(t,...n){return li(t,ci,ci,n)}function ui(t,n,...e){return li(t,ci,n,e)}function fi(t,n,...e){return li(t,Array.from,n,e)}function li(t,n,e,r){return function t(i,o){if(o>=r.length)return e(i);const a=new Ot,c=r[o++];let s=-1;for(const n of i){const t=c(n,++s,i),e=a.get(t);e?e.push(n):a.set(t,[n])}for(const[n,e]of a)a.set(n,t(e,o));return n(a)}(t,0)}function hi(t,...n){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[e]=n;if(e&&2!==e.length||n.length>1){const r=Uint32Array.from(t,((t,n)=>n));return n.length>1?(n=n.map((n=>t.map(n))),r.sort(((t,e)=>{for(const r of n){const n=pi(r[t],r[e]);if(n)return n}}))):(e=t.map(e),r.sort(((t,n)=>pi(e[t],e[n])))),function(t,n){return Array.from(n,(n=>t[n]))}(t,r)}return t.sort(di(e))}function di(t=Wr){if(t===Wr)return pi;if("function"!=typeof t)throw new TypeError("compare is not a function");return(n,e)=>{const r=t(n,e);return r||0===r?r:(0===t(e,e))-(0===t(n,n))}}function pi(t,n){return(null==t||!(t>=t))-(null==n||!(n>=n))||(t<n?-1:t>n?1:0)}function gi(t,n,e){return(2!==n.length?hi(ui(t,n,e),(([t,n],[e,r])=>Wr(n,r)||Wr(t,e))):hi(si(t,e),(([t,e],[r,i])=>n(e,i)||Wr(t,r)))).map((([t])=>t))}const mi=Math.sqrt(50),yi=Math.sqrt(10),bi=Math.sqrt(2);function vi(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=mi?10:o>=yi?5:o>=bi?2:1;let c,s,u;return i<0?(u=Math.pow(10,-i)/a,c=Math.round(t*u),s=Math.round(n*u),c/u<t&&++c,s/u>n&&--s,u=-u):(u=Math.pow(10,i)*a,c=Math.round(t/u),s=Math.round(n/u),c*u<t&&++c,s*u>n&&--s),s<c&&.5<=e&&e<2?vi(t,n,2*e):[c,s,u]}function _i(t,n,e){if(!((e=+e)>0))return[];if((t=+t)===(n=+n))return[t];const r=n<t,[i,o,a]=r?vi(n,t,e):vi(t,n,e);if(!(o>=i))return[];const c=o-i+1,s=new Array(c);if(r)if(a<0)for(let u=0;u<c;++u)s[u]=(o-u)/-a;else for(let u=0;u<c;++u)s[u]=(o-u)*a;else if(a<0)for(let u=0;u<c;++u)s[u]=(i+u)/-a;else for(let u=0;u<c;++u)s[u]=(i+u)*a;return s}function xi(t,n,e){return vi(t=+t,n=+n,e=+e)[2]}function wi(t,n,e){e=+e;const r=(n=+n)<(t=+t),i=r?xi(n,t,e):xi(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function $i(t,n){let e;if(void 0===n)for(const r of t)null!=r&&(e<r||void 0===e&&r>=r)&&(e=r);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e<i||void 0===e&&i>=i)&&(e=i)}return e}function Mi(t,n){let e,r=-1,i=-1;if(void 0===n)for(const o of t)++i,null!=o&&(e<o||void 0===e&&o>=o)&&(e=o,r=i);else for(let o of t)null!=(o=n(o,++i,t))&&(e<o||void 0===e&&o>=o)&&(e=o,r=i);return r}function ki(t,n){let e;if(void 0===n)for(const r of t)null!=r&&(e>r||void 0===e&&r>=r)&&(e=r);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e>i||void 0===e&&i>=i)&&(e=i)}return e}function Ti(t,n){let e,r=-1,i=-1;if(void 0===n)for(const o of t)++i,null!=o&&(e>o||void 0===e&&o>=o)&&(e=o,r=i);else for(let o of t)null!=(o=n(o,++i,t))&&(e>o||void 0===e&&o>=o)&&(e=o,r=i);return r}function Ai(t,n,e=0,r=1/0,i){if(n=Math.floor(n),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(t.length-1,r)),!(e<=n&&n<=r))return t;for(i=void 0===i?pi:di(i);r>e;){if(r-e>600){const o=r-e+1,a=n-e+1,c=Math.log(o),s=.5*Math.exp(2*c/3),u=.5*Math.sqrt(c*s*(o-s)/o)*(a-o/2<0?-1:1);Ai(t,n,Math.max(e,Math.floor(n-a*s/o+u)),Math.min(r,Math.floor(n+(o-a)*s/o+u)),i)}const o=t[n];let a=e,c=r;for(Ni(t,e,n),i(t[r],o)>0&&Ni(t,e,r);a<c;){for(Ni(t,a,c),++a,--c;i(t[a],o)<0;)++a;for(;i(t[c],o)>0;)--c}0===i(t[e],o)?Ni(t,e,c):(++c,Ni(t,c,r)),c<=n&&(e=c+1),n<=c&&(r=c-1)}return t}function Ni(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function Si(t,n=Wr){let e,r=!1;if(1===n.length){let i;for(const o of t){const t=n(o);(r?Wr(t,i)>0:0===Wr(t,t))&&(e=o,i=t,r=!0)}}else for(const i of t)(r?n(i,e)>0:0===n(i,i))&&(e=i,r=!0);return e}function Ei(t,n,e){if(t=Float64Array.from(function*(t,n){if(void 0===n)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let e=-1;for(let r of t)null!=(r=n(r,++e,t))&&(r=+r)>=r&&(yield r)}}(t,e)),(r=t.length)&&!isNaN(n=+n)){if(n<=0||r<2)return ki(t);if(n>=1)return $i(t);var r,i=(r-1)*n,o=Math.floor(i),a=$i(Ai(t,o).subarray(0,o+1));return a+(ki(t.subarray(o+1))-a)*(i-o)}}function Ci(t,n,e=Gr){if((r=t.length)&&!isNaN(n=+n)){if(n<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),a=+e(t[o],o,t);return a+(+e(t[o+1],o+1,t)-a)*(i-o)}}function Li(t,n){let e=0,r=0;if(void 0===n)for(let i of t)null!=i&&(i=+i)>=i&&(++e,r+=i);else{let i=-1;for(let o of t)null!=(o=n(o,++i,t))&&(o=+o)>=o&&(++e,r+=o)}if(e)return r/e}function Di(t,n){return Ei(t,.5,n)}function Ui(t){return Array.from(function*(t){for(const n of t)yield*n}(t))}function Oi(t,n){const e=new Ot;if(void 0===n)for(let o of t)null!=o&&o>=o&&e.set(o,(e.get(o)||0)+1);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&i>=i&&e.set(i,(e.get(i)||0)+1)}let r,i=0;for(const[o,a]of e)a>i&&(i=a,r=o);return r}function Fi(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}function ji(t,n=Wr){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");let e=Array.from(t);const r=new Float64Array(e.length);2!==n.length&&(e=e.map(n),n=Wr);const i=(t,r)=>n(e[t],e[r]);let o,a;return(t=Uint32Array.from(e,((t,n)=>n))).sort(n===Wr?(t,n)=>pi(e[t],e[n]):di(i)),t.forEach(((t,n)=>{const e=i(t,void 0===o?t:o);e>=0?((void 0===o||e>0)&&(o=t,a=n),r[t]=a):r[t]=NaN})),r}function zi(t,n){let e=0;if(void 0===n)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}function Ri(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()}var Pi={value:function(){}};function qi(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Ii(r)}function Ii(t){this._=t}function Hi(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function Yi(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function Bi(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Pi,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}Ii.prototype=qi.prototype={constructor:Ii,on:function(t,n){var e,r=this._,i=Hi(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<a;)if(e=(t=i[o]).type)r[e]=Bi(r[e],t.name,n);else if(null==n)for(e in r)r[e]=Bi(r[e],t.name,null);return this}for(;++o<a;)if((e=(t=i[o]).type)&&(e=Yi(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Ii(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};const Wi=function(t){var n=t.default;if("function"==typeof n){var e=function(){return n.apply(this,arguments)};e.prototype=n.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(t).forEach((function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})})),e}(Object.freeze(Object.defineProperty({__proto__:null,dispatch:qi},Symbol.toStringTag,{value:"Module"})));Wi.dispatch;function Vi(t){return t}function Xi(t){return"translate("+t+",0)"}function Zi(t){return"translate(0,"+t+")"}function Gi(t){return n=>+t(n)}function Ji(t,n){return n=Math.max(0,t.bandwidth()-2*n)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function Qi(){return!this.__axis}function Ki(t,n){var e=[],r=null,i=null,o=6,a=6,c=3,s="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,u=1===t||4===t?-1:1,f=4===t||2===t?"x":"y",l=1===t||3===t?Xi:Zi;function h(h){var d=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,p=null==i?n.tickFormat?n.tickFormat.apply(n,e):Vi:i,g=Math.max(o,0)+c,m=n.range(),y=+m[0]+s,b=+m[m.length-1]+s,v=(n.bandwidth?Ji:Gi)(n.copy(),s),_=h.selection?h.selection():h,x=_.selectAll(".domain").data([null]),w=_.selectAll(".tick").data(d,n).order(),$=w.exit(),M=w.enter().append("g").attr("class","tick"),k=w.select("line"),T=w.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(M),k=k.merge(M.append("line").attr("stroke","currentColor").attr(f+"2",u*o)),T=T.merge(M.append("text").attr("fill","currentColor").attr(f,u*g).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),h!==_&&(x=x.transition(h),w=w.transition(h),k=k.transition(h),T=T.transition(h),$=$.transition(h).attr("opacity",1e-6).attr("transform",(function(t){return isFinite(t=v(t))?l(t+s):this.getAttribute("transform")})),M.attr("opacity",1e-6).attr("transform",(function(t){var n=this.parentNode.__axis;return l((n&&isFinite(n=n(t))?n:v(t))+s)}))),$.remove(),x.attr("d",4===t||2===t?a?"M"+u*a+","+y+"H"+s+"V"+b+"H"+u*a:"M"+s+","+y+"V"+b:a?"M"+y+","+u*a+"V"+s+"H"+b+"V"+u*a:"M"+y+","+s+"H"+b),w.attr("opacity",1).attr("transform",(function(t){return l(v(t)+s)})),k.attr(f+"2",u*o),T.attr(f,u*g).text(p),_.filter(Qi).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),_.each((function(){this.__axis=v}))}return h.scale=function(t){return arguments.length?(n=t,h):n},h.ticks=function(){return e=Array.from(arguments),h},h.tickArguments=function(t){return arguments.length?(e=null==t?[]:Array.from(t),h):e.slice()},h.tickValues=function(t){return arguments.length?(r=null==t?null:Array.from(t),h):r&&r.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(o=a=+t,h):o},h.tickSizeInner=function(t){return arguments.length?(o=+t,h):o},h.tickSizeOuter=function(t){return arguments.length?(a=+t,h):a},h.tickPadding=function(t){return arguments.length?(c=+t,h):c},h.offset=function(t){return arguments.length?(s=+t,h):s},h}var to="http://www.w3.org/1999/xhtml";const no={svg:"http://www.w3.org/2000/svg",xhtml:to,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function eo(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),no.hasOwnProperty(n)?{space:no[n],local:t}:t}function ro(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===to&&n.documentElement.namespaceURI===to?n.createElement(t):n.createElementNS(e,t)}}function io(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function oo(t){var n=eo(t);return(n.local?io:ro)(n)}function ao(){}function co(t){return null==t?ao:function(){return this.querySelector(t)}}function so(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function uo(){return[]}function fo(t){return null==t?uo:function(){return this.querySelectorAll(t)}}function lo(t){return function(){return this.matches(t)}}function ho(t){return function(n){return n.matches(t)}}var po=Array.prototype.find;function go(){return this.firstElementChild}var mo=Array.prototype.filter;function yo(){return Array.from(this.children)}function bo(t){return new Array(t.length)}function vo(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function _o(t){return function(){return t}}function xo(t,n,e,r,i,o){for(var a,c=0,s=n.length,u=o.length;c<u;++c)(a=n[c])?(a.__data__=o[c],r[c]=a):e[c]=new vo(t,o[c]);for(;c<s;++c)(a=n[c])&&(i[c]=a)}function wo(t,n,e,r,i,o,a){var c,s,u,f=new Map,l=n.length,h=o.length,d=new Array(l);for(c=0;c<l;++c)(s=n[c])&&(d[c]=u=a.call(s,s.__data__,c,n)+"",f.has(u)?i[c]=s:f.set(u,s));for(c=0;c<h;++c)u=a.call(t,o[c],c,o)+"",(s=f.get(u))?(r[c]=s,s.__data__=o[c],f.delete(u)):e[c]=new vo(t,o[c]);for(c=0;c<l;++c)(s=n[c])&&f.get(d[c])===s&&(i[c]=s)}function $o(t){return t.__data__}function Mo(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function ko(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function To(t){return function(){this.removeAttribute(t)}}function Ao(t){return function(){this.removeAttributeNS(t.space,t.local)}}function No(t,n){return function(){this.setAttribute(t,n)}}function So(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Eo(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function Co(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Lo(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Do(t){return function(){this.style.removeProperty(t)}}function Uo(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Oo(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function Fo(t,n){return t.style.getPropertyValue(n)||Lo(t).getComputedStyle(t,null).getPropertyValue(n)}function jo(t){return function(){delete this[t]}}function zo(t,n){return function(){this[t]=n}}function Ro(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function Po(t){return t.trim().split(/^|\s+/)}function qo(t){return t.classList||new Io(t)}function Io(t){this._node=t,this._names=Po(t.getAttribute("class")||"")}function Ho(t,n){for(var e=qo(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Yo(t,n){for(var e=qo(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Bo(t){return function(){Ho(this,t)}}function Wo(t){return function(){Yo(this,t)}}function Vo(t,n){return function(){(n.apply(this,arguments)?Ho:Yo)(this,t)}}function Xo(){this.textContent=""}function Zo(t){return function(){this.textContent=t}}function Go(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function Jo(){this.innerHTML=""}function Qo(t){return function(){this.innerHTML=t}}function Ko(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function ta(){this.nextSibling&&this.parentNode.appendChild(this)}function na(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ea(){return null}function ra(){var t=this.parentNode;t&&t.removeChild(this)}function ia(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function oa(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function aa(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function ca(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function sa(t,n,e){return function(){var r,i=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var a=0,c=i.length;a<c;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),void(r.value=n);this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function ua(t,n,e){var r=Lo(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function fa(t,n){return function(){return ua(this,t,n)}}function la(t,n){return function(){return ua(this,t,n.apply(this,arguments))}}vo.prototype={constructor:vo,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},Io.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var ha=[null];function da(t,n){this._groups=t,this._parents=n}function pa(){return new da([[document.documentElement]],ha)}function ga(t){return"string"==typeof t?new da([[document.querySelector(t)]],[document.documentElement]):new da([[t]],ha)}da.prototype=pa.prototype={constructor:da,select:function(t){"function"!=typeof t&&(t=co(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,c=n[i],s=c.length,u=r[i]=new Array(s),f=0;f<s;++f)(o=c[f])&&(a=t.call(o,o.__data__,f,c))&&("__data__"in o&&(a.__data__=o.__data__),u[f]=a);return new da(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return so(t.apply(this,arguments))}}(t):fo(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,c=n[o],s=c.length,u=0;u<s;++u)(a=c[u])&&(r.push(t.call(a,a.__data__,u,c)),i.push(a));return new da(r,i)},selectChild:function(t){return this.select(null==t?go:function(t){return function(){return po.call(this.children,t)}}("function"==typeof t?t:ho(t)))},selectChildren:function(t){return this.selectAll(null==t?yo:function(t){return function(){return mo.call(this.children,t)}}("function"==typeof t?t:ho(t)))},filter:function(t){"function"!=typeof t&&(t=lo(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],c=a.length,s=r[i]=[],u=0;u<c;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&s.push(o);return new da(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,$o);var e=n?wo:xo,r=this._parents,i=this._groups;"function"!=typeof t&&(t=_o(t));for(var o=i.length,a=new Array(o),c=new Array(o),s=new Array(o),u=0;u<o;++u){var f=r[u],l=i[u],h=l.length,d=Mo(t.call(f,f&&f.__data__,u,r)),p=d.length,g=c[u]=new Array(p),m=a[u]=new Array(p),y=s[u]=new Array(h);e(f,l,g,m,y,d,n);for(var b,v,_=0,x=0;_<p;++_)if(b=g[_]){for(_>=x&&(x=_+1);!(v=m[x])&&++x<p;);b._next=v||null}}return(a=new da(a,r))._enter=c,a._exit=s,a},enter:function(){return new da(this._enter||this._groups.map(bo),this._parents)},exit:function(){return new da(this._exit||this._groups.map(bo),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=n&&(i=n(i))&&(i=i.selection()),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,a=Math.min(i,o),c=new Array(i),s=0;s<a;++s)for(var u,f=e[s],l=r[s],h=f.length,d=c[s]=new Array(h),p=0;p<h;++p)(u=f[p]||l[p])&&(d[p]=u);for(;s<i;++s)c[s]=e[s];return new da(c,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=ko);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,c=e[o],s=c.length,u=i[o]=new Array(s),f=0;f<s;++f)(a=c[f])&&(u[f]=a);u.sort(n)}return new da(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,c=o.length;a<c;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=eo(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?Ao:To:"function"==typeof n?e.local?Co:Eo:e.local?So:No)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?Do:"function"==typeof n?Oo:Uo)(t,n,null==e?"":e)):Fo(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?jo:"function"==typeof n?Ro:zo)(t,n)):this.node()[t]},classed:function(t,n){var e=Po(t+"");if(arguments.length<2){for(var r=qo(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?Vo:n?Bo:Wo)(e,n))},text:function(t){return arguments.length?this.each(null==t?Xo:("function"==typeof t?Go:Zo)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Jo:("function"==typeof t?Ko:Qo)(t)):this.node().innerHTML},raise:function(){return this.each(ta)},lower:function(){return this.each(na)},append:function(t){var n="function"==typeof t?t:oo(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:oo(t),r=null==n?ea:"function"==typeof n?n:co(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(ra)},clone:function(t){return this.select(t?oa:ia)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=aa(t+""),a=o.length;if(!(arguments.length<2)){for(c=n?sa:ca,r=0;r<a;++r)this.each(c(o[r],n,e));return this}var c=this.node().__on;if(c)for(var s,u=0,f=c.length;u<f;++u)for(r=0,s=c[u];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?la:fa)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};var ma,ya,ba=0,va=0,_a=0,xa=0,wa=0,$a=0,Ma="object"==typeof performance&&performance.now?performance:Date,ka="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ta(){return wa||(ka(Aa),wa=Ma.now()+$a)}function Aa(){wa=0}function Na(){this._call=this._time=this._next=null}function Sa(t,n,e){var r=new Na;return r.restart(t,n,e),r}function Ea(){wa=(xa=Ma.now())+$a,ba=va=0;try{!function(){Ta(),++ba;for(var t,n=ma;n;)(t=wa-n._time)>=0&&n._call.call(void 0,t),n=n._next;--ba}()}finally{ba=0,function(){var t,n,e=ma,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:ma=n);ya=t,La(r)}(),wa=0}}function Ca(){var t=Ma.now(),n=t-xa;n>1e3&&($a-=n,xa=t)}function La(t){ba||(va&&(va=clearTimeout(va)),t-wa>24?(t<1/0&&(va=setTimeout(Ea,t-Ma.now()-$a)),_a&&(_a=clearInterval(_a))):(_a||(xa=Ma.now(),_a=setInterval(Ca,1e3)),ba=1,ka(Ea)))}function Da(t,n,e){var r=new Na;return n=null==n?0:+n,r.restart((e=>{r.stop(),t(e+n)}),n,e),r}Na.prototype=Sa.prototype={constructor:Na,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Ta():+e)+(null==n?0:+n),this._next||ya===this||(ya?ya._next=this:ma=this,ya=this),this._call=t,this._time=e,La()},stop:function(){this._call&&(this._call=null,this._time=1/0,La())}};var Ua=qi("start","end","cancel","interrupt"),Oa=[];function Fa(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(t){e.state=1,e.timer.restart(a,e.delay,e.time),e.delay<=t&&a(t-e.delay)}function a(o){var u,f,l,h;if(1!==e.state)return s();for(u in i)if((h=i[u]).name===e.name){if(3===h.state)return Da(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[u]):+u<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[u])}if(Da((function(){3===e.state&&(e.state=4,e.timer.restart(c,e.delay,e.time),c(o))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(l=e.tween.length),u=0,f=-1;u<l;++u)(h=e.tween[u].value.call(t,t.__data__,e.index,e.group))&&(r[++f]=h);r.length=f+1}}function c(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(s),e.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),s())}function s(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Sa(o,0,e.time)}(t,e,{name:n,index:r,group:i,on:Ua,tween:Oa,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function ja(t,n){var e=Ra(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function za(t,n){var e=Ra(t,n);if(e.state>3)throw new Error("too late; already running");return e}function Ra(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Pa(t,n){var e,r;return function(){var i=za(this,t),o=i.tween;if(o!==e)for(var a=0,c=(r=e=o).length;a<c;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}function qa(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=za(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var c={name:n,value:e},s=0,u=i.length;s<u;++s)if(i[s].name===n){i[s]=c;break}s===u&&i.push(c)}o.tween=i}}function Ia(t,n,e){var r=t._id;return t.each((function(){var t=za(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return Ra(t,r).value[n]}}function Ha(t,n){var e;return("number"==typeof n?Fn:n instanceof on?Un:(e=on(n))?(n=e,Un):Rn)(t,n)}function Ya(t){return function(){this.removeAttribute(t)}}function Ba(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Wa(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=n(r=a,e)}}function Va(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=n(r=a,e)}}function Xa(t,n,e){var r,i,o;return function(){var a,c,s=e(this);if(null!=s)return(a=this.getAttribute(t))===(c=s+"")?null:a===r&&c===i?o:(i=c,o=n(r=a,s));this.removeAttribute(t)}}function Za(t,n,e){var r,i,o;return function(){var a,c,s=e(this);if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===(c=s+"")?null:a===r&&c===i?o:(i=c,o=n(r=a,s));this.removeAttributeNS(t.space,t.local)}}function Ga(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Ja(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function Qa(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&Ja(t,i)),e}return i._value=n,i}function Ka(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&Ga(t,i)),e}return i._value=n,i}function tc(t,n){return function(){ja(this,t).delay=+n.apply(this,arguments)}}function nc(t,n){return n=+n,function(){ja(this,t).delay=n}}function ec(t,n){return function(){za(this,t).duration=+n.apply(this,arguments)}}function rc(t,n){return n=+n,function(){za(this,t).duration=n}}function ic(t,n){if("function"!=typeof n)throw new Error;return function(){za(this,t).ease=n}}function oc(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?ja:za;return function(){var a=o(this,t),c=a.on;c!==r&&(i=(r=c).copy()).on(n,e),a.on=i}}var ac=pa.prototype.constructor;function cc(t){return function(){this.style.removeProperty(t)}}function sc(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function uc(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&sc(t,o,e)),r}return o._value=n,o}function fc(t){return function(n){this.textContent=t.call(this,n)}}function lc(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&fc(r)),n}return r._value=t,r}var hc=0;function dc(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function pc(){return++hc}var gc=pa.prototype;dc.prototype={constructor:dc,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=co(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var c,s,u=r[a],f=u.length,l=o[a]=new Array(f),h=0;h<f;++h)(c=u[h])&&(s=t.call(c,c.__data__,h,u))&&("__data__"in c&&(s.__data__=c.__data__),l[h]=s,Fa(l[h],n,e,h,l,Ra(c,e)));return new dc(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=fo(t));for(var r=this._groups,i=r.length,o=[],a=[],c=0;c<i;++c)for(var s,u=r[c],f=u.length,l=0;l<f;++l)if(s=u[l]){for(var h,d=t.call(s,s.__data__,l,u),p=Ra(s,e),g=0,m=d.length;g<m;++g)(h=d[g])&&Fa(h,n,e,g,d,p);o.push(d),a.push(s)}return new dc(o,a,n,e)},selectChild:gc.selectChild,selectChildren:gc.selectChildren,filter:function(t){"function"!=typeof t&&(t=lo(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],c=a.length,s=r[i]=[],u=0;u<c;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&s.push(o);return new dc(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),c=0;c<o;++c)for(var s,u=n[c],f=e[c],l=u.length,h=a[c]=new Array(l),d=0;d<l;++d)(s=u[d]||f[d])&&(h[d]=s);for(;c<r;++c)a[c]=n[c];return new dc(a,this._parents,this._name,this._id)},selection:function(){return new ac(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=pc(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,c=r[o],s=c.length,u=0;u<s;++u)if(a=c[u]){var f=Ra(a,n);Fa(a,t,e,u,c,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new dc(r,this._parents,t,e)},call:gc.call,nodes:gc.nodes,node:gc.node,size:gc.size,empty:gc.empty,each:gc.each,on:function(t,n){var e=this._id;return arguments.length<2?Ra(this.node(),e).on.on(t):this.each(oc(e,t,n))},attr:function(t,n){var e=eo(t),r="transform"===e?Wn:Ha;return this.attrTween(t,"function"==typeof n?(e.local?Za:Xa)(e,r,Ia(this,"attr."+t,n)):null==n?(e.local?Ba:Ya)(e):(e.local?Va:Wa)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=eo(t);return this.tween(e,(r.local?Qa:Ka)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Bn:Ha;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=Fo(this,t),a=(this.style.removeProperty(t),Fo(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,cc(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var a=Fo(this,t),c=e(this),s=c+"";return null==c&&(this.style.removeProperty(t),s=c=Fo(this,t)),a===s?null:a===r&&s===i?o:(i=s,o=n(r=a,c))}}(t,r,Ia(this,"style."+t,n))).each(function(t,n){var e,r,i,o,a="style."+n,c="end."+a;return function(){var s=za(this,t),u=s.on,f=null==s.value[a]?o||(o=cc(n)):void 0;u===e&&i===f||(r=(e=u).copy()).on(c,i=f),s.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var a=Fo(this,t);return a===o?null:a===r?i:i=n(r=a,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,uc(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Ia(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,lc(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=Ra(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?Pa:qa)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?tc:nc)(n,t)):Ra(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?ec:rc)(n,t)):Ra(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(ic(n,t)):Ra(this.node(),n).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;za(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,a){var c={value:a},s={value:function(){0==--i&&o()}};e.each((function(){var e=za(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(c),n._.interrupt.push(c),n._.end.push(s)),e.on=n})),0===i&&o()}))},[Symbol.iterator]:gc[Symbol.iterator]};var mc={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function yc(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}pa.prototype.interrupt=function(t){return this.each((function(){!function(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)}))},pa.prototype.transition=function(t){var n,e;t instanceof dc?(n=t._id,t=t._name):(n=pc(),(e=mc).time=Ta(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,c=r[o],s=c.length,u=0;u<s;++u)(a=c[u])&&Fa(a,t,n,u,c,e||yc(a,n));return new dc(r,this._parents,t,n)};const bc=Math.PI,vc=2*bc,_c=1e-6,xc=vc-_c;function wc(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}class $c{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?wc:function(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return wc;const e=10**n;return function(t){this._+=t[0];for(let n=1,r=t.length;n<r;++n)this._+=Math.round(arguments[n]*e)/e+t[n]}}(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,e,r){this._append`Q${+t},${+n},${this._x1=+e},${this._y1=+r}`}bezierCurveTo(t,n,e,r,i,o){this._append`C${+t},${+n},${+e},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,e,r,i){if(t=+t,n=+n,e=+e,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,c=e-t,s=r-n,u=o-t,f=a-n,l=u*u+f*f;if(null===this._x1)this._append`M${this._x1=t},${this._y1=n}`;else if(l>_c)if(Math.abs(f*c-s*u)>_c&&i){let h=e-o,d=r-a,p=c*c+s*s,g=h*h+d*d,m=Math.sqrt(p),y=Math.sqrt(l),b=i*Math.tan((bc-Math.acos((p+l-g)/(2*m*y)))/2),v=b/y,_=b/m;Math.abs(v-1)>_c&&this._append`L${t+v*u},${n+v*f}`,this._append`A${i},${i},0,0,${+(f*h>u*d)},${this._x1=t+_*c},${this._y1=n+_*s}`}else this._append`L${this._x1=t},${this._y1=n}`;else;}arc(t,n,e,r,i,o){if(t=+t,n=+n,o=!!o,(e=+e)<0)throw new Error(`negative radius: ${e}`);let a=e*Math.cos(r),c=e*Math.sin(r),s=t+a,u=n+c,f=1^o,l=o?r-i:i-r;null===this._x1?this._append`M${s},${u}`:(Math.abs(this._x1-s)>_c||Math.abs(this._y1-u)>_c)&&this._append`L${s},${u}`,e&&(l<0&&(l=l%vc+vc),l>xc?this._append`A${e},${e},0,1,${f},${t-a},${n-c}A${e},${e},0,1,${f},${this._x1=s},${this._y1=u}`:l>_c&&this._append`A${e},${e},0,${+(l>=bc)},${f},${this._x1=t+e*Math.cos(i)},${this._y1=n+e*Math.sin(i)}`)}rect(t,n,e,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${e=+e}v${+r}h${-e}Z`}toString(){return this._}}function Mc(t=3){return new $c(+t)}function kc(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Tc(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Ac(){}var Nc=1/.7,Sc="\\s*([+-]?\\d+)\\s*",Ec="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Cc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Lc=/^#([0-9a-f]{3,8})$/,Dc=new RegExp(`^rgb\\(${Sc},${Sc},${Sc}\\)$`),Uc=new RegExp(`^rgb\\(${Cc},${Cc},${Cc}\\)$`),Oc=new RegExp(`^rgba\\(${Sc},${Sc},${Sc},${Ec}\\)$`),Fc=new RegExp(`^rgba\\(${Cc},${Cc},${Cc},${Ec}\\)$`),jc=new RegExp(`^hsl\\(${Ec},${Cc},${Cc}\\)$`),zc=new RegExp(`^hsla\\(${Ec},${Cc},${Cc},${Ec}\\)$`),Rc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Pc(){return this.rgb().formatHex()}function qc(){return this.rgb().formatRgb()}function Ic(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Lc.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?Hc(n):3===e?new Vc(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?Yc(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?Yc(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Dc.exec(t))?new Vc(n[1],n[2],n[3],1):(n=Uc.exec(t))?new Vc(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Oc.exec(t))?Yc(n[1],n[2],n[3],n[4]):(n=Fc.exec(t))?Yc(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=jc.exec(t))?Kc(n[1],n[2]/100,n[3]/100,1):(n=zc.exec(t))?Kc(n[1],n[2]/100,n[3]/100,n[4]):Rc.hasOwnProperty(t)?Hc(Rc[t]):"transparent"===t?new Vc(NaN,NaN,NaN,0):null}function Hc(t){return new Vc(t>>16&255,t>>8&255,255&t,1)}function Yc(t,n,e,r){return r<=0&&(t=n=e=NaN),new Vc(t,n,e,r)}function Bc(t){return t instanceof Ac||(t=Ic(t)),t?new Vc((t=t.rgb()).r,t.g,t.b,t.opacity):new Vc}function Wc(t,n,e,r){return 1===arguments.length?Bc(t):new Vc(t,n,e,null==r?1:r)}function Vc(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Xc(){return`#${Qc(this.r)}${Qc(this.g)}${Qc(this.b)}`}function Zc(){const t=Gc(this.opacity);return`${1===t?"rgb(":"rgba("}${Jc(this.r)}, ${Jc(this.g)}, ${Jc(this.b)}${1===t?")":`, ${t})`}`}function Gc(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Jc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Qc(t){return((t=Jc(t))<16?"0":"")+t.toString(16)}function Kc(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new es(t,n,e,r)}function ts(t){if(t instanceof es)return new es(t.h,t.s,t.l,t.opacity);if(t instanceof Ac||(t=Ic(t)),!t)return new es;if(t instanceof es)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,c=o-i,s=(o+i)/2;return c?(a=n===o?(e-r)/c+6*(e<r):e===o?(r-n)/c+2:(n-e)/c+4,c/=s<.5?o+i:2-o-i,a*=60):c=s>0&&s<1?0:a,new es(a,c,s,t.opacity)}function ns(t,n,e,r){return 1===arguments.length?ts(t):new es(t,n,e,null==r?1:r)}function es(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function rs(t){return(t=(t||0)%360)<0?t+360:t}function is(t){return Math.max(0,Math.min(1,t||0))}function os(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}kc(Ac,Ic,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Pc,formatHex:Pc,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return ts(this).formatHsl()},formatRgb:qc,toString:qc}),kc(Vc,Wc,Tc(Ac,{brighter(t){return t=null==t?Nc:Math.pow(Nc,t),new Vc(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new Vc(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Vc(Jc(this.r),Jc(this.g),Jc(this.b),Gc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xc,formatHex:Xc,formatHex8:function(){return`#${Qc(this.r)}${Qc(this.g)}${Qc(this.b)}${Qc(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Zc,toString:Zc})),kc(es,ns,Tc(Ac,{brighter(t){return t=null==t?Nc:Math.pow(Nc,t),new es(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new es(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Vc(os(t>=240?t-240:t+120,i,r),os(t,i,r),os(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new es(rs(this.h),is(this.s),is(this.l),Gc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Gc(this.opacity);return`${1===t?"hsl(":"hsla("}${rs(this.h)}, ${100*is(this.s)}%, ${100*is(this.l)}%${1===t?")":`, ${t})`}`}}));const as=Math.PI/180,cs=180/Math.PI,ss=4/29,us=6/29,fs=3*us*us;function ls(t){if(t instanceof ds)return new ds(t.l,t.a,t.b,t.opacity);if(t instanceof _s)return xs(t);t instanceof Vc||(t=Bc(t));var n,e,r=ys(t.r),i=ys(t.g),o=ys(t.b),a=ps((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?n=e=a:(n=ps((.4360747*r+.3850649*i+.1430804*o)/.96422),e=ps((.0139322*r+.0971045*i+.7141733*o)/.82521)),new ds(116*a-16,500*(n-a),200*(a-e),t.opacity)}function hs(t,n,e,r){return 1===arguments.length?ls(t):new ds(t,n,e,null==r?1:r)}function ds(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function ps(t){return t>.008856451679035631?Math.pow(t,1/3):t/fs+ss}function gs(t){return t>us?t*t*t:fs*(t-ss)}function ms(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function ys(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function bs(t){if(t instanceof _s)return new _s(t.h,t.c,t.l,t.opacity);if(t instanceof ds||(t=ls(t)),0===t.a&&0===t.b)return new _s(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*cs;return new _s(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function vs(t,n,e,r){return 1===arguments.length?bs(t):new _s(t,n,e,null==r?1:r)}function _s(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function xs(t){if(isNaN(t.h))return new ds(t.l,0,0,t.opacity);var n=t.h*as;return new ds(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}function ws(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function $s(t){return(t=ws(Math.abs(t)))?t[1]:NaN}kc(ds,hs,Tc(Ac,{brighter(t){return new ds(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker(t){return new ds(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new Vc(ms(3.1338561*(n=.96422*gs(n))-1.6168667*(t=1*gs(t))-.4906146*(e=.82521*gs(e))),ms(-.9787684*n+1.9161415*t+.033454*e),ms(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),kc(_s,vs,Tc(Ac,{brighter(t){return new _s(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker(t){return new _s(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb(){return xs(this).rgb()}}));var Ms,ks=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ts(t){if(!(n=ks.exec(t)))throw new Error("invalid format: "+t);var n;return new As({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function As(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ns(t,n){var e=ws(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Ts.prototype=As.prototype,As.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Ss={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Ns(100*t,n),r:Ns,s:function(t,n){var e=ws(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Ms=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ws(t,Math.max(0,n+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Es(t){return t}var Cs,Ls,Ds,Us=Array.prototype.map,Os=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Fs(t){var n=void 0===t.grouping||void 0===t.thousands?Es:function(t,n){return function(e,r){for(var i=e.length,o=[],a=0,c=t[0],s=0;i>0&&c>0&&(s+c+1>r&&(c=Math.max(1,r-s)),o.push(e.substring(i-=c,i+c)),!((s+=c+1)>r));)c=t[a=(a+1)%t.length];return o.reverse().join(n)}}(Us.call(t.grouping,Number),t.thousands+""),e=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",i=void 0===t.decimal?".":t.decimal+"",o=void 0===t.numerals?Es:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(Us.call(t.numerals,String)),a=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",s=void 0===t.nan?"NaN":t.nan+"";function u(t){var u=(t=Ts(t)).fill,f=t.align,l=t.sign,h=t.symbol,d=t.zero,p=t.width,g=t.comma,m=t.precision,y=t.trim,b=t.type;"n"===b?(g=!0,b="g"):Ss[b]||(void 0===m&&(m=12),y=!0,b="g"),(d||"0"===u&&"="===f)&&(d=!0,u="0",f="=");var v="$"===h?e:"#"===h&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",_="$"===h?r:/[%p]/.test(b)?a:"",x=Ss[b],w=/[defgprs%]/.test(b);function $(t){var e,r,a,h=v,$=_;if("c"===b)$=x(t)+$,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?s:x(Math.abs(t),m),y&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),M&&0==+t&&"+"!==l&&(M=!1),h=(M?"("===l?l:c:"-"===l||"("===l?"":l)+h,$=("s"===b?Os[8+Ms/3]:"")+$+(M&&"("===l?")":""),w)for(e=-1,r=t.length;++e<r;)if(48>(a=t.charCodeAt(e))||a>57){$=(46===a?i+t.slice(e+1):t.slice(e))+$,t=t.slice(0,e);break}}g&&!d&&(t=n(t,1/0));var k=h.length+t.length+$.length,T=k<p?new Array(p-k+1).join(u):"";switch(g&&d&&(t=n(T+t,T.length?p-$.length:1/0),T=""),f){case"<":t=h+t+$+T;break;case"=":t=h+T+t+$;break;case"^":t=T.slice(0,k=T.length>>1)+h+t+$+T.slice(k);break;default:t=T+h+t+$}return o(t)}return m=void 0===m?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),$.toString=function(){return t+""},$}return{format:u,formatPrefix:function(t,n){var e=u(((t=Ts(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor($s(n)/3))),i=Math.pow(10,-r),o=Os[8+r/3];return function(t){return e(i*t)+o}}}}!function(t){Cs=Fs(t),Ls=Cs.format,Ds=Cs.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});var js=1e-6,zs=Math.PI,Rs=zs/2,Ps=zs/4,qs=2*zs,Is=180/zs,Hs=zs/180,Ys=Math.abs,Bs=Math.atan,Ws=Math.atan2,Vs=Math.cos,Xs=Math.exp,Zs=Math.log,Gs=Math.pow,Js=Math.sin,Qs=Math.sign||function(t){return t>0?1:t<0?-1:0},Ks=Math.sqrt,tu=Math.tan;function nu(t){return t>1?0:t<-1?zs:Math.acos(t)}function eu(t){return t>1?Rs:t<-1?-Rs:Math.asin(t)}function ru(){}function iu(t,n){t&&au.hasOwnProperty(t.type)&&au[t.type](t,n)}var ou={Feature:function(t,n){iu(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)iu(e[r].geometry,n)}},au={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){cu(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)cu(e[r],n,0)},Polygon:function(t,n){su(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)su(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)iu(e[r],n)}};function cu(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function su(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)cu(t[e],n,1);n.polygonEnd()}function uu(t,n){t&&ou.hasOwnProperty(t.type)?ou[t.type](t,n):iu(t,n)}function fu(t){return[Ws(t[1],t[0]),eu(t[2])]}function lu(t){var n=t[0],e=t[1],r=Vs(e);return[r*Vs(n),r*Js(n),Js(e)]}function hu(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function du(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function pu(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function gu(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function mu(t){var n=Ks(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function yu(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function bu(t,n){return Ys(t)>zs&&(t-=Math.round(t/qs)*qs),[t,n]}function vu(t,n,e){return(t%=qs)?n||e?yu(xu(t),wu(n,e)):xu(t):n||e?wu(n,e):bu}function _u(t){return function(n,e){return Ys(n+=t)>zs&&(n-=Math.round(n/qs)*qs),[n,e]}}function xu(t){var n=_u(t);return n.invert=_u(-t),n}function wu(t,n){var e=Vs(t),r=Js(t),i=Vs(n),o=Js(n);function a(t,n){var a=Vs(n),c=Vs(t)*a,s=Js(t)*a,u=Js(n),f=u*e+c*r;return[Ws(s*i-f*o,c*e-u*r),eu(f*i+s*o)]}return a.invert=function(t,n){var a=Vs(n),c=Vs(t)*a,s=Js(t)*a,u=Js(n),f=u*i-s*o;return[Ws(s*i+u*o,c*e+f*r),eu(f*e-c*r)]},a}function $u(t,n){(n=lu(n))[0]-=t,mu(n);var e=nu(-n[1]);return((-n[2]<0?-e:e)+qs-js)%qs}function Mu(){var t,n=[];return{point:function(n,e,r){t.push([n,e,r])},lineStart:function(){n.push(t=[])},lineEnd:ru,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function ku(t,n){return Ys(t[0]-n[0])<js&&Ys(t[1]-n[1])<js}function Tu(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Au(t,n,e,r,i){var o,a,c=[],s=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],a=t[n];if(ku(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2*js}c.push(e=new Tu(r,t,null,!0)),s.push(e.o=new Tu(r,null,e,!1)),c.push(e=new Tu(a,t,null,!1)),s.push(e.o=new Tu(a,null,e,!0))}})),c.length){for(s.sort(n),Nu(c),Nu(s),o=0,a=s.length;o<a;++o)s[o].e=e=!e;for(var u,f,l=c[0];;){for(var h=l,d=!0;h.v;)if((h=h.n)===l)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=u.length;o<a;++o)i.point((f=u[o])[0],f[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(u=h.p.z,o=u.length-1;o>=0;--o)i.point((f=u[o])[0],f[1]);else r(h.x,h.p.x,-1,i);h=h.p}u=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}}function Nu(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function Su(t){return Ys(t[0])<=zs?t[0]:Qs(t[0])*((Ys(t[0])+zs)%qs-zs)}function Eu(t,n,e,r){return function(i){var o,a,c,s=n(i),u=Mu(),f=n(u),l=!1,h={point:d,lineStart:g,lineEnd:m,polygonStart:function(){h.point=y,h.lineStart=b,h.lineEnd=v,a=[],o=[]},polygonEnd:function(){h.point=d,h.lineStart=g,h.lineEnd=m,a=Ui(a);var t=function(t,n){var e=Su(n),r=n[1],i=Js(r),o=[Js(e),-Vs(e),0],a=0,c=0,s=new ai;1===i?r=Rs+js:-1===i&&(r=-Rs-js);for(var u=0,f=t.length;u<f;++u)if(h=(l=t[u]).length)for(var l,h,d=l[h-1],p=Su(d),g=d[1]/2+Ps,m=Js(g),y=Vs(g),b=0;b<h;++b,p=_,m=w,y=$,d=v){var v=l[b],_=Su(v),x=v[1]/2+Ps,w=Js(x),$=Vs(x),M=_-p,k=M>=0?1:-1,T=k*M,A=T>zs,N=m*w;if(s.add(Ws(N*k*Js(T),y*$+N*Vs(T))),a+=A?M+k*qs:M,A^p>=e^_>=e){var S=du(lu(d),lu(v));mu(S);var E=du(o,S);mu(E);var C=(A^M>=0?-1:1)*eu(E[2]);(r>C||r===C&&(S[0]||S[1]))&&(c+=A^M>=0?1:-1)}}return(a<-js||a<js&&s<-1e-12)^1&c}(o,r);a.length?(l||(i.polygonStart(),l=!0),Au(a,Lu,t,e,i)):t&&(l||(i.polygonStart(),l=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(n,e){t(n,e)&&i.point(n,e)}function p(t,n){s.point(t,n)}function g(){h.point=p,s.lineStart()}function m(){h.point=d,s.lineEnd()}function y(t,n){c.push([t,n]),f.point(t,n)}function b(){f.lineStart(),c=[]}function v(){y(c[0][0],c[0][1]),f.lineEnd();var t,n,e,r,s=f.clean(),h=u.result(),d=h.length;if(c.pop(),o.push(c),c=null,d)if(1&s){if((n=(e=h[0]).length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else d>1&&2&s&&h.push(h.pop().concat(h.shift())),a.push(h.filter(Cu))}return h}}function Cu(t){return t.length>1}function Lu(t,n){return((t=t.x)[0]<0?t[1]-Rs-js:Rs-t[1])-((n=n.x)[0]<0?n[1]-Rs-js:Rs-n[1])}bu.invert=bu;const Du=Eu((function(){return!0}),(function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,a){var c=o>0?zs:-zs,s=Ys(o-e);Ys(s-zs)<js?(t.point(e,r=(r+a)/2>0?Rs:-Rs),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(c,r),t.point(o,r),n=0):i!==c&&s>=zs&&(Ys(e-i)<js&&(e-=i*js),Ys(o-c)<js&&(o-=c*js),r=function(t,n,e,r){var i,o,a=Js(t-e);return Ys(a)>js?Bs((Js(n)*(o=Vs(r))*Js(e)-Js(r)*(i=Vs(n))*Js(t))/(i*o*a)):(n+r)/2}(e,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(c,r),n=0),t.point(e=o,r=a),i=c},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}),(function(t,n,e,r){var i;if(null==t)i=e*Rs,r.point(-zs,i),r.point(0,i),r.point(zs,i),r.point(zs,0),r.point(zs,-i),r.point(0,-i),r.point(-zs,-i),r.point(-zs,0),r.point(-zs,i);else if(Ys(t[0]-n[0])>js){var o=t[0]<n[0]?zs:-zs;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}),[-zs,-Rs]);function Uu(t){var n=Vs(t),e=6*Hs,r=n>0,i=Ys(n)>js;function o(t,e){return Vs(t)*Vs(e)>n}function a(t,e,r){var i=[1,0,0],o=du(lu(t),lu(e)),a=hu(o,o),c=o[0],s=a-c*c;if(!s)return!r&&t;var u=n*a/s,f=-n*c/s,l=du(i,o),h=gu(i,u);pu(h,gu(o,f));var d=l,p=hu(h,d),g=hu(d,d),m=p*p-g*(hu(h,h)-1);if(!(m<0)){var y=Ks(m),b=gu(d,(-p-y)/g);if(pu(b,h),b=fu(b),!r)return b;var v,_=t[0],x=e[0],w=t[1],$=e[1];x<_&&(v=_,_=x,x=v);var M=x-_,k=Ys(M-zs)<js;if(!k&&$<w&&(v=w,w=$,$=v),k||M<js?k?w+$>0^b[1]<(Ys(b[0]-_)<js?w:$):w<=b[1]&&b[1]<=$:M>zs^(_<=b[0]&&b[0]<=x)){var T=gu(d,(-p+y)/g);return pu(T,h),[b,fu(T)]}}}function c(n,e){var i=r?t:zs-t,o=0;return n<-i?o|=1:n>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return Eu(o,(function(t){var n,e,s,u,f;return{lineStart:function(){u=s=!1,f=1},point:function(l,h){var d,p=[l,h],g=o(l,h),m=r?g?0:c(l,h):g?c(l+(l<0?zs:-zs),h):0;if(!n&&(u=s=g)&&t.lineStart(),g!==s&&(!(d=a(n,p))||ku(n,d)||ku(p,d))&&(p[2]=1),g!==s)f=0,g?(t.lineStart(),d=a(p,n),t.point(d[0],d[1])):(d=a(n,p),t.point(d[0],d[1],2),t.lineEnd()),n=d;else if(i&&n&&r^g){var y;m&e||!(y=a(p,n,!0))||(f=0,r?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1],3)))}!g||n&&ku(n,p)||t.point(p[0],p[1]),n=p,s=g,e=m},lineEnd:function(){s&&t.lineEnd(),n=null},clean:function(){return f|(u&&s)<<1}}}),(function(n,r,i,o){!function(t,n,e,r,i,o){if(e){var a=Vs(n),c=Js(n),s=r*e;null==i?(i=n+r*qs,o=n-s/2):(i=$u(a,i),o=$u(a,o),(r>0?i<o:i>o)&&(i+=r*qs));for(var u,f=i;r>0?f>o:f<o;f-=s)u=fu([a,-c*Vs(f),-c*Js(f)]),t.point(u[0],u[1])}}(o,t,e,i,n,r)}),r?[0,-t]:[-zs,t-zs])}var Ou=1e9,Fu=-Ou;function ju(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,c,u){var f=0,l=0;if(null==i||(f=a(i,c))!==(l=a(o,c))||s(i,o)<0^c>0)do{u.point(0===f||3===f?t:e,f>1?r:n)}while((f=(f+c+4)%4)!==l);else u.point(o[0],o[1])}function a(r,i){return Ys(r[0]-t)<js?i>0?0:3:Ys(r[0]-e)<js?i>0?2:1:Ys(r[1]-n)<js?i>0?1:0:i>0?3:2}function c(t,n){return s(t.x,n.x)}function s(t,n){var e=a(t,1),r=a(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(a){var s,u,f,l,h,d,p,g,m,y,b,v=a,_=Mu(),x={point:w,lineStart:function(){x.point=$,u&&u.push(f=[]);y=!0,m=!1,p=g=NaN},lineEnd:function(){s&&($(l,h),d&&m&&_.rejoin(),s.push(_.result()));x.point=w,m&&v.lineEnd()},polygonStart:function(){v=_,s=[],u=[],b=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=u.length;e<i;++e)for(var o,a,c=u[e],s=1,f=c.length,l=c[0],h=l[0],d=l[1];s<f;++s)o=h,a=d,h=(l=c[s])[0],d=l[1],a<=r?d>r&&(h-o)*(r-a)>(d-a)*(t-o)&&++n:d<=r&&(h-o)*(r-a)<(d-a)*(t-o)&&--n;return n}(),e=b&&n,i=(s=Ui(s)).length;(e||i)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&Au(s,c,n,o,a),a.polygonEnd());v=a,s=u=f=null}};function w(t,n){i(t,n)&&v.point(t,n)}function $(o,a){var c=i(o,a);if(u&&f.push([o,a]),y)l=o,h=a,d=c,y=!1,c&&(v.lineStart(),v.point(o,a));else if(c&&m)v.point(o,a);else{var s=[p=Math.max(Fu,Math.min(Ou,p)),g=Math.max(Fu,Math.min(Ou,g))],_=[o=Math.max(Fu,Math.min(Ou,o)),a=Math.max(Fu,Math.min(Ou,a))];!function(t,n,e,r,i,o){var a,c=t[0],s=t[1],u=0,f=1,l=n[0]-c,h=n[1]-s;if(a=e-c,l||!(a>0)){if(a/=l,l<0){if(a<u)return;a<f&&(f=a)}else if(l>0){if(a>f)return;a>u&&(u=a)}if(a=i-c,l||!(a<0)){if(a/=l,l<0){if(a>f)return;a>u&&(u=a)}else if(l>0){if(a<u)return;a<f&&(f=a)}if(a=r-s,h||!(a>0)){if(a/=h,h<0){if(a<u)return;a<f&&(f=a)}else if(h>0){if(a>f)return;a>u&&(u=a)}if(a=o-s,h||!(a<0)){if(a/=h,h<0){if(a>f)return;a>u&&(u=a)}else if(h>0){if(a<u)return;a<f&&(f=a)}return u>0&&(t[0]=c+u*l,t[1]=s+u*h),f<1&&(n[0]=c+f*l,n[1]=s+f*h),!0}}}}}(s,_,t,n,e,r)?c&&(v.lineStart(),v.point(o,a),b=!1):(m||(v.lineStart(),v.point(s[0],s[1])),v.point(_[0],_[1]),c||v.lineEnd(),b=!1)}p=o,g=a,m=c}return x}}const zu=t=>t;var Ru,Pu,qu,Iu,Hu=new ai,Yu=new ai,Bu={point:ru,lineStart:ru,lineEnd:ru,polygonStart:function(){Bu.lineStart=Wu,Bu.lineEnd=Zu},polygonEnd:function(){Bu.lineStart=Bu.lineEnd=Bu.point=ru,Hu.add(Ys(Yu)),Yu=new ai},result:function(){var t=Hu/2;return Hu=new ai,t}};function Wu(){Bu.point=Vu}function Vu(t,n){Bu.point=Xu,Ru=qu=t,Pu=Iu=n}function Xu(t,n){Yu.add(Iu*t-qu*n),qu=t,Iu=n}function Zu(){Xu(Ru,Pu)}const Gu=Bu;var Ju=1/0,Qu=Ju,Ku=-Ju,tf=Ku,nf={point:function(t,n){t<Ju&&(Ju=t);t>Ku&&(Ku=t);n<Qu&&(Qu=n);n>tf&&(tf=n)},lineStart:ru,lineEnd:ru,polygonStart:ru,polygonEnd:ru,result:function(){var t=[[Ju,Qu],[Ku,tf]];return Ku=tf=-(Qu=Ju=1/0),t}};const ef=nf;var rf,of,af,cf,sf=0,uf=0,ff=0,lf=0,hf=0,df=0,pf=0,gf=0,mf=0,yf={point:bf,lineStart:vf,lineEnd:wf,polygonStart:function(){yf.lineStart=$f,yf.lineEnd=Mf},polygonEnd:function(){yf.point=bf,yf.lineStart=vf,yf.lineEnd=wf},result:function(){var t=mf?[pf/mf,gf/mf]:df?[lf/df,hf/df]:ff?[sf/ff,uf/ff]:[NaN,NaN];return sf=uf=ff=lf=hf=df=pf=gf=mf=0,t}};function bf(t,n){sf+=t,uf+=n,++ff}function vf(){yf.point=_f}function _f(t,n){yf.point=xf,bf(af=t,cf=n)}function xf(t,n){var e=t-af,r=n-cf,i=Ks(e*e+r*r);lf+=i*(af+t)/2,hf+=i*(cf+n)/2,df+=i,bf(af=t,cf=n)}function wf(){yf.point=bf}function $f(){yf.point=kf}function Mf(){Tf(rf,of)}function kf(t,n){yf.point=Tf,bf(rf=af=t,of=cf=n)}function Tf(t,n){var e=t-af,r=n-cf,i=Ks(e*e+r*r);lf+=i*(af+t)/2,hf+=i*(cf+n)/2,df+=i,pf+=(i=cf*t-af*n)*(af+t),gf+=i*(cf+n),mf+=3*i,bf(af=t,cf=n)}const Af=yf;function Nf(t){this._context=t}Nf.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,qs)}},result:ru};var Sf,Ef,Cf,Lf,Df,Uf=new ai,Of={point:ru,lineStart:function(){Of.point=Ff},lineEnd:function(){Sf&&jf(Ef,Cf),Of.point=ru},polygonStart:function(){Sf=!0},polygonEnd:function(){Sf=null},result:function(){var t=+Uf;return Uf=new ai,t}};function Ff(t,n){Of.point=jf,Ef=Lf=t,Cf=Df=n}function jf(t,n){Lf-=t,Df-=n,Uf.add(Ks(Lf*Lf+Df*Df)),Lf=t,Df=n}const zf=Of;let Rf,Pf,qf,If;class Hf{constructor(t){this._append=null==t?Yf:function(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return Yf;if(n!==Rf){const t=10**n;Rf=n,Pf=function(n){let e=1;this._+=n[0];for(const r=n.length;e<r;++e)this._+=Math.round(arguments[e]*t)/t+n[e]}}return Pf}(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:this._append`M${t},${n}`,this._point=1;break;case 1:this._append`L${t},${n}`;break;default:if(this._append`M${t},${n}`,this._radius!==qf||this._append!==Pf){const t=this._radius,n=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,qf=t,Pf=this._append,If=this._,this._=n}this._+=If}}result(){const t=this._;return this._="",t.length?t:null}}function Yf(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Bf(t,n){let e,r,i=3,o=4.5;function a(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),uu(t,e(r))),r.result()}return a.area=function(t){return uu(t,e(Gu)),Gu.result()},a.measure=function(t){return uu(t,e(zf)),zf.result()},a.bounds=function(t){return uu(t,e(ef)),ef.result()},a.centroid=function(t){return uu(t,e(Af)),Af.result()},a.projection=function(n){return arguments.length?(e=null==n?(t=null,zu):(t=n).stream,a):t},a.context=function(t){return arguments.length?(r=null==t?(n=null,new Hf(i)):new Nf(n=t),"function"!=typeof o&&r.pointRadius(o),a):n},a.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),a):o},a.digits=function(t){if(!arguments.length)return i;if(null==t)i=null;else{const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);i=n}return null===n&&(r=new Hf(i)),a},a.projection(t).digits(i).context(n)}function Wf(t){return{stream:Vf(t)}}function Vf(t){return function(n){var e=new Xf;for(var r in t)e[r]=t[r];return e.stream=n,e}}function Xf(){}function Zf(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),uu(e,t.stream(ef)),n(ef.result()),null!=r&&t.clipExtent(r),t}function Gf(t,n,e){return Zf(t,(function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),a=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,c=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([a,c])}),e)}function Jf(t,n,e){return Gf(t,[[0,0],n],e)}function Qf(t,n,e){return Zf(t,(function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,a=-i*e[0][1];t.scale(150*i).translate([o,a])}),e)}function Kf(t,n,e){return Zf(t,(function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],a=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,a])}),e)}Xf.prototype={constructor:Xf,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var tl=Vs(30*Hs);function nl(t,n){return+n?function(t,n){function e(r,i,o,a,c,s,u,f,l,h,d,p,g,m){var y=u-r,b=f-i,v=y*y+b*b;if(v>4*n&&g--){var _=a+h,x=c+d,w=s+p,$=Ks(_*_+x*x+w*w),M=eu(w/=$),k=Ys(Ys(w)-1)<js||Ys(o-l)<js?(o+l)/2:Ws(x,_),T=t(k,M),A=T[0],N=T[1],S=A-r,E=N-i,C=b*S-y*E;(C*C/v>n||Ys((y*S+b*E)/v-.5)>.3||a*h+c*d+s*p<tl)&&(e(r,i,o,a,c,s,A,N,k,_/=$,x/=$,w,g,m),m.point(A,N),e(A,N,k,_,x,w,u,f,l,h,d,p,g,m))}}return function(n){var r,i,o,a,c,s,u,f,l,h,d,p,g={point:m,lineStart:y,lineEnd:v,polygonStart:function(){n.polygonStart(),g.lineStart=_},polygonEnd:function(){n.polygonEnd(),g.lineStart=y}};function m(e,r){e=t(e,r),n.point(e[0],e[1])}function y(){f=NaN,g.point=b,n.lineStart()}function b(r,i){var o=lu([r,i]),a=t(r,i);e(f,l,u,h,d,p,f=a[0],l=a[1],u=r,h=o[0],d=o[1],p=o[2],16,n),n.point(f,l)}function v(){g.point=m,n.lineEnd()}function _(){y(),g.point=x,g.lineEnd=w}function x(t,n){b(r=t,n),i=f,o=l,a=h,c=d,s=p,g.point=b}function w(){e(f,l,u,h,d,p,i,o,r,a,c,s,16,n),g.lineEnd=v,v()}return g}}(t,n):function(t){return Vf({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var el=Vf({point:function(t,n){this.stream.point(t*Hs,n*Hs)}});function rl(t,n,e,r,i,o){if(!o)return function(t,n,e,r,i){function o(o,a){return[n+t*(o*=r),e-t*(a*=i)]}return o.invert=function(o,a){return[(o-n)/t*r,(e-a)/t*i]},o}(t,n,e,r,i);var a=Vs(o),c=Js(o),s=a*t,u=c*t,f=a/t,l=c/t,h=(c*e-a*n)/t,d=(c*n+a*e)/t;function p(t,o){return[s*(t*=r)-u*(o*=i)+n,e-u*t-s*o]}return p.invert=function(t,n){return[r*(f*t-l*n+h),i*(d-l*t-f*n)]},p}function il(t){return ol((function(){return t}))()}function ol(t){var n,e,r,i,o,a,c,s,u,f,l=150,h=480,d=250,p=0,g=0,m=0,y=0,b=0,v=0,_=1,x=1,w=null,$=Du,M=null,k=zu,T=.5;function A(t){return s(t[0]*Hs,t[1]*Hs)}function N(t){return(t=s.invert(t[0],t[1]))&&[t[0]*Is,t[1]*Is]}function S(){var t=rl(l,0,0,_,x,v).apply(null,n(p,g)),r=rl(l,h-t[0],d-t[1],_,x,v);return e=vu(m,y,b),c=yu(n,r),s=yu(e,c),a=nl(c,T),E()}function E(){return u=f=null,A}return A.stream=function(t){return u&&f===t?u:u=el(function(t){return Vf({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)($(a(k(f=t)))))},A.preclip=function(t){return arguments.length?($=t,w=void 0,E()):$},A.postclip=function(t){return arguments.length?(k=t,M=r=i=o=null,E()):k},A.clipAngle=function(t){return arguments.length?($=+t?Uu(w=t*Hs):(w=null,Du),E()):w*Is},A.clipExtent=function(t){return arguments.length?(k=null==t?(M=r=i=o=null,zu):ju(M=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),E()):null==M?null:[[M,r],[i,o]]},A.scale=function(t){return arguments.length?(l=+t,S()):l},A.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],S()):[h,d]},A.center=function(t){return arguments.length?(p=t[0]%360*Hs,g=t[1]%360*Hs,S()):[p*Is,g*Is]},A.rotate=function(t){return arguments.length?(m=t[0]%360*Hs,y=t[1]%360*Hs,b=t.length>2?t[2]%360*Hs:0,S()):[m*Is,y*Is,b*Is]},A.angle=function(t){return arguments.length?(v=t%360*Hs,S()):v*Is},A.reflectX=function(t){return arguments.length?(_=t?-1:1,S()):_<0},A.reflectY=function(t){return arguments.length?(x=t?-1:1,S()):x<0},A.precision=function(t){return arguments.length?(a=nl(c,T=t*t),E()):Ks(T)},A.fitExtent=function(t,n){return Gf(A,t,n)},A.fitSize=function(t,n){return Jf(A,t,n)},A.fitWidth=function(t,n){return Qf(A,t,n)},A.fitHeight=function(t,n){return Kf(A,t,n)},function(){return n=t.apply(this,arguments),A.invert=n.invert&&N,S()}}function al(t){var n=0,e=zs/3,r=ol(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*Hs,e=t[1]*Hs):[n*Is,e*Is]},i}function cl(t,n){var e=Js(t),r=(e+Js(n))/2;if(Ys(r)<js)return function(t){var n=Vs(t);function e(t,e){return[t*n,Js(e)/n]}return e.invert=function(t,e){return[t/n,eu(e*n)]},e}(t);var i=1+e*(2*r-e),o=Ks(i)/r;function a(t,n){var e=Ks(i-2*r*Js(n))/r;return[e*Js(t*=r),o-e*Vs(t)]}return a.invert=function(t,n){var e=o-n,a=Ws(t,Ys(e))*Qs(e);return e*r<0&&(a-=zs*Qs(t)*Qs(e)),[a/r,eu((i-(t*t+e*e)*r*r)/(2*r))]},a}function sl(){return al(cl).scale(155.424).center([0,33.6442])}function ul(){return sl().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function fl(){var t,n,e,r,i,o,a=ul(),c=sl().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=sl().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,n){o=[t,n]}};function f(t){var n=t[0],a=t[1];return o=null,e.point(n,a),o||(r.point(n,a),o)||(i.point(n,a),o)}function l(){return t=n=null,f}return f.invert=function(t){var n=a.scale(),e=a.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?c:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:a).invert(t)},f.stream=function(e){return t&&n===e?t:t=function(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}([a.stream(n=e),c.stream(e),s.stream(e)])},f.precision=function(t){return arguments.length?(a.precision(t),c.precision(t),s.precision(t),l()):a.precision()},f.scale=function(t){return arguments.length?(a.scale(t),c.scale(.35*t),s.scale(t),f.translate(a.translate())):a.scale()},f.translate=function(t){if(!arguments.length)return a.translate();var n=a.scale(),o=+t[0],f=+t[1];return e=a.translate(t).clipExtent([[o-.455*n,f-.238*n],[o+.455*n,f+.238*n]]).stream(u),r=c.translate([o-.307*n,f+.201*n]).clipExtent([[o-.425*n+js,f+.12*n+js],[o-.214*n-js,f+.234*n-js]]).stream(u),i=s.translate([o-.205*n,f+.212*n]).clipExtent([[o-.214*n+js,f+.166*n+js],[o-.115*n-js,f+.234*n-js]]).stream(u),l()},f.fitExtent=function(t,n){return Gf(f,t,n)},f.fitSize=function(t,n){return Jf(f,t,n)},f.fitWidth=function(t,n){return Qf(f,t,n)},f.fitHeight=function(t,n){return Kf(f,t,n)},f.scale(1070)}function ll(t){return function(n,e){var r=Vs(n),i=Vs(e),o=t(r*i);return o===1/0?[2,0]:[o*i*Js(n),o*Js(e)]}}function hl(t){return function(n,e){var r=Ks(n*n+e*e),i=t(r),o=Js(i),a=Vs(i);return[Ws(n*o,r*a),eu(r&&e*o/r)]}}var dl=ll((function(t){return Ks(2/(1+t))}));function pl(){return il(dl).scale(124.75).clipAngle(179.999)}dl.invert=hl((function(t){return 2*eu(t/2)}));var gl=ll((function(t){return(t=nu(t))&&t/Js(t)}));function ml(){return il(gl).scale(79.4188).clipAngle(179.999)}function yl(t,n){return[t,Zs(tu((Rs+n)/2))]}function bl(){return vl(yl).scale(961/qs)}function vl(t){var n,e,r,i=il(t),o=i.center,a=i.scale,c=i.translate,s=i.clipExtent,u=null;function f(){var o=zs*a(),c=i(function(t){function n(n){return(n=t(n[0]*Hs,n[1]*Hs))[0]*=Is,n[1]*=Is,n}return t=vu(t[0]*Hs,t[1]*Hs,t.length>2?t[2]*Hs:0),n.invert=function(n){return(n=t.invert(n[0]*Hs,n[1]*Hs))[0]*=Is,n[1]*=Is,n},n}(i.rotate()).invert([0,0]));return s(null==u?[[c[0]-o,c[1]-o],[c[0]+o,c[1]+o]]:t===yl?[[Math.max(c[0]-o,u),n],[Math.min(c[0]+o,e),r]]:[[u,Math.max(c[1]-o,n)],[e,Math.min(c[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),f()):a()},i.translate=function(t){return arguments.length?(c(t),f()):c()},i.center=function(t){return arguments.length?(o(t),f()):o()},i.clipExtent=function(t){return arguments.length?(null==t?u=n=e=r=null:(u=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),f()):null==u?null:[[u,n],[e,r]]},f()}function _l(t){return tu((Rs+t)/2)}function xl(t,n){var e=Vs(t),r=t===n?Js(t):Zs(e/Vs(n))/Zs(_l(n)/_l(t)),i=e*Gs(_l(t),r)/r;if(!r)return yl;function o(t,n){i>0?n<-Rs+js&&(n=-Rs+js):n>Rs-js&&(n=Rs-js);var e=i/Gs(_l(n),r);return[e*Js(r*t),i-e*Vs(r*t)]}return o.invert=function(t,n){var e=i-n,o=Qs(r)*Ks(t*t+e*e),a=Ws(t,Ys(e))*Qs(e);return e*r<0&&(a-=zs*Qs(t)*Qs(e)),[a/r,2*Bs(Gs(i/o,1/r))-Rs]},o}function wl(){return al(xl).scale(109.5).parallels([30,30])}function $l(t,n){return[t,n]}function Ml(){return il($l).scale(152.63)}function kl(t,n){var e=Vs(t),r=t===n?Js(t):(e-Vs(n))/(n-t),i=e/r+t;if(Ys(r)<js)return $l;function o(t,n){var e=i-n,o=r*t;return[e*Js(o),i-e*Vs(o)]}return o.invert=function(t,n){var e=i-n,o=Ws(t,Ys(e))*Qs(e);return e*r<0&&(o-=zs*Qs(t)*Qs(e)),[o/r,i-Qs(r)*Ks(t*t+e*e)]},o}function Tl(){return al(kl).scale(131.154).center([0,13.9389])}gl.invert=hl((function(t){return t})),yl.invert=function(t,n){return[t,2*Bs(Xs(n))-Rs]},$l.invert=$l;var Al=1.340264,Nl=-.081106,Sl=893e-6,El=.003796,Cl=Ks(3)/2;function Ll(t,n){var e=eu(Cl*Js(n)),r=e*e,i=r*r*r;return[t*Vs(e)/(Cl*(Al+3*Nl*r+i*(7*Sl+9*El*r))),e*(Al+Nl*r+i*(Sl+El*r))]}function Dl(){return il(Ll).scale(177.158)}function Ul(t,n){var e=Vs(n),r=Vs(t)*e;return[e*Js(t)/r,Js(n)/r]}function Ol(){return il(Ul).scale(144.049).clipAngle(60)}function Fl(t,n){return[Vs(n)*Js(t),Js(n)]}function jl(){return il(Fl).scale(249.5).clipAngle(90+js)}function zl(t,n){var e=Vs(n),r=1+Vs(t)*e;return[e*Js(t)/r,Js(n)/r]}function Rl(){return il(zl).scale(250).clipAngle(142)}function Pl(t,n){return[Zs(tu((Rs+n)/2)),-t]}function ql(){var t=vl(Pl),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90]).scale(159.155)}Ll.invert=function(t,n){for(var e,r=n,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=e=(r*(Al+Nl*i+o*(Sl+El*i))-n)/(Al+3*Nl*i+o*(7*Sl+9*El*i)))*r)*i*i,!(Ys(e)<1e-12));++a);return[Cl*t*(Al+3*Nl*i+o*(7*Sl+9*El*i))/Vs(r),eu(Js(r)/Cl)]},Ul.invert=hl(Bs),Fl.invert=hl(eu),zl.invert=hl((function(t){return 2*Bs(t)})),Pl.invert=function(t,n){return[-n,2*Bs(Xs(t))-Rs]};const Il=t=>()=>t;function Hl(t,n){return function(e){return t+e*n}}function Yl(t,n){var e=n-t;return e?Hl(t,e>180||e<-180?e-360*Math.round(e/360):e):Il(isNaN(t)?n:t)}function Bl(t){return 1==(t=+t)?Wl:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Il(isNaN(n)?e:n)}}function Wl(t,n){var e=n-t;return e?Hl(t,e):Il(isNaN(t)?n:t)}const Vl=function t(n){var e=Bl(n);function r(t,n){var r=e((t=Wc(t)).r,(n=Wc(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=Wl(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function Xl(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}function Zl(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=eh(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}function Gl(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function Jl(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Ql(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=eh(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var Kl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,th=new RegExp(Kl.source,"g");function nh(t,n){var e,r,i,o=Kl.lastIndex=th.lastIndex=0,a=-1,c=[],s=[];for(t+="",n+="";(e=Kl.exec(t))&&(r=th.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),c[a]?c[a]+=i:c[++a]=i),(e=e[0])===(r=r[0])?c[a]?c[a]+=r:c[++a]=r:(c[++a]=null,s.push({i:a,x:Jl(e,r)})),o=th.lastIndex;return o<n.length&&(i=n.slice(o),c[a]?c[a]+=i:c[++a]=i),c.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)c[(e=s[r]).i]=e.x(t);return c.join("")})}function eh(t,n){var e,r=typeof n;return null==n||"boolean"===r?Il(n):("number"===r?Jl:"string"===r?(e=Ic(n))?(n=e,Vl):nh:n instanceof Ic?Vl:n instanceof Date?Gl:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(n)?Xl:Array.isArray(n)?Zl:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?Ql:Jl)(t,n)}function rh(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}const ih=function(t){return function(n,e){var r=t((n=ns(n)).h,(e=ns(e)).h),i=Wl(n.s,e.s),o=Wl(n.l,e.l),a=Wl(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=i(t),n.l=o(t),n.opacity=a(t),n+""}}}(Yl);const oh=function(t){return function(n,e){var r=t((n=vs(n)).h,(e=vs(e)).h),i=Wl(n.c,e.c),o=Wl(n.l,e.l),a=Wl(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=o(t),n.opacity=a(t),n+""}}}(Yl);function ah(t,n){void 0===n&&(n=t,t=eh);for(var e=0,r=n.length-1,i=n[0],o=new Array(r<0?0:r);e<r;)o[e]=t(i,i=n[++e]);return function(t){var n=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[n](t-n)}}function ch(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}function sh(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function uh(t,n){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof n?this.interpolator(n):this.range(n)}return this}const fh=Symbol("implicit");function lh(){var t=new Ot,n=[],e=[],r=fh;function i(i){let o=t.get(i);if(void 0===o){if(r!==fh)return r;t.set(i,o=n.push(i)-1)}return e[o%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new Ot;for(const r of e)t.has(r)||t.set(r,n.push(r)-1);return i},i.range=function(t){return arguments.length?(e=Array.from(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return lh(n,e).unknown(r)},sh.apply(i,arguments),i}function hh(){var t,n,e=lh().unknown(void 0),r=e.domain,i=e.range,o=0,a=1,c=!1,s=0,u=0,f=.5;function l(){var e=r().length,l=a<o,h=l?a:o,d=l?o:a;t=(d-h)/Math.max(1,e-s+2*u),c&&(t=Math.floor(t)),h+=(d-h-t*(e-s))*f,n=t*(1-s),c&&(h=Math.round(h),n=Math.round(n));var p=Fi(e).map((function(n){return h+t*n}));return i(l?p.reverse():p)}return delete e.unknown,e.domain=function(t){return arguments.length?(r(t),l()):r()},e.range=function(t){return arguments.length?([o,a]=t,o=+o,a=+a,l()):[o,a]},e.rangeRound=function(t){return[o,a]=t,o=+o,a=+a,c=!0,l()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(c=!!t,l()):c},e.padding=function(t){return arguments.length?(s=Math.min(1,u=+t),l()):s},e.paddingInner=function(t){return arguments.length?(s=Math.min(1,t),l()):s},e.paddingOuter=function(t){return arguments.length?(u=+t,l()):u},e.align=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),l()):f},e.copy=function(){return hh(r(),[o,a]).round(c).paddingInner(s).paddingOuter(u).align(f)},sh.apply(l(),arguments)}function dh(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return dh(n())},t}function ph(t){return+t}var gh=[0,1];function mh(t){return t}function yh(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:function(t){return function(){return t}}(isNaN(n)?NaN:.5)}function bh(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=yh(i,r),o=e(a,o)):(r=yh(r,i),o=e(o,a)),function(t){return o(r(t))}}function vh(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=yh(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=Qr(t,n,1,r)-1;return o[e](i[e](n))}}function _h(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function xh(){var t,n,e,r,i,o,a=gh,c=gh,s=eh,u=mh;function f(){var t=Math.min(a.length,c.length);return u!==mh&&(u=function(t,n){var e;return t>n&&(e=t,t=n,n=e),function(e){return Math.max(t,Math.min(n,e))}}(a[0],a[t-1])),r=t>2?vh:bh,i=o=null,l}function l(n){return null==n||isNaN(n=+n)?e:(i||(i=r(a.map(t),c,s)))(t(u(n)))}return l.invert=function(e){return u(n((o||(o=r(c,a.map(t),Jl)))(e)))},l.domain=function(t){return arguments.length?(a=Array.from(t,ph),f()):a.slice()},l.range=function(t){return arguments.length?(c=Array.from(t),f()):c.slice()},l.rangeRound=function(t){return c=Array.from(t),s=rh,f()},l.clamp=function(t){return arguments.length?(u=!!t||mh,f()):u!==mh},l.interpolate=function(t){return arguments.length?(s=t,f()):s},l.unknown=function(t){return arguments.length?(e=t,l):e},function(e,r){return t=e,n=r,f()}}function wh(){return xh()(mh,mh)}function $h(t,n,e,r){var i,o=wi(t,n,e);switch((r=Ts(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor($s(n)/3)))-$s(Math.abs(t)))}(o,a))||(r.precision=i),Ds(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,$s(n)-$s(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-$s(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Ls(r)}function Mh(t){var n=t.domain;return t.ticks=function(t){var e=n();return _i(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return $h(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,o=n(),a=0,c=o.length-1,s=o[a],u=o[c],f=10;for(u<s&&(i=s,s=u,u=i,i=a,a=c,c=i);f-- >0;){if((i=xi(s,u,e))===r)return o[a]=s,o[c]=u,n(o);if(i>0)s=Math.floor(s/i)*i,u=Math.ceil(u/i)*i;else{if(!(i<0))break;s=Math.ceil(s*i)/i,u=Math.floor(u*i)/i}r=i}return t},t}function kh(){var t=wh();return t.copy=function(){return _h(t,kh())},sh.apply(t,arguments),Mh(t)}function Th(t){var n;function e(t){return null==t||isNaN(t=+t)?n:t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=Array.from(n,ph),e):t.slice()},e.unknown=function(t){return arguments.length?(n=t,e):n},e.copy=function(){return Th(t).unknown(n)},t=arguments.length?Array.from(t,ph):[0,1],Mh(e)}function Ah(t,n){var e,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(e=r,r=i,i=e,e=o,o=a,a=e),t[r]=n.floor(o),t[i]=n.ceil(a),t}function Nh(t){return Math.log(t)}function Sh(t){return Math.exp(t)}function Eh(t){return-Math.log(-t)}function Ch(t){return-Math.exp(-t)}function Lh(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Dh(t){return(n,e)=>-t(-n,e)}function Uh(t){const n=t(Nh,Sh),e=n.domain;let r,i,o=10;function a(){return r=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}(o),i=function(t){return 10===t?Lh:t===Math.E?Math.exp:n=>Math.pow(t,n)}(o),e()[0]<0?(r=Dh(r),i=Dh(i),t(Eh,Ch)):t(Nh,Sh),n}return n.base=function(t){return arguments.length?(o=+t,a()):o},n.domain=function(t){return arguments.length?(e(t),a()):e()},n.ticks=t=>{const n=e();let a=n[0],c=n[n.length-1];const s=c<a;s&&([a,c]=[c,a]);let u,f,l=r(a),h=r(c);const d=null==t?10:+t;let p=[];if(!(o%1)&&h-l<d){if(l=Math.floor(l),h=Math.ceil(h),a>0){for(;l<=h;++l)for(u=1;u<o;++u)if(f=l<0?u/i(-l):u*i(l),!(f<a)){if(f>c)break;p.push(f)}}else for(;l<=h;++l)for(u=o-1;u>=1;--u)if(f=l>0?u/i(-l):u*i(l),!(f<a)){if(f>c)break;p.push(f)}2*p.length<d&&(p=_i(a,c,d))}else p=_i(l,h,Math.min(h-l,d)).map(i);return s?p.reverse():p},n.tickFormat=(t,e)=>{if(null==t&&(t=10),null==e&&(e=10===o?"s":","),"function"!=typeof e&&(o%1||null!=(e=Ts(e)).precision||(e.trim=!0),e=Ls(e)),t===1/0)return e;const a=Math.max(1,o*t/n.ticks().length);return t=>{let n=t/i(Math.round(r(t)));return n*o<o-.5&&(n*=o),n<=a?e(t):""}},n.nice=()=>e(Ah(e(),{floor:t=>i(Math.floor(r(t))),ceil:t=>i(Math.ceil(r(t)))})),n}function Oh(){const t=Uh(xh()).domain([1,10]);return t.copy=()=>_h(t,Oh()).base(t.base()),sh.apply(t,arguments),t}function Fh(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function jh(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function zh(t){var n=1,e=t(Fh(n),jh(n));return e.constant=function(e){return arguments.length?t(Fh(n=+e),jh(n)):n},Mh(e)}function Rh(){var t=zh(xh());return t.copy=function(){return _h(t,Rh()).constant(t.constant())},sh.apply(t,arguments)}function Ph(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function qh(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Ih(t){return t<0?-t*t:t*t}function Hh(t){var n=t(mh,mh),e=1;function r(){return 1===e?t(mh,mh):.5===e?t(qh,Ih):t(Ph(e),Ph(1/e))}return n.exponent=function(t){return arguments.length?(e=+t,r()):e},Mh(n)}function Yh(){var t=Hh(xh());return t.copy=function(){return _h(t,Yh()).exponent(t.exponent())},sh.apply(t,arguments),t}function Bh(){var t,n=[],e=[],r=[];function i(){var t=0,i=Math.max(1,e.length);for(r=new Array(i-1);++t<i;)r[t-1]=Ci(n,t/i);return o}function o(n){return null==n||isNaN(n=+n)?t:e[Qr(r,n)]}return o.invertExtent=function(t){var i=e.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:n[0],i<r.length?r[i]:n[n.length-1]]},o.domain=function(t){if(!arguments.length)return n.slice();n=[];for(let e of t)null==e||isNaN(e=+e)||n.push(e);return n.sort(Wr),i()},o.range=function(t){return arguments.length?(e=Array.from(t),i()):e.slice()},o.unknown=function(n){return arguments.length?(t=n,o):t},o.quantiles=function(){return r.slice()},o.copy=function(){return Bh().domain(n).range(e).unknown(t)},sh.apply(o,arguments)}function Wh(){var t,n=[.5],e=[0,1],r=1;function i(i){return null!=i&&i<=i?e[Qr(n,i,0,r)]:t}return i.domain=function(t){return arguments.length?(n=Array.from(t),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(t){return arguments.length?(e=Array.from(t),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(t){var r=e.indexOf(t);return[n[r-1],n[r]]},i.unknown=function(n){return arguments.length?(t=n,i):t},i.copy=function(){return Wh().domain(n).range(e).unknown(t)},sh.apply(i,arguments)}const Vh=new Date,Xh=new Date;function Zh(t,n,e,r){function i(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return i.floor=n=>(t(n=new Date(+n)),n),i.ceil=e=>(t(e=new Date(e-1)),n(e,1),t(e),e),i.round=t=>{const n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=(t,e)=>(n(t=new Date(+t),null==e?1:Math.floor(e)),t),i.range=(e,r,o)=>{const a=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return a;let c;do{a.push(c=new Date(+e)),n(e,o),t(e)}while(c<e&&e<r);return a},i.filter=e=>Zh((n=>{if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)}),((t,r)=>{if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););})),e&&(i.count=(n,r)=>(Vh.setTime(+n),Xh.setTime(+r),t(Vh),t(Xh),Math.floor(e(Vh,Xh))),i.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?n=>r(n)%t==0:n=>i.count(0,n)%t==0):i:null)),i}const Gh=Zh((()=>{}),((t,n)=>{t.setTime(+t+n)}),((t,n)=>n-t));Gh.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?Zh((n=>{n.setTime(Math.floor(n/t)*t)}),((n,e)=>{n.setTime(+n+e*t)}),((n,e)=>(e-n)/t)):Gh:null),Gh.range;const Jh=1e3,Qh=6e4,Kh=60*Qh,td=24*Kh,nd=7*td,ed=30*td,rd=365*td,id=Zh((t=>{t.setTime(t-t.getMilliseconds())}),((t,n)=>{t.setTime(+t+n*Jh)}),((t,n)=>(n-t)/Jh),(t=>t.getUTCSeconds()));id.range;const od=Zh((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Jh)}),((t,n)=>{t.setTime(+t+n*Qh)}),((t,n)=>(n-t)/Qh),(t=>t.getMinutes()));od.range;const ad=Zh((t=>{t.setUTCSeconds(0,0)}),((t,n)=>{t.setTime(+t+n*Qh)}),((t,n)=>(n-t)/Qh),(t=>t.getUTCMinutes()));ad.range;const cd=Zh((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Jh-t.getMinutes()*Qh)}),((t,n)=>{t.setTime(+t+n*Kh)}),((t,n)=>(n-t)/Kh),(t=>t.getHours()));cd.range;const sd=Zh((t=>{t.setUTCMinutes(0,0,0)}),((t,n)=>{t.setTime(+t+n*Kh)}),((t,n)=>(n-t)/Kh),(t=>t.getUTCHours()));sd.range;const ud=Zh((t=>t.setHours(0,0,0,0)),((t,n)=>t.setDate(t.getDate()+n)),((t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Qh)/td),(t=>t.getDate()-1));ud.range;const fd=Zh((t=>{t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCDate(t.getUTCDate()+n)}),((t,n)=>(n-t)/td),(t=>t.getUTCDate()-1));fd.range;const ld=Zh((t=>{t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCDate(t.getUTCDate()+n)}),((t,n)=>(n-t)/td),(t=>Math.floor(t/td)));function hd(t){return Zh((n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),((t,n)=>{t.setDate(t.getDate()+7*n)}),((t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Qh)/nd))}ld.range;const dd=hd(0),pd=hd(1),gd=hd(2),md=hd(3),yd=hd(4),bd=hd(5),vd=hd(6);function _d(t){return Zh((n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCDate(t.getUTCDate()+7*n)}),((t,n)=>(n-t)/nd))}dd.range,pd.range,gd.range,md.range,yd.range,bd.range,vd.range;const xd=_d(0),wd=_d(1),$d=_d(2),Md=_d(3),kd=_d(4),Td=_d(5),Ad=_d(6);xd.range,wd.range,$d.range,Md.range,kd.range,Td.range,Ad.range;const Nd=Zh((t=>{t.setDate(1),t.setHours(0,0,0,0)}),((t,n)=>{t.setMonth(t.getMonth()+n)}),((t,n)=>n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())),(t=>t.getMonth()));Nd.range;const Sd=Zh((t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)}),((t,n)=>n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())),(t=>t.getUTCMonth()));Sd.range;const Ed=Zh((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n)}),((t,n)=>n.getFullYear()-t.getFullYear()),(t=>t.getFullYear()));Ed.every=t=>isFinite(t=Math.floor(t))&&t>0?Zh((n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),((n,e)=>{n.setFullYear(n.getFullYear()+e*t)})):null,Ed.range;const Cd=Zh((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)}),((t,n)=>n.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));function Ld(t,n,e,r,i,o){const a=[[id,1,Jh],[id,5,5e3],[id,15,15e3],[id,30,3e4],[o,1,Qh],[o,5,5*Qh],[o,15,15*Qh],[o,30,30*Qh],[i,1,Kh],[i,3,3*Kh],[i,6,6*Kh],[i,12,12*Kh],[r,1,td],[r,2,2*td],[e,1,nd],[n,1,ed],[n,3,3*ed],[t,1,rd]];function c(n,e,r){const i=Math.abs(e-n)/r,o=Xr((([,,t])=>t)).right(a,i);if(o===a.length)return t.every(wi(n/rd,e/rd,r));if(0===o)return Gh.every(Math.max(wi(n,e,r),1));const[c,s]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return c.every(s)}return[function(t,n,e){const r=n<t;r&&([t,n]=[n,t]);const i=e&&"function"==typeof e.range?e:c(t,n,e),o=i?i.range(t,+n+1):[];return r?o.reverse():o},c]}Cd.every=t=>isFinite(t=Math.floor(t))&&t>0?Zh((n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),((n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e*t)})):null,Cd.range;const[Dd,Ud]=Ld(Cd,Sd,xd,ld,sd,ad),[Od,Fd]=Ld(Ed,Nd,dd,ud,cd,od);function jd(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function zd(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Rd(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}var Pd,qd,Id,Hd={"-":"",_:" ",0:"0"},Yd=/^\s*\d+/,Bd=/^%/,Wd=/[\\^$*+?|[\]().{}]/g;function Vd(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function Xd(t){return t.replace(Wd,"\\$&")}function Zd(t){return new RegExp("^(?:"+t.map(Xd).join("|")+")","i")}function Gd(t){return new Map(t.map(((t,n)=>[t.toLowerCase(),n])))}function Jd(t,n,e){var r=Yd.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Qd(t,n,e){var r=Yd.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Kd(t,n,e){var r=Yd.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function tp(t,n,e){var r=Yd.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function np(t,n,e){var r=Yd.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function ep(t,n,e){var r=Yd.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function rp(t,n,e){var r=Yd.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function ip(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function op(t,n,e){var r=Yd.exec(n.slice(e,e+1));return r?(t.q=3*r[0]-3,e+r[0].length):-1}function ap(t,n,e){var r=Yd.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function cp(t,n,e){var r=Yd.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function sp(t,n,e){var r=Yd.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function up(t,n,e){var r=Yd.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function fp(t,n,e){var r=Yd.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function lp(t,n,e){var r=Yd.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function hp(t,n,e){var r=Yd.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function dp(t,n,e){var r=Yd.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function pp(t,n,e){var r=Bd.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function gp(t,n,e){var r=Yd.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function mp(t,n,e){var r=Yd.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function yp(t,n){return Vd(t.getDate(),n,2)}function bp(t,n){return Vd(t.getHours(),n,2)}function vp(t,n){return Vd(t.getHours()%12||12,n,2)}function _p(t,n){return Vd(1+ud.count(Ed(t),t),n,3)}function xp(t,n){return Vd(t.getMilliseconds(),n,3)}function wp(t,n){return xp(t,n)+"000"}function $p(t,n){return Vd(t.getMonth()+1,n,2)}function Mp(t,n){return Vd(t.getMinutes(),n,2)}function kp(t,n){return Vd(t.getSeconds(),n,2)}function Tp(t){var n=t.getDay();return 0===n?7:n}function Ap(t,n){return Vd(dd.count(Ed(t)-1,t),n,2)}function Np(t){var n=t.getDay();return n>=4||0===n?yd(t):yd.ceil(t)}function Sp(t,n){return t=Np(t),Vd(yd.count(Ed(t),t)+(4===Ed(t).getDay()),n,2)}function Ep(t){return t.getDay()}function Cp(t,n){return Vd(pd.count(Ed(t)-1,t),n,2)}function Lp(t,n){return Vd(t.getFullYear()%100,n,2)}function Dp(t,n){return Vd((t=Np(t)).getFullYear()%100,n,2)}function Up(t,n){return Vd(t.getFullYear()%1e4,n,4)}function Op(t,n){var e=t.getDay();return Vd((t=e>=4||0===e?yd(t):yd.ceil(t)).getFullYear()%1e4,n,4)}function Fp(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+Vd(n/60|0,"0",2)+Vd(n%60,"0",2)}function jp(t,n){return Vd(t.getUTCDate(),n,2)}function zp(t,n){return Vd(t.getUTCHours(),n,2)}function Rp(t,n){return Vd(t.getUTCHours()%12||12,n,2)}function Pp(t,n){return Vd(1+fd.count(Cd(t),t),n,3)}function qp(t,n){return Vd(t.getUTCMilliseconds(),n,3)}function Ip(t,n){return qp(t,n)+"000"}function Hp(t,n){return Vd(t.getUTCMonth()+1,n,2)}function Yp(t,n){return Vd(t.getUTCMinutes(),n,2)}function Bp(t,n){return Vd(t.getUTCSeconds(),n,2)}function Wp(t){var n=t.getUTCDay();return 0===n?7:n}function Vp(t,n){return Vd(xd.count(Cd(t)-1,t),n,2)}function Xp(t){var n=t.getUTCDay();return n>=4||0===n?kd(t):kd.ceil(t)}function Zp(t,n){return t=Xp(t),Vd(kd.count(Cd(t),t)+(4===Cd(t).getUTCDay()),n,2)}function Gp(t){return t.getUTCDay()}function Jp(t,n){return Vd(wd.count(Cd(t)-1,t),n,2)}function Qp(t,n){return Vd(t.getUTCFullYear()%100,n,2)}function Kp(t,n){return Vd((t=Xp(t)).getUTCFullYear()%100,n,2)}function tg(t,n){return Vd(t.getUTCFullYear()%1e4,n,4)}function ng(t,n){var e=t.getUTCDay();return Vd((t=e>=4||0===e?kd(t):kd.ceil(t)).getUTCFullYear()%1e4,n,4)}function eg(){return"+0000"}function rg(){return"%"}function ig(t){return+t}function og(t){return Math.floor(+t/1e3)}function ag(t){return new Date(t)}function cg(t){return t instanceof Date?+t:+new Date(+t)}function sg(t,n,e,r,i,o,a,c,s,u){var f=wh(),l=f.invert,h=f.domain,d=u(".%L"),p=u(":%S"),g=u("%I:%M"),m=u("%I %p"),y=u("%a %d"),b=u("%b %d"),v=u("%B"),_=u("%Y");function x(t){return(s(t)<t?d:c(t)<t?p:a(t)<t?g:o(t)<t?m:r(t)<t?i(t)<t?y:b:e(t)<t?v:_)(t)}return f.invert=function(t){return new Date(l(t))},f.domain=function(t){return arguments.length?h(Array.from(t,cg)):h().map(ag)},f.ticks=function(n){var e=h();return t(e[0],e[e.length-1],null==n?10:n)},f.tickFormat=function(t,n){return null==n?x:u(n)},f.nice=function(t){var e=h();return t&&"function"==typeof t.range||(t=n(e[0],e[e.length-1],null==t?10:t)),t?h(Ah(e,t)):f},f.copy=function(){return _h(f,sg(t,n,e,r,i,o,a,c,s,u))},f}function ug(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function fg(){var t,n,e,r,i,o,a,c=0,s=.5,u=1,f=1,l=mh,h=!1;function d(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-n)*(f*t<f*n?r:i),l(h?Math.max(0,Math.min(1,t)):t))}function p(t){return function(n){var e,r,i;return arguments.length?([e,r,i]=n,l=ah(t,[e,r,i]),d):[l(0),l(.5),l(1)]}}return d.domain=function(a){return arguments.length?([c,s,u]=a,t=o(c=+c),n=o(s=+s),e=o(u=+u),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),f=n<t?-1:1,d):[c,s,u]},d.clamp=function(t){return arguments.length?(h=!!t,d):h},d.interpolator=function(t){return arguments.length?(l=t,d):l},d.range=p(eh),d.rangeRound=p(rh),d.unknown=function(t){return arguments.length?(a=t,d):a},function(a){return o=a,t=a(c),n=a(s),e=a(u),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),f=n<t?-1:1,d}}function lg(){var t=Mh(fg()(mh));return t.copy=function(){return ug(t,lg())},uh.apply(t,arguments)}function hg(){var t=Uh(fg()).domain([.1,1,10]);return t.copy=function(){return ug(t,hg()).base(t.base())},uh.apply(t,arguments)}function dg(){var t=zh(fg());return t.copy=function(){return ug(t,dg()).constant(t.constant())},uh.apply(t,arguments)}function pg(){var t=Hh(fg());return t.copy=function(){return ug(t,pg()).exponent(t.exponent())},uh.apply(t,arguments)}function gg(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e}!function(t){Pd=function(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,c=t.months,s=t.shortMonths,u=Zd(i),f=Gd(i),l=Zd(o),h=Gd(o),d=Zd(a),p=Gd(a),g=Zd(c),m=Gd(c),y=Zd(s),b=Gd(s),v={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return c[t.getMonth()]},c:null,d:yp,e:yp,f:wp,g:Dp,G:Op,H:bp,I:vp,j:_p,L:xp,m:$p,M:Mp,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:ig,s:og,S:kp,u:Tp,U:Ap,V:Sp,w:Ep,W:Cp,x:null,X:null,y:Lp,Y:Up,Z:Fp,"%":rg},_={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return c[t.getUTCMonth()]},c:null,d:jp,e:jp,f:Ip,g:Kp,G:ng,H:zp,I:Rp,j:Pp,L:qp,m:Hp,M:Yp,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:ig,s:og,S:Bp,u:Wp,U:Vp,V:Zp,w:Gp,W:Jp,x:null,X:null,y:Qp,Y:tg,Z:eg,"%":rg},x={a:function(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=p.get(r[0].toLowerCase()),e+r[0].length):-1},A:function(t,n,e){var r=l.exec(n.slice(e));return r?(t.w=h.get(r[0].toLowerCase()),e+r[0].length):-1},b:function(t,n,e){var r=y.exec(n.slice(e));return r?(t.m=b.get(r[0].toLowerCase()),e+r[0].length):-1},B:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.m=m.get(r[0].toLowerCase()),e+r[0].length):-1},c:function(t,e,r){return M(t,n,e,r)},d:cp,e:cp,f:dp,g:rp,G:ep,H:up,I:up,j:sp,L:hp,m:ap,M:fp,p:function(t,n,e){var r=u.exec(n.slice(e));return r?(t.p=f.get(r[0].toLowerCase()),e+r[0].length):-1},q:op,Q:gp,s:mp,S:lp,u:Qd,U:Kd,V:tp,w:Jd,W:np,x:function(t,n,r){return M(t,e,n,r)},X:function(t,n,e){return M(t,r,n,e)},y:rp,Y:ep,Z:ip,"%":pp};function w(t,n){return function(e){var r,i,o,a=[],c=-1,s=0,u=t.length;for(e instanceof Date||(e=new Date(+e));++c<u;)37===t.charCodeAt(c)&&(a.push(t.slice(s,c)),null!=(i=Hd[r=t.charAt(++c)])?r=t.charAt(++c):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),a.push(r),s=c+1);return a.push(t.slice(s,c)),a.join("")}}function $(t,n){return function(e){var r,i,o=Rd(1900,void 0,1);if(M(o,t,e+="",0)!=e.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(n&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=zd(Rd(o.y,0,1))).getUTCDay(),r=i>4||0===i?wd.ceil(r):wd(r),r=fd.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=jd(Rd(o.y,0,1))).getDay(),r=i>4||0===i?pd.ceil(r):pd(r),r=ud.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?zd(Rd(o.y,0,1)).getUTCDay():jd(Rd(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,zd(o)):jd(o)}}function M(t,n,e,r){for(var i,o,a=0,c=n.length,s=e.length;a<c;){if(r>=s)return-1;if(37===(i=n.charCodeAt(a++))){if(i=n.charAt(a++),!(o=x[i in Hd?n.charAt(a++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return v.x=w(e,v),v.X=w(r,v),v.c=w(n,v),_.x=w(e,_),_.X=w(r,_),_.c=w(n,_),{format:function(t){var n=w(t+="",v);return n.toString=function(){return t},n},parse:function(t){var n=$(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=w(t+="",_);return n.toString=function(){return t},n},utcParse:function(t){var n=$(t+="",!0);return n.toString=function(){return t},n}}}(t),qd=Pd.format,Pd.parse,Id=Pd.utcFormat,Pd.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const mg=gg("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),yg=gg("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),bg=gg("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),vg=gg("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),_g=gg("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),xg=gg("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),wg=gg("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),$g=gg("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Mg=gg("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),kg=gg("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Tg=t=>On(t[t.length-1]);var Ag=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(gg);const Ng=Tg(Ag);var Sg=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(gg);const Eg=Tg(Sg);var Cg=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(gg);const Lg=Tg(Cg);var Dg=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(gg);const Ug=Tg(Dg);var Og=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(gg);const Fg=Tg(Og);var jg=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(gg);const zg=Tg(jg);var Rg=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(gg);const Pg=Tg(Rg);var qg=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(gg);const Ig=Tg(qg);var Hg=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(gg);const Yg=Tg(Hg);var Bg=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(gg);const Wg=Tg(Bg);var Vg=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(gg);const Xg=Tg(Vg);var Zg=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(gg);const Gg=Tg(Zg);var Jg=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(gg);const Qg=Tg(Jg);var Kg=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(gg);const tm=Tg(Kg);var nm=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(gg);const em=Tg(nm);var rm=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(gg);const im=Tg(rm);var om=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(gg);const am=Tg(om);var cm=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(gg);const sm=Tg(cm);var um=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(gg);const fm=Tg(um);var lm=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(gg);const hm=Tg(lm);var dm=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(gg);const pm=Tg(dm);var gm=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(gg);const mm=Tg(gm);var ym=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(gg);const bm=Tg(ym);var vm=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(gg);const _m=Tg(vm);var xm=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(gg);const wm=Tg(xm);var $m=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(gg);const Mm=Tg($m);var km=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(gg);const Tm=Tg(km);function Am(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}const Nm=Xn(Nn(300,.5,0),Nn(-240,.5,1));var Sm=Xn(Nn(-100,.75,.35),Nn(80,1.5,.8)),Em=Xn(Nn(260,.75,.35),Nn(80,1.5,.8)),Cm=Nn();function Lm(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return Cm.h=360*t-100,Cm.s=1.5-1.5*n,Cm.l=.8-.9*n,Cm+""}var Dm=un(),Um=Math.PI/3,Om=2*Math.PI/3;function Fm(t){var n;return t=(.5-t)*Math.PI,Dm.r=255*(n=Math.sin(t))*n,Dm.g=255*(n=Math.sin(t+Um))*n,Dm.b=255*(n=Math.sin(t+Om))*n,Dm+""}function jm(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function zm(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}const Rm=zm(gg("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Pm=zm(gg("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),qm=zm(gg("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Im=zm(gg("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Hm(t){return function(){return t}}const Ym=Math.cos,Bm=Math.min,Wm=Math.sin,Vm=Math.sqrt,Xm=Math.PI,Zm=2*Xm;function Gm(t){this._context=t}function Jm(t){return new Gm(t)}function Qm(t){return t[0]}function Km(t){return t[1]}function ty(t,n){var e=Hm(!0),r=null,i=Jm,o=null,a=function(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(null==e)n=null;else{const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);n=t}return t},()=>new $c(n)}(c);function c(c){var s,u,f,l=(c=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(c)).length,h=!1;for(null==r&&(o=i(f=a())),s=0;s<=l;++s)!(s<l&&e(u=c[s],s,c))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(u,s,c),+n(u,s,c));if(f)return o=null,f+""||null}return t="function"==typeof t?t:void 0===t?Qm:Hm(t),n="function"==typeof n?n:void 0===n?Km:Hm(n),c.x=function(n){return arguments.length?(t="function"==typeof n?n:Hm(+n),c):t},c.y=function(t){return arguments.length?(n="function"==typeof t?t:Hm(+t),c):n},c.defined=function(t){return arguments.length?(e="function"==typeof t?t:Hm(!!t),c):e},c.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),c):i},c.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),c):r},c}Gm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};class ny{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n)}this._x0=t,this._y0=n}}const ey=Vm(3),ry={draw(t,n){const e=.59436*Vm(n+Bm(n/28,.75)),r=e/2,i=r*ey;t.moveTo(0,e),t.lineTo(0,-e),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},iy={draw(t,n){const e=Vm(n/Xm);t.moveTo(e,0),t.arc(0,0,e,0,Zm)}},oy={draw(t,n){const e=Vm(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},ay=Vm(1/3),cy=2*ay,sy={draw(t,n){const e=Vm(n/cy),r=e*ay;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},uy={draw(t,n){const e=.62625*Vm(n);t.moveTo(0,-e),t.lineTo(e,0),t.lineTo(0,e),t.lineTo(-e,0),t.closePath()}},fy={draw(t,n){const e=.87559*Vm(n-Bm(n/7,2));t.moveTo(-e,0),t.lineTo(e,0),t.moveTo(0,e),t.lineTo(0,-e)}},ly={draw(t,n){const e=Vm(n),r=-e/2;t.rect(r,r,e,e)}},hy={draw(t,n){const e=.4431*Vm(n);t.moveTo(e,e),t.lineTo(e,-e),t.lineTo(-e,-e),t.lineTo(-e,e),t.closePath()}},dy=Wm(Xm/10)/Wm(7*Xm/10),py=Wm(Zm/10)*dy,gy=-Ym(Zm/10)*dy,my={draw(t,n){const e=Vm(.8908130915292852*n),r=py*e,i=gy*e;t.moveTo(0,-e),t.lineTo(r,i);for(let o=1;o<5;++o){const n=Zm*o/5,a=Ym(n),c=Wm(n);t.lineTo(c*e,-a*e),t.lineTo(a*r-c*i,c*r+a*i)}t.closePath()}},yy=Vm(3),by={draw(t,n){const e=-Vm(n/(3*yy));t.moveTo(0,2*e),t.lineTo(-yy*e,-e),t.lineTo(yy*e,-e),t.closePath()}},vy=Vm(3),_y={draw(t,n){const e=.6824*Vm(n),r=e/2,i=e*vy/2;t.moveTo(0,-e),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},xy=-.5,wy=Vm(3)/2,$y=1/Vm(12),My=3*($y/2+1),ky={draw(t,n){const e=Vm(n/My),r=e/2,i=e*$y,o=r,a=e*$y+e,c=-o,s=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(c,s),t.lineTo(xy*r-wy*i,wy*r+xy*i),t.lineTo(xy*o-wy*a,wy*o+xy*a),t.lineTo(xy*c-wy*s,wy*c+xy*s),t.lineTo(xy*r+wy*i,xy*i-wy*r),t.lineTo(xy*o+wy*a,xy*a-wy*o),t.lineTo(xy*c+wy*s,xy*s-wy*c),t.closePath()}},Ty={draw(t,n){const e=.6189*Vm(n-Bm(n/6,1.7));t.moveTo(-e,-e),t.lineTo(e,e),t.moveTo(-e,e),t.lineTo(e,-e)}},Ay=[iy,oy,sy,ly,my,by,ky],Ny=[iy,fy,Ty,_y,ry,hy,uy];function Sy(){}function Ey(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function Cy(t){this._context=t}function Ly(t){this._context=t}function Dy(t){this._context=t}function Uy(t,n){this._basis=new Cy(t),this._beta=n}Cy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ey(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ey(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},Ly.prototype={areaStart:Sy,areaEnd:Sy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:Ey(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},Dy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:Ey(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},Uy.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r,i=t[0],o=n[0],a=t[e]-i,c=n[e]-o,s=-1;++s<=e;)r=s/e,this._basis.point(this._beta*t[s]+(1-this._beta)*(i+r*a),this._beta*n[s]+(1-this._beta)*(o+r*c));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};const Oy=function t(n){function e(t){return 1===n?new Cy(t):new Uy(t,n)}return e.beta=function(n){return t(+n)},e}(.85);function Fy(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function jy(t,n){this._context=t,this._k=(1-n)/6}jy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Fy(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:Fy(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const zy=function t(n){function e(t){return new jy(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Ry(t,n){this._context=t,this._k=(1-n)/6}Ry.prototype={areaStart:Sy,areaEnd:Sy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Fy(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const Py=function t(n){function e(t){return new Ry(t,n)}return e.tension=function(n){return t(+n)},e}(0);function qy(t,n){this._context=t,this._k=(1-n)/6}qy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Fy(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const Iy=function t(n){function e(t){return new qy(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Hy(t,n,e){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>1e-12){var c=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,s=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*c-t._x0*t._l12_2a+t._x2*t._l01_2a)/s,i=(i*c-t._y0*t._l12_2a+t._y2*t._l01_2a)/s}if(t._l23_a>1e-12){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*u+t._x1*t._l23_2a-n*t._l12_2a)/f,a=(a*u+t._y1*t._l23_2a-e*t._l12_2a)/f}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function Yy(t,n){this._context=t,this._alpha=n}Yy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:Hy(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const By=function t(n){function e(t){return n?new Yy(t,n):new jy(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function Wy(t,n){this._context=t,this._alpha=n}Wy.prototype={areaStart:Sy,areaEnd:Sy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Hy(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const Vy=function t(n){function e(t){return n?new Wy(t,n):new Ry(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function Xy(t,n){this._context=t,this._alpha=n}Xy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Hy(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const Zy=function t(n){function e(t){return n?new Xy(t,n):new qy(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function Gy(t){this._context=t}function Jy(t){return t<0?-1:1}function Qy(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(e-t._y1)/(i||r<0&&-0),c=(o*i+a*r)/(r+i);return(Jy(o)+Jy(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(c))||0}function Ky(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function tb(t,n,e){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,c=(o-r)/3;t._context.bezierCurveTo(r+c,i+c*n,o-c,a-c*e,o,a)}function nb(t){this._context=t}function eb(t){this._context=new rb(t)}function rb(t){this._context=t}function ib(t){this._context=t}function ob(t){var n,e,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,o[n]=4,a[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/o[n-1],o[n]-=e,a[n]-=e*a[n-1];for(i[r-1]=a[r-1]/o[r-1],n=r-2;n>=0;--n)i[n]=(a[n]-i[n+1])/o[n];for(o[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}function ab(t,n){this._context=t,this._t=n}function cb(t,n,e){this.k=t,this.x=n,this.y=e}function sb(t){return null!=t&&!Number.isNaN(t)}function ub(t,n){return+sb(n)-+sb(t)||Wr(t,n)}function fb(t,n){return+sb(n)-+sb(t)||Vr(t,n)}function lb(t){return null!=t&&""!=`${t}`}function hb(t){return isFinite(t)?t:NaN}function db(t){return t>0&&isFinite(t)?t:NaN}function pb(t){return t<0&&isFinite(t)?t:NaN}function gb(t,n){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return"function"==typeof n?n(t):n;const e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return`${function(t){return t<0?`-${mb(-t,6)}`:t>9999?`+${mb(t,6)}`:mb(t,4)}(t.getUTCFullYear())}-${mb(t.getUTCMonth()+1,2)}-${mb(t.getUTCDate(),2)}${e||r||i||o?`T${mb(e,2)}:${mb(r,2)}${i||o?`:${mb(i,2)}${o?`.${mb(o,3)}`:""}`:""}Z`:""}`}function mb(t,n){return`${t}`.padStart(n,"0")}Gy.prototype={areaStart:Sy,areaEnd:Sy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}},nb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tb(this,this._t0,Ky(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,tb(this,Ky(this,e=Qy(this,t,n)),e);break;default:tb(this,this._t0,e=Qy(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(eb.prototype=Object.create(nb.prototype)).point=function(t,n){nb.prototype.point.call(this,n,t)},rb.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}},ib.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=ob(t),i=ob(n),o=0,a=1;a<e;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],n[a]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}},ab.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}},cb.prototype={constructor:cb,scale:function(t){return 1===t?this:new cb(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new cb(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new cb(1,0,0),cb.prototype;const yb=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function bb(t,n){return yb.test(t+="")?new Date(t):"function"==typeof n?n(t):n}const vb=new Map([["second",id],["minute",od],["hour",cd],["day",ud],["week",dd],["month",Nd],["year",Ed],["monday",pd],["tuesday",gd],["wednesday",md],["thursday",yd],["friday",bd],["saturday",vd],["sunday",dd]]),_b=new Map([["second",id],["minute",ad],["hour",sd],["day",ld],["week",xd],["month",Sd],["year",Cd],["monday",wd],["tuesday",$d],["wednesday",Md],["thursday",kd],["friday",Td],["saturday",Ad],["sunday",xd]]);function xb(t,n){let e=`${t}`.toLowerCase();e.endsWith("s")&&(e=e.slice(0,-1));let r=1;const i=/^(?:(\d+)\s+)/.exec(e);switch(i&&(e=e.slice(i[0].length),r=+i[1]),e){case"quarter":e="month",r*=3;break;case"half":e="month",r*=6}let o=n.get(e);if(!o)throw new Error(`unknown interval: ${t}`);if(!(r>1))return o;if(!o.every)throw new Error(`non-periodic interval: ${e}`);return o.every(r)}function wb(t){return xb(t,vb)}function $b(t){return xb(t,_b)}const Mb=Object.getPrototypeOf(Uint8Array),kb=Object.prototype.toString;function Tb(t,n,e){const r=typeof n;return"string"===r?Ab(t,Eb(n),e):"function"===r?Ab(t,n,e):"number"===r||n instanceof Date||"boolean"===r?Gb(t,Rb(n),e):Nb("function"==typeof n?.transform?n.transform(t):n,e)}function Ab(t,n,e){return Gb(t,e?.prototype instanceof Mb?function(t){return(n,e)=>Ib(t(n,e))}(n):n,e)}function Nb(t,n){return void 0===n?Zb(t):t instanceof n?t:n.prototype instanceof Mb&&!(t instanceof Mb)?n.from(t,Ib):n.from(t)}const Sb=[null],Eb=t=>n=>n[t],Cb={transform:sv},Lb={transform:t=>t},Db=()=>1,Ub=()=>!0,Ob=t=>null==t?t:`${t}`,Fb=t=>null==t?t:+t,jb=t=>t?t[0]:void 0,zb=t=>t?t[1]:void 0,Rb=t=>()=>t;function Pb(t){const n=+`${t}`.slice(1)/100;return(t,e)=>Ei(t,n,e)}function qb(t){return t instanceof Mb?t:Gb(t,Ib,Float64Array)}function Ib(t){return null==t?NaN:Number(t)}function Hb(t){return Gb(t,Yb)}function Yb(t){return t instanceof Date&&!isNaN(t)?t:"string"==typeof t?bb(t):null==t||isNaN(t=+t)?void 0:new Date(t)}function Bb(t,n){return void 0===t&&(t=n),null===t?[void 0,"none"]:Ev(t)?[void 0,t]:[t,void 0]}function Wb(t,n){return void 0===t&&(t=n),null===t||"number"==typeof t?[void 0,t]:[t,void 0]}function Vb(t,n,e){if(null!=t)return Xb(t,n,e)}function Xb(t,n,e){const r=`${t}`.toLowerCase();if(!e.includes(r))throw new Error(`invalid ${n}: ${t}`);return r}function Zb(t){return null==t||t instanceof Array||t instanceof Mb?t:Array.from(t)}function Gb(t,n,e=Array){return null==t?t:t instanceof e?t.map(n):e.from(t,n)}function Jb(t,n=Array){return t instanceof n?t.slice():n.from(t)}function Qb({x:t,x1:n,x2:e}){return void 0!==t||void 0!==n||void 0!==e}function Kb({y:t,y1:n,y2:e}){return void 0!==t||void 0!==n||void 0!==e}function tv(t){return Qb(t)||Kb(t)||void 0!==t.interval}function nv(t){return t?.toString===kb}function ev(t){return nv(t)&&(void 0!==t.type||void 0!==t.domain)}function rv(t){return nv(t)&&"function"!=typeof t.transform}function iv(t){return rv(t)&&void 0===t.value&&void 0===t.channel}function ov(t,n,e,r=Lb){return void 0===n&&void 0===e?(n=0,e=void 0===t?r:t):void 0===n?n=void 0===t?0:t:void 0===e&&(e=void 0===t?0:t),[n,e]}function av(t,n){return void 0===t&&void 0===n?[jb,zb]:[t,n]}function cv({z:t,fill:n,stroke:e}={}){return void 0===t&&([t]=Bb(n)),void 0===t&&([t]=Bb(e)),t}function sv(t){const n=t.length,e=new Uint32Array(n);for(let r=0;r<n;++r)e[r]=r;return e}function uv(t,n){return Gb(n,(n=>t[n]))}function fv(t){return 1===t.length?(n,e)=>t(uv(e,n)):t}function lv(t){return null!==t&&"object"==typeof t?t.valueOf():t}function hv(t,n){if(void 0!==n[t])return n[t];switch(t){case"x1":case"x2":t="x";break;case"y1":case"y2":t="y"}return n[t]}function dv(t){let n;return[{transform:()=>n,label:gv(t)},t=>n=t]}function pv(t){return null==t?[t]:dv(t)}function gv(t,n){return"string"==typeof t?t:t&&void 0!==t.label?t.label:n}function mv(t,n){return{transform(e){const r=t.transform(e),i=n.transform(e);return Tv(r)||Tv(i)?Gb(r,((t,n)=>new Date((+r[n]+ +i[n])/2))):Gb(r,((t,n)=>(+r[n]+ +i[n])/2),Float64Array)},label:t.label}}function yv(t,n){const e=bv(n?.interval,n?.type);return e?Gb(t,e):t}function bv(t,n){const e=vv(t,n);return e&&(t=>sb(t)?e.floor(t):t)}function vv(t,n){if(null!=t){if("number"==typeof t){0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const n=Math.abs(t);return t<0?{floor:t=>Math.floor(t*n)/n,offset:t=>(t*n+1)/n,range:(t,e)=>Fi(Math.ceil(t*n),e*n).map((t=>t/n))}:{floor:t=>Math.floor(t/n)*n,offset:t=>t+n,range:(t,e)=>Fi(Math.ceil(t/n),e/n).map((t=>t*n))}}if("string"==typeof t)return("time"===n?wb:$b)(t);if("function"!=typeof t.floor)throw new Error("invalid interval; missing floor method");if("function"!=typeof t.offset)throw new Error("invalid interval; missing offset method");return t}}function _v(t,n){if((t=vv(t,n))&&"function"!=typeof t.range)throw new Error("invalid interval: missing range method");return t}function xv(t){return void 0===t||rv(t)?t:{value:t}}function wv(t){return null==t?null:{transform:n=>Tb(n,t,Float64Array),label:gv(t)}}function $v(t){return t&&"function"==typeof t[Symbol.iterator]}function Mv(t){for(const n of t)if(null!=n)return"object"!=typeof n||n instanceof Date}function kv(t){for(const n of t){if(null==n)continue;const t=typeof n;return"string"===t||"boolean"===t}}function Tv(t){for(const n of t)if(null!=n)return n instanceof Date}function Av(t){for(const n of t)if(null!=n)return"string"==typeof n&&isNaN(n)&&bb(n)}function Nv(t){for(const n of t)if(null!=n){if("string"!=typeof n)return!1;if(n.trim())return!isNaN(n)}}function Sv(t,n){let e;for(const r of t)if(null!=r){if(!n(r))return!1;e=!0}return e}function Ev(t){return"string"==typeof t&&("none"===(t=t.toLowerCase().trim())||"currentcolor"===t||t.startsWith("url(")&&t.endsWith(")")||t.startsWith("var(")&&t.endsWith(")")||null!==Ic(t))}function Cv(t){return"number"==typeof t&&(0<=t&&t<=1||isNaN(t))}function Lv(t){return null==t||Dv(t)}function Dv(t){return/^\s*none\s*$/i.test(t)}function Uv(t,n){return Vb(t,n,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function Ov(t="middle"){return Uv(t,"frameAnchor")}function Fv(t){if(null==t)return;return Vr(t[0],t[t.length-1])}function jv(t){return $v(t)?function(t){const n=new Set;return Object.fromEntries(Array.from(t,(t=>{const{name:e}=t;if(null==e)throw new Error("missing name");const r=`${e}`;if("__proto__"===r)throw new Error(`illegal name: ${r}`);if(n.has(r))throw new Error(`duplicate name: ${r}`);return n.add(r),[e,t]})))}(t):t}const zv=Symbol("position"),Rv=Symbol("color"),Pv=Symbol("radius"),qv=Symbol("length"),Iv=Symbol("opacity"),Hv=Symbol("symbol"),Yv=Symbol("projection"),Bv=new Map([["x",zv],["y",zv],["fx",zv],["fy",zv],["r",Pv],["color",Rv],["opacity",Iv],["symbol",Hv],["length",qv],["projection",Yv]]),Wv=2/Math.sqrt(3),Vv={draw(t,n){const e=Math.sqrt(n/Math.PI),r=e*Wv,i=r/2;t.moveTo(0,r),t.lineTo(e,i),t.lineTo(e,-i),t.lineTo(0,-r),t.lineTo(-e,-i),t.lineTo(-e,i),t.closePath()}},Xv=new Map([["asterisk",ry],["circle",iy],["cross",oy],["diamond",sy],["diamond2",uy],["hexagon",Vv],["plus",fy],["square",ly],["square2",hy],["star",my],["times",Ty],["triangle",by],["triangle2",_y],["wye",ky]]);function Zv(t){return t&&"function"==typeof t.draw}function Gv(t){return!!Zv(t)||"string"==typeof t&&Xv.has(t.toLowerCase())}function Jv(t){if(null==t||Zv(t))return t;const n=Xv.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid symbol: ${t}`)}function Qv({filter:t,sort:n,reverse:e,transform:r,initializer:i,...o}={},a){if(void 0===r&&(null!=t&&(r=e_(t)),null==n||iv(n)||(r=t_(r,i_(n))),e&&(r=t_(r,r_))),null!=a&&null!=i)throw new Error("transforms cannot be applied after initializers");return{...o,...(null===n||iv(n))&&{sort:n},transform:t_(r,a)}}function Kv({filter:t,sort:n,reverse:e,initializer:r,...i}={},o){return void 0===r&&(null!=t&&(r=e_(t)),null==n||iv(n)||(r=n_(r,i_(n))),e&&(r=n_(r,r_))),{...i,...(null===n||iv(n))&&{sort:n},initializer:n_(r,o)}}function t_(t,n){return null==t?null===n?void 0:n:null==n?null===t?void 0:t:function(e,r,i){return({data:e,facets:r}=t.call(this,e,r,i)),n.call(this,Zb(e),r,i)}}function n_(t,n){return null==t?null===n?void 0:n:null==n?null===t?void 0:t:function(e,r,i,...o){let a,c,s,u,f,l;return({data:c=e,facets:s=r,channels:a}=t.call(this,e,r,i,...o)),({data:f=c,facets:l=s,channels:u}=n.call(this,c,s,{...i,...a},...o)),{data:f,facets:l,channels:{...a,...u}}}}function e_(t){return(n,e)=>{const r=Tb(n,t);return{data:n,facets:e.map((t=>t.filter((t=>r[t]))))}}}function r_(t,n){return{data:t,facets:n.map((t=>t.slice().reverse()))}}function i_(t){return("function"==typeof t&&1!==t.length?o_:a_)(t)}function o_(t){return(n,e)=>{const r=(e,r)=>t(n[e],n[r]);return{data:n,facets:e.map((t=>t.slice().sort(r)))}}}function a_(t){let n,e;({channel:n,value:t,order:e}={...xv(t)});const r=n?.startsWith("-");if(r&&(n=n.slice(1)),void 0===e&&(e=r?fb:ub),"function"!=typeof e)switch(`${e}`.toLowerCase()){case"ascending":e=ub;break;case"descending":e=fb;break;default:throw new Error(`invalid order: ${e}`)}return(r,i,o)=>{let a;if(void 0===n)a=Tb(r,t);else{if(void 0===o)throw new Error("channel sort requires an initializer");if(a=o[n],!a)return{};a=a.value}const c=(t,n)=>e(a[t],a[n]);return{data:r,facets:i.map((t=>t.slice().sort(c)))}}}function c_(t={y:"count"},n={}){const{x:e=Lb}=n;if(null==e)throw new Error("missing channel: x");return function(t,n,{data:e=m_,filter:r,sort:i,reverse:o,...a}={},c={}){a=function(t,n,e=u_){const r=Object.entries(t);null!=n.title&&void 0===t.title&&r.push(["title",b_]);null!=n.href&&void 0===t.href&&r.push(["href",y_]);return r.filter((([,t])=>void 0!==t)).map((([t,r])=>null===r?function(t){return{name:t,initialize(){},scope(){},reduce(){}}}(t):e(t,r,n)))}(a,c),e=h_(e,Lb),i=null==i?void 0:u_("sort",i,c),r=null==r?void 0:f_("filter",r,c);const[s,u]=pv(t),[f,l]=pv(n),{z:h,fill:d,stroke:p,x1:g,x2:m,y1:y,y2:b,...v}=c,[_,x]=pv(h),[w]=Bb(d),[$]=Bb(p),[M,k]=pv(w),[T,A]=pv($);return{..."z"in c&&{z:_||h},..."fill"in c&&{fill:M||d},..."stroke"in c&&{stroke:T||p},...Qv(v,((c,s,f)=>{const d=yv(Tb(c,t),f?.x),p=yv(Tb(c,n),f?.y),g=Tb(c,h),m=Tb(c,w),y=Tb(c,$),b=function(t,n){for(const e in n){const r=n[e];if(void 0!==r&&!t.some((t=>t.name===e)))return r}}(a,{z:g,fill:m,stroke:y}),v=[],_=[],M=d&&u([]),T=p&&l([]),N=g&&x([]),S=m&&k([]),E=y&&A([]);let C=0;for(const t of a)t.initialize(c);i&&i.initialize(c),r&&r.initialize(c);for(const t of s){const n=[];for(const e of a)e.scope("facet",t);i&&i.scope("facet",t),r&&r.scope("facet",t);for(const[o,s]of l_(t,b))for(const[t,u]of l_(s,p))for(const[s,f]of l_(u,d))if(!r||r.reduce(f)){n.push(C++),_.push(e.reduceIndex(f,c)),d&&M.push(s),p&&T.push(t),g&&N.push(b===g?o:g[f[0]]),m&&S.push(b===m?o:m[f[0]]),y&&E.push(b===y?o:y[f[0]]);for(const t of a)t.reduce(f);i&&i.reduce(f)}v.push(n)}return function(t,n,e){if(n){const e=n.output.transform(),r=(t,n)=>ub(e[t],e[n]);t.forEach((t=>t.sort(r)))}e&&t.forEach((t=>t.reverse()))}(v,i,o),{data:_,facets:v}})),...!s_(a,"x")&&(s?{x:s}:{x1:g,x2:m}),...!s_(a,"y")&&(f?{y:f}:{y1:y,y2:b}),...Object.fromEntries(a.map((({name:t,output:n})=>[t,n])))}}(e,null,t,n)}function s_(t,...n){for(const{name:e}of t)if(n.includes(e))return!0;return!1}function u_(t,n,e,r=f_){let i;nv(n)&&"reduce"in n&&(i=n.scale,n=n.reduce);const o=r(t,n,e),[a,c]=dv(o.label);let s;return{name:t,output:void 0===i?a:{value:a,scale:i},initialize(t){o.initialize(t),s=c([])},scope(t,n){o.scope(t,n)},reduce(t,n){s.push(o.reduce(t,n))}}}function f_(t,n,e,r=h_){const i=hv(t,e),o=r(n,i);let a,c;return{label:gv(o===__?null:i,o.label),initialize(t){a=void 0===i?t:Tb(t,i),"data"===o.scope&&(c=o.reduceIndex(sv(t),a))},scope(t,n){o.scope===t&&(c=o.reduceIndex(n,a))},reduce:(t,n)=>null==o.scope?o.reduceIndex(t,a,n):o.reduceIndex(t,a,c,n)}}function l_(t,n){return n?hi(si(t,(t=>n[t])),jb):[[,t]]}function h_(t,n,e=d_){if(null==t)return e(t);if("function"==typeof t.reduceIndex)return t;if("function"==typeof t.reduce&&nv(t))return function(t){return{...t,reduceIndex:t.reduce.bind(t)}}(t);if("function"==typeof t)return function(t){return{reduceIndex:(n,e,r)=>t(uv(e,n),r)}}(t);if(/^p\d{2}$/i.test(t))return p_(Pb(t));switch(`${t}`.toLowerCase()){case"first":return y_;case"last":return v_;case"identity":return m_;case"count":return __;case"distinct":return x_;case"sum":return null==n?__:w_;case"proportion":return $_(n,"data");case"proportion-facet":return $_(n,"facet");case"deviation":return p_(ii);case"min":return p_(ki);case"min-index":return p_(Ti);case"max":return p_($i);case"max-index":return p_(Mi);case"mean":return g_(Li);case"median":return g_(Di);case"variance":return p_(ri);case"mode":return p_(Oi)}return e(t)}function d_(t){throw new Error(`invalid reduce: ${t}`)}function p_(t){return{reduceIndex:(n,e)=>t(n,(t=>e[t]))}}function g_(t){return{reduceIndex(n,e){const r=t(n,(t=>e[t]));return Tv(e)?new Date(r):r}}}const m_={reduceIndex:(t,n)=>uv(n,t)},y_={reduceIndex:(t,n)=>n[t[0]]},b_={reduceIndex(t,n){const e=hi(ui(t,(t=>t.length),(t=>n[t])),zb),r=e.slice(-5).reverse();if(r.length<e.length){const t=e.slice(0,-4);r[4]=[`… ${t.length.toLocaleString("en-US")} more`,zi(t,zb)]}return r.map((([t,n])=>`${t} (${n.toLocaleString("en-US")})`)).join("\n")}},v_={reduceIndex:(t,n)=>n[t[t.length-1]]},__={label:"Frequency",reduceIndex:t=>t.length},x_={label:"Distinct",reduceIndex(t,n){const e=new Ft;for(const r of t)e.add(n[r]);return e.size}},w_=p_(zi);function $_(t,n){return null==t?{scope:n,label:"Frequency",reduceIndex:(t,n,e=1)=>t.length/e}:{scope:n,reduceIndex:(t,n,e=1)=>zi(t,(t=>n[t]))/e}}function M_(t,{scale:n,type:e,value:r,filter:i,hint:o},a){return void 0===o&&"function"==typeof r?.transform&&(o=r.hint),k_(a,{scale:n,type:e,value:Tb(t,r),label:gv(r),filter:i,hint:o})}function k_(t,n){const{scale:e,value:r}=n;if(!0===e||"auto"===e)switch(t){case"fill":case"stroke":case"color":n.scale=!0!==e&&Sv(r,Ev)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":n.scale=!0!==e&&Sv(r,Cv)?null:"opacity";break;case"symbol":!0!==e&&Sv(r,Gv)?(n.scale=null,n.value=Gb(r,Jv)):n.scale="symbol";break;default:n.scale=Bv.has(t)?t:null}else if(!1===e)n.scale=null;else if(null!=e&&!Bv.has(e))throw new Error(`unknown scale: ${e}`);return n}function T_(t,n){for(const e in t){const r=t[e];if(r.scale===n)return r}}function A_(t,n){const e=t.original;if(e===t)return n;const r=n.value,i=n.value=[];for(let o=0;o<e.length;++o){const n=r[e[o][0]];for(const e of t[o])i[e]=n}return n}function N_(t,n,e){const r=S_(t,n);return Gb(S_(t,e),((t,n)=>Math.abs(t-r[n])),Float64Array)}function S_(t,n,e){let r=t[n];if(r||void 0===e||(r=t[e]),r)return r.value;throw new Error(`missing channel: ${n}`)}function E_(t){if(null==t||"function"==typeof t)return t;switch(`${t}`.toLowerCase()){case"ascending":return C_;case"descending":return L_}throw new Error(`invalid order: ${t}`)}function C_([t,n],[e,r]){return ub(n,r)||ub(t,e)}function L_([t,n],[e,r]){return fb(n,r)||ub(t,e)}function D_(t,n){let e=t[n];if(e){for(;e.source;)e=e.source;return null===e.source?null:e}}function U_(t={}){const{document:n=("undefined"!=typeof window?window.document:void 0)}=t;return{document:n}}function O_(t,{document:n}){return ga(oo(t).call(n.documentElement))}let F_=0;function j_(t){++F_}const z_=Math.PI,R_=2*z_;function P_({projection:t,inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:o=n}={},a){if(null==t)return;if("function"==typeof t.stream)return t;let c,s,u="frame";if(nv(t)){let n;if(({type:t,domain:s,inset:n,insetTop:e=(void 0!==n?n:e),insetRight:r=(void 0!==n?n:r),insetBottom:i=(void 0!==n?n:i),insetLeft:o=(void 0!==n?n:o),clip:u=u,...c}=t),null==t)return}"function"!=typeof t&&({type:t}=q_(t));const{width:f,height:l,marginLeft:h,marginRight:d,marginTop:p,marginBottom:g}=a,m=f-h-d-o-r,y=l-p-g-e-i;if(t=t?.({width:m,height:y,clip:u,...c}),null==t)return;u=function(t,n,e,r,i){if(!1===t||null==t||"number"==typeof t)return t=>t;!0===t&&(t="frame");if("frame"===`${t}`.toLowerCase())return ju(n,e,r,i);throw new Error(`unknown projection clip type: ${t}`)}(u,h,p,f-d,l-g);let b,v=h+o,_=p+e;if(null!=s){const[[n,e],[r,i]]=Bf(t).bounds(s),o=Math.min(m/(r-n),y/(i-e));o>0?(v-=(o*(n+r)-m)/2,_-=(o*(e+i)-y)/2,b=Wf({point(t,n){this.stream.point(t*o+v,n*o+_)}})):j_()}return b??=0===v&&0===_?Y_():Wf({point(t,n){this.stream.point(t+v,n+_)}}),{stream:n=>t.stream(b.stream(u(n)))}}function q_(t){switch(`${t}`.toLowerCase()){case"albers-usa":return I_(fl,.7463,.4673);case"albers":return H_(ul,.7463,.4673);case"azimuthal-equal-area":return I_(pl,4,4);case"azimuthal-equidistant":return I_(ml,R_,R_);case"conic-conformal":return H_(wl,R_,R_);case"conic-equal-area":return H_(sl,6.1702,2.9781);case"conic-equidistant":return H_(Tl,7.312,3.6282);case"equal-earth":return I_(Dl,5.4133,2.6347);case"equirectangular":return I_(Ml,R_,z_);case"gnomonic":return I_(Ol,3.4641,3.4641);case"identity":return{type:Y_};case"reflect-y":return{type:B_};case"mercator":return I_(bl,R_,R_);case"orthographic":return I_(jl,2,2);case"stereographic":return I_(Rl,2,2);case"transverse-mercator":return I_(ql,R_,R_);default:throw new Error(`unknown projection type: ${t}`)}}function I_(t,n,e){return{type:({width:r,height:i,rotate:o,precision:a=.15,clip:c})=>{const s=t();return null!=a&&s.precision?.(a),null!=o&&s.rotate?.(o),"number"==typeof c&&s.clipAngle?.(c),s.scale(Math.min(r/n,i/e)),s.translate([r/2,i/2]),s},aspectRatio:e/n}}function H_(t,n,e){const{type:r,aspectRatio:i}=I_(t,n,e);return{type:t=>{const{parallels:n,domain:e,width:i,height:o}=t,a=r(t);return null!=n&&(a.parallels(n),void 0===e&&a.fitSize([i,o],{type:"Sphere"})),a},aspectRatio:i}}const Y_=Rb({stream:t=>t}),B_=Rb(Wf({point(t,n){this.stream.point(t,-n)}}));function W_(t,n,e,r){const i=e[t],o=e[n],a=i.length,c=e[t]=new Float64Array(a).fill(NaN),s=e[n]=new Float64Array(a).fill(NaN);let u;const f=r.stream({point(t,n){c[u]=t,s[u]=n}});for(u=0;u<a;++u)f.point(i[u],o[u])}function V_({projection:t}={}){return null!=t&&("function"==typeof t.stream||(nv(t)&&(t=t.type),null!=t))}function X_(t){const n=[],e=[],r={scale:"x",value:n},i={scale:"y",value:e},o={point(t,r){n.push(t),e.push(r)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const a of t.value)uu(a,o);return[r,i]}const Z_=new Map([["accent",yg],["category10",mg],["dark2",bg],["paired",vg],["pastel1",_g],["pastel2",xg],["set1",wg],["set2",$g],["set3",Mg],["tableau10",kg]]);const G_=new Map([...Z_,["brbg",Q_(Ag,Ng)],["prgn",Q_(Sg,Eg)],["piyg",Q_(Cg,Lg)],["puor",Q_(Dg,Ug)],["rdbu",Q_(Og,Fg)],["rdgy",Q_(jg,zg)],["rdylbu",Q_(Rg,Pg)],["rdylgn",Q_(qg,Ig)],["spectral",Q_(Hg,Yg)],["burd",K_(Og,Fg)],["buylrd",K_(Rg,Pg)],["blues",J_(gm,mm)],["greens",J_(ym,bm)],["greys",J_(vm,_m)],["oranges",J_(km,Tm)],["purples",J_(xm,wm)],["reds",J_($m,Mm)],["turbo",tx(jm)],["viridis",tx(Rm)],["magma",tx(Pm)],["inferno",tx(qm)],["plasma",tx(Im)],["cividis",tx(Am)],["cubehelix",tx(Nm)],["warm",tx(Sm)],["cool",tx(Em)],["bugn",J_(Bg,Wg)],["bupu",J_(Vg,Xg)],["gnbu",J_(Zg,Gg)],["orrd",J_(Jg,Qg)],["pubu",J_(nm,em)],["pubugn",J_(Kg,tm)],["purd",J_(rm,im)],["rdpu",J_(om,am)],["ylgn",J_(um,fm)],["ylgnbu",J_(cm,sm)],["ylorbr",J_(lm,hm)],["ylorrd",J_(dm,pm)],["rainbow",nx(Lm)],["sinebow",nx(Fm)]]);function J_(t,n){return({length:e})=>1===e?[t[3][1]]:2===e?[t[3][1],t[3][2]]:(e=Math.max(3,Math.floor(e)))>9?ch(n,e):t[e]}function Q_(t,n){return({length:e})=>2===e?[t[3][0],t[3][2]]:(e=Math.max(3,Math.floor(e)))>11?ch(n,e):t[e]}function K_(t,n){return({length:e})=>2===e?[t[3][2],t[3][0]]:(e=Math.max(3,Math.floor(e)))>11?ch((t=>n(1-t)),e):t[e].slice().reverse()}function tx(t){return({length:n})=>ch(t,Math.max(2,Math.floor(n)))}function nx(t){return({length:n})=>ch(t,Math.floor(n)+1).slice(0,-1)}function ex(t){const n=`${t}`.toLowerCase();if(!G_.has(n))throw new Error(`unknown ordinal scheme: ${n}`);return G_.get(n)}function rx(t,n){const e=ex(t),r="function"==typeof e?e({length:n}):e;return r.length!==n?r.slice(0,n):r}const ix=new Map([["brbg",Ng],["prgn",Eg],["piyg",Lg],["puor",Ug],["rdbu",Fg],["rdgy",zg],["rdylbu",Pg],["rdylgn",Ig],["spectral",Yg],["burd",t=>Fg(1-t)],["buylrd",t=>Pg(1-t)],["blues",mm],["greens",bm],["greys",_m],["purples",wm],["reds",Mm],["oranges",Tm],["turbo",jm],["viridis",Rm],["magma",Pm],["inferno",qm],["plasma",Im],["cividis",Am],["cubehelix",Nm],["warm",Sm],["cool",Em],["bugn",Wg],["bupu",Xg],["gnbu",Gg],["orrd",Qg],["pubugn",tm],["pubu",em],["purd",im],["rdpu",am],["ylgnbu",sm],["ylgn",fm],["ylorbr",hm],["ylorrd",pm],["rainbow",Lm],["sinebow",Fm]]);function ox(t){const n=`${t}`.toLowerCase();if(!ix.has(n))throw new Error(`unknown quantitative scheme: ${n}`);return ix.get(n)}const ax=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);const cx=t=>n=>t(1-n),sx=[0,1],ux=new Map([["number",Jl],["rgb",Vl],["hsl",ih],["hcl",oh],["lab",function(t,n){var e=Wl((t=hs(t)).l,(n=hs(n)).l),r=Wl(t.a,n.a),i=Wl(t.b,n.b),o=Wl(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=i(n),t.opacity=o(n),t+""}}]]);function fx(t){const n=`${t}`.toLowerCase();if(!ux.has(n))throw new Error(`unknown interpolator: ${n}`);return ux.get(n)}function lx(t,n,e,{type:r,nice:i,clamp:o,zero:a,domain:c=bx(t,e),unknown:s,round:u,scheme:f,interval:l,range:h=(Bv.get(t)===Pv?_x(e,c):Bv.get(t)===qv?xx(e,c):Bv.get(t)===Iv?sx:void 0),interpolate:d=(Bv.get(t)===Rv?null==f&&void 0!==h?Vl:ox(void 0!==f?f:"cyclical"===r?"rainbow":"turbo"):u?rh:Jl),reverse:p}){if(l=_v(l,r),"cyclical"!==r&&"sequential"!==r||(r="linear"),p=!!p,void 0!==h){const t=(c=Zb(c)).length,n=(h=Zb(h)).length;t>n?(c=c.slice(0,n),j_()):n>t&&(h=h.slice(0,t),j_())}if("function"!=typeof d&&(d=fx(d)),1===d.length?(p&&(d=cx(d),p=!1),void 0===h&&2===(h=Float64Array.from(c,((t,n)=>n/(c.length-1)))).length&&(h=sx),n.interpolate((h===sx?Rb:Mx)(d))):n.interpolate(d),a){const[t,n]=oi(c);(t>0||n<0)&&(Fv(c=Jb(c))!==Math.sign(t)?c[c.length-1]=0:c[0]=0)}return p&&(c=Ri(c)),n.domain(c).unknown(s),i&&(n.nice(function(t,n){return!0===t?void 0:"number"==typeof t?t:function(t,n){if((t=_v(t,n))&&"function"!=typeof t.ceil)throw new Error("invalid interval: missing ceil method");return t}(t,n)}(i,r)),c=n.domain()),void 0!==h&&n.range(h),o&&n.clamp(o),{type:r,domain:c,range:h,scale:n,interpolate:d,interval:l}}function hx(t,n,{exponent:e=1,...r}){return lx(t,Yh().exponent(e),n,{...r,type:"pow"})}function dx(t,n,{base:e=10,domain:r=wx(n),...i}){return lx(t,Oh().base(e),n,{...i,domain:r})}function px(t,n,{constant:e=1,...r}){return lx(t,Rh().constant(e),n,r)}function gx(t,n,{range:e,quantiles:r=(void 0===e?5:(e=[...e]).length),n:i=r,scheme:o="rdylbu",domain:a=$x(n),unknown:c,interpolate:s,reverse:u}){return void 0===e&&(e=void 0!==s?ch(s,i):Bv.get(t)===Rv?rx(o,i):void 0),a.length>0&&(a=Bh(a,void 0===e?{length:i}:e).quantiles()),mx(t,n,{domain:a,range:e,reverse:u,unknown:c})}function mx(t,n,{domain:e=[0],unknown:r,scheme:i="rdylbu",interpolate:o,range:a=(void 0!==o?ch(o,e.length+1):Bv.get(t)===Rv?rx(i,e.length+1):void 0),reverse:c}){const s=Fv(e=Zb(e));if(!isNaN(s)&&!function(t,n){for(let e=1,r=t.length,i=t[0];e<r;++e){const r=Vr(i,i=t[e]);if(0!==r&&r!==n)return!1}return!0}(e,s))throw new Error(`the ${t} scale has a non-monotonic domain`);return c&&(a=Ri(a)),{type:"threshold",scale:Wh(s<0?Ri(e):e,void 0===a?[]:a).unknown(r),domain:e,range:a}}function yx(t,n=hb){return t.length?[ki(t,(({value:t})=>void 0===t?t:ki(t,n))),$i(t,(({value:t})=>void 0===t?t:$i(t,n)))]:[0,1]}function bx(t,n){const e=Bv.get(t);return(e===Pv||e===Iv||e===qv?vx:yx)(n)}function vx(t){return[0,t.length?$i(t,(({value:t})=>void 0===t?t:$i(t,hb))):1]}function _x(t,n){const e=t.find((({radius:t})=>void 0!==t));if(void 0!==e)return[0,e.radius];const r=Ei(t,.5,(({value:t})=>void 0===t?NaN:Ei(t,.25,db))),i=n.map((t=>3*Math.sqrt(t/r))),o=30/$i(i);return o<1?i.map((t=>t*o)):i}function xx(t,n){const e=Di(t,(({value:t})=>void 0===t?NaN:Di(t,Math.abs))),r=n.map((t=>12*t/e)),i=60/$i(r);return i<1?r.map((t=>t*i)):r}function wx(t){for(const{value:n}of t)if(void 0!==n)for(let e of n){if(e>0)return yx(t,db);if(e<0)return yx(t,pb)}return[1,10]}function $x(t){const n=[];for(const{value:e}of t)if(void 0!==e)for(const t of e)n.push(t);return n}function Mx(t){return(n,e)=>r=>t(n+r*(e-n))}function kx(t,n,e,r,{type:i,nice:o,clamp:a,domain:c=yx(r),unknown:s,pivot:u=0,scheme:f,range:l,symmetric:h=!0,interpolate:d=(Bv.get(t)===Rv?null==f&&void 0!==l?Vl:ox(void 0!==f?f:"rdbu"):Jl),reverse:p}){u=+u,c=Zb(c);let[g,m]=c;if(c.length>2&&j_(),Vr(g,m)<0&&([g,m]=[m,g],p=!p),g=Math.min(g,u),m=Math.max(m,u),"function"!=typeof d&&(d=fx(d)),void 0!==l&&(d=1===d.length?Mx(d)(...l):ah(d,l)),p&&(d=cx(d)),h){const t=e.apply(u),n=t-e.apply(g),r=e.apply(m)-t;n<r?g=e.invert(t-r):n>r&&(m=e.invert(t+n))}return n.domain([g,u,m]).unknown(s).interpolator(d),a&&n.clamp(a),o&&n.nice(o),{type:i,domain:[g,m],pivot:u,interpolate:d,scale:n}}function Tx(t,n,e){return kx(t,lg(),Ex,n,e)}function Ax(t,n,{exponent:e=1,...r}){return kx(t,pg().exponent(e=+e),function(t){return.5===t?Lx:{apply:n=>Math.sign(n)*Math.pow(Math.abs(n),t),invert:n=>Math.sign(n)*Math.pow(Math.abs(n),1/t)}}(e),n,{...r,type:"diverging-pow"})}function Nx(t,n,{base:e=10,pivot:r=1,domain:i=yx(n,r<0?pb:db),...o}){return kx(t,hg().base(e=+e),Cx,n,{domain:i,pivot:r,...o})}function Sx(t,n,{constant:e=1,...r}){return kx(t,dg().constant(e=+e),function(t){return{apply:n=>Math.sign(n)*Math.log1p(Math.abs(n/t)),invert:n=>Math.sign(n)*Math.expm1(Math.abs(n))*t}}(e),n,r)}const Ex={apply:t=>t,invert:t=>t},Cx={apply:Math.log,invert:Math.exp},Lx={apply:t=>Math.sign(t)*Math.sqrt(Math.abs(t)),invert:t=>Math.sign(t)*(t*t)};function Dx(t,n,e,r){return lx(t,n,e,r)}function Ux(t,n,e){return Dx(t,function(){return sh.apply(sg(Od,Fd,Ed,Nd,dd,ud,cd,od,id,qd).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}(),n,e)}function Ox(t,n,e){return Dx(t,function(){return sh.apply(sg(Dd,Ud,Cd,Sd,xd,fd,sd,ad,id,Id).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}(),n,e)}const Fx=Symbol("ordinal");function jx(t,n,e,{type:r,interval:i,domain:o,range:a,reverse:c,hint:s}){return i=_v(i,r),void 0===o&&(o=qx(e,i,t)),"categorical"!==r&&r!==Fx||(r="ordinal"),c&&(o=Ri(o)),n.domain(o),void 0!==a&&("function"==typeof a&&(a=a(o)),n.range(a)),{type:r,domain:o,range:a,scale:n,hint:s,interval:i}}function zx(t,n,{type:e,interval:r,domain:i,range:o,scheme:a,unknown:c,...s}){let u;if(r=_v(r,e),void 0===i&&(i=qx(n,r,t)),Bv.get(t)===Hv)u=function(t){return{fill:Ix(t,"fill"),stroke:Ix(t,"stroke")}}(n),o=void 0===o?function(t){return Lv(t.fill)?Ny:Ay}(u):Gb(o,Jv);else if(Bv.get(t)===Rv&&(void 0!==o||"ordinal"!==e&&e!==Fx||(o=function(t,n="greys"){const e=new Set,[r,i]=rx(n,2);for(const o of t)if(null!=o)if(!0===o)e.add(i);else{if(!1!==o)return;e.add(r)}return[...e]}(i,a),void 0!==o&&(a=void 0)),void 0===a&&void 0===o&&(a="ordinal"===e?"turbo":"tableau10"),void 0!==a))if(void 0!==o){const t=ox(a),n=o[0],e=o[1]-o[0];o=({length:r})=>ch((r=>t(n+e*r)),r)}else o=ex(a);if(c===fh)throw new Error(`implicit unknown on ${t} scale is not supported`);return jx(t,lh().unknown(c),n,{...s,type:e,domain:i,range:o,hint:u})}function Rx(t,n,{align:e=.5,padding:r=.5,...i}){return Px(function(){return dh(hh.apply(null,arguments).paddingInner(1))}().align(e).padding(r),n,i,t)}function Px(t,n,e,r){let{round:i}=e;return void 0!==i&&t.round(i=!!i),(t=jx(r,t,n,e)).round=i,t}function qx(t,n,e){const r=new Ft;for(const{value:i,domain:o}of t){if(void 0!==o)return o();if(void 0!==i)for(const t of i)r.add(t)}if(void 0!==n){const[t,e]=oi(r).map(n.floor,n);return n.range(t,n.offset(e))}if(r.size>1e4&&Bv.get(e)===zv)throw new Error(`implicit ordinal domain of ${e} scale has more than 10,000 values`);return hi(r,ub)}function Ix(t,n){let e;for(const{hint:r}of t){const t=r?.[n];if(void 0!==t)if(void 0===e)e=t;else if(e!==t)return}return e}function Hx(t,{label:n,inset:e=0,insetTop:r=e,insetRight:i=e,insetBottom:o=e,insetLeft:a=e,round:c,nice:s,clamp:u,zero:f,align:l,padding:h,projection:d,facet:{label:p=n}={},...g}={}){const m={};for(const[y,b]of t){const t=g[y],e=Qx(y,b,{round:Bv.get(y)===zv?c:void 0,nice:s,clamp:u,zero:f,align:l,padding:h,projection:d,...t});if(e){let{label:c=("fx"===y||"fy"===y?p:n),percent:s,transform:u,inset:f,insetTop:l=(void 0!==f?f:"y"===y?r:0),insetRight:h=(void 0!==f?f:"x"===y?i:0),insetBottom:d=(void 0!==f?f:"y"===y?o:0),insetLeft:g=(void 0!==f?f:"x"===y?a:0)}=t||{};if(null==u)u=void 0;else if("function"!=typeof u)throw new Error("invalid scale transform; not a function");e.percent=!!s,e.label=void 0===c?Bx(b,e):c,e.transform=u,"x"===y||"fx"===y?(e.insetLeft=+g,e.insetRight=+h):"y"!==y&&"fy"!==y||(e.insetTop=+l,e.insetBottom=+d),m[y]=e}}return m}function Yx(t){return Object.fromEntries(Object.entries(t).filter((([,{scale:t}])=>t)).map((([t,{scale:n,type:e,interval:r,label:i}])=>(n.type=e,null!=r&&(n.interval=r),null!=i&&(n.label=i),[t,n]))))}function Bx(t=[],n){let e;for(const{label:r}of t)if(void 0!==r)if(void 0===e)e=r;else if(e!==r)return;if(void 0!==e)return!rw(n)&&n.percent&&(e=`${e} (%)`),{inferred:!0,toString:()=>e}}function Wx(t){const{marginTop:n,marginRight:e,marginBottom:r,marginLeft:i,width:o,height:a,facet:{marginTop:c,marginRight:s,marginBottom:u,marginLeft:f}}=t;return{marginTop:Math.max(n,c),marginRight:Math.max(e,s),marginBottom:Math.max(r,u),marginLeft:Math.max(i,f),width:o,height:a}}function Vx({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:c,height:s}=Wx(e);return{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:t?t.scale.bandwidth()+a+i:c,height:n?n.scale.bandwidth()+r+o:s,facet:{width:c,height:s}}}function Xx(t,n){if(void 0===t.range){const{insetLeft:e,insetRight:r}=t,{width:i,marginLeft:o=0,marginRight:a=0}=n,c=o+e,s=i-a-r;t.range=[c,Math.max(c,s)],rw(t)||(t.range=Jx(t)),t.scale.range(t.range)}Gx(t)}function Zx(t,n){if(void 0===t.range){const{insetTop:e,insetBottom:r}=t,{height:i,marginTop:o=0,marginBottom:a=0}=n,c=o+e,s=i-a-r;t.range=[Math.max(c,s),c],rw(t)?t.range.reverse():t.range=Jx(t),t.scale.range(t.range)}Gx(t)}function Gx(t){void 0===t.round&&function({type:t}){return"point"===t||"band"===t}(t)&&function({scale:t}){const n=t.domain().length,[e,r]=t.range(),i=t.paddingInner?t.paddingInner():1,o=t.paddingOuter?t.paddingOuter():t.padding(),a=n-i,c=Math.abs(r-e)/Math.max(1,a+2*o);return(c-Math.floor(c))*a}(t)<=30&&t.scale.round(!0)}function Jx(t){const n=t.scale.domain().length+iw(t);if(!(n>2))return t.range;const[e,r]=t.range;return Array.from({length:n},((t,i)=>e+i/(n-1)*(r-e)))}function Qx(t,n=[],e={}){const r=function(t,n,{type:e,domain:r,range:i,scheme:o,pivot:a,projection:c}){if("fx"===t||"fy"===t)return"band";"x"!==t&&"y"!==t||null==c||(e=tw);for(const{type:u}of n){if(void 0===u)continue;if(void 0===e)e=u;else if(e!==u)throw new Error(`scale incompatible with channel: ${e} !== ${u}`)}if(e===tw)return;if(void 0!==e)return e;if(void 0===r&&!n.some((({value:t})=>void 0!==t)))return;const s=Bv.get(t);if(s===Pv)return"sqrt";if(s===Iv||s===qv)return"linear";if(s===Hv)return"ordinal";if((r||i||[]).length>2)return nw(s);if(void 0!==r){if(kv(r))return nw(s);if(Tv(r))return"utc"}else{const t=n.map((({value:t})=>t)).filter((t=>void 0!==t));if(t.some(kv))return nw(s);if(t.some(Tv))return"utc"}if(s===Rv){if(null!=a||function(t){return null!=t&&ax.has(`${t}`.toLowerCase())}(o))return"diverging";if(function(t){return null!=t&&Z_.has(`${t}`.toLowerCase())}(o))return"categorical"}return"linear"}(t,n,e);if(void 0===e.type&&void 0===e.domain&&void 0===e.range&&null==e.interval&&"fx"!==t&&"fy"!==t&&rw({type:r})){const t=n.map((({value:t})=>t)).filter((t=>void 0!==t));(t.some(Tv)||t.some(Av)||t.some(Nv))&&j_((Kx(r),Kx(r)))}switch(e.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":e=aw(n,e,qb);break;case"identity":switch(Bv.get(t)){case zv:e=aw(n,e,qb);break;case Hv:e=aw(n,e,cw)}break;case"utc":case"time":e=aw(n,e,Hb)}switch(r){case"diverging":return Tx(t,n,e);case"diverging-sqrt":return function(t,n,e){return Ax(t,n,{...e,exponent:.5})}(t,n,e);case"diverging-pow":return Ax(t,n,e);case"diverging-log":return Nx(t,n,e);case"diverging-symlog":return Sx(t,n,e);case"categorical":case"ordinal":case Fx:return zx(t,n,e);case"cyclical":case"sequential":case"linear":return function(t,n,e){return lx(t,kh(),n,e)}(t,n,e);case"sqrt":return function(t,n,e){return hx(t,n,{...e,exponent:.5})}(t,n,e);case"threshold":return mx(t,0,e);case"quantile":return gx(t,n,e);case"quantize":return function(t,n,{range:e,n:r=(void 0===e?5:(e=[...e]).length),scheme:i="rdylbu",domain:o=bx(t,n),unknown:a,interpolate:c,reverse:s}){const[u,f]=oi(o);let l;return void 0===e?(l=_i(u,f,r),l[0]<=u&&l.splice(0,1),l[l.length-1]>=f&&l.pop(),r=l.length+1,e=void 0!==c?ch(c,r):Bv.get(t)===Rv?rx(i,r):void 0):(l=ch(Jl(u,f),r+1).slice(1,-1),u instanceof Date&&(l=l.map((t=>new Date(t))))),Fv(Zb(o))<0&&l.reverse(),mx(t,0,{domain:l,range:e,reverse:s,unknown:a})}(t,n,e);case"pow":return hx(t,n,e);case"log":return dx(t,n,e);case"symlog":return px(t,n,e);case"utc":return Ox(t,n,e);case"time":return Ux(t,n,e);case"point":return Rx(t,n,e);case"band":return function(t,n,{align:e=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=("fx"===t||"fy"===t?0:r),...a}){return Px(hh().align(e).paddingInner(i).paddingOuter(o),n,a,t)}(t,n,e);case"identity":return Bv.get(t)===zv?{type:"identity",scale:Th()}:{type:"identity"};case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function Kx(t){return"symbol"==typeof t?t.description:t}const tw={toString:()=>"projection"};function nw(t){switch(t){case zv:return"point";case Rv:return Fx;default:return"ordinal"}}function ew({type:t}){return"time"===t||"utc"===t}function rw({type:t}){return"ordinal"===t||"point"===t||"band"===t||t===Fx}function iw({type:t}){return"threshold"===t}function ow(t){if(void 0===t)return!0;const n=t.domain(),e=t(n[0]);for(let r=1,i=n.length;r<i;++r)if(t(n[r])-e)return!1;return!0}function aw(t,{domain:n,...e},r){for(const i of t)void 0!==i.value&&(i.value=r(i.value));return{domain:void 0===n?n:r(n),...e}}function cw(t){return Gb(t,Jv)}function sw(t){return n=>{if(!Bv.has(n=`${n}`))throw new Error(`unknown scale: ${n}`);return n in t?function({scale:t,type:n,domain:e,range:r,interpolate:i,interval:o,transform:a,percent:c,pivot:s}){if("identity"===n)return{type:"identity",apply:t=>t,invert:t=>t};const u=t.unknown?t.unknown():void 0;return{type:n,domain:Jb(e),...void 0!==r&&{range:Jb(r)},...void 0!==a&&{transform:a},...c&&{percent:c},...void 0!==u&&{unknown:u},...void 0!==o&&{interval:o},...void 0!==i&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...void 0!==s&&{pivot:s,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:n=>t(n),...t.invert&&{invert:n=>t.invert(n)}}}(t[n]):void 0}}const uw=function(t){let n,e;return(...r)=>((e?.length!==r.length||e.some(((t,n)=>t!==r[n])))&&(e=r,n=t(...r)),n)}((t=>new Intl.NumberFormat(t)));function fw(t){return gb(t,"Invalid Date")}const lw=function(t="en-US"){const n=function(t="en-US"){const n=uw(t);return t=>null==t||isNaN(t)?void 0:n.format(t)}(t);return t=>(t instanceof Date?fw:"number"==typeof t?n:Ob)(t)}(),hw=("undefined"!=typeof window?window.devicePixelRatio>1:"undefined"==typeof it)?0:.5;let dw=0;function pw(){return"plot-clip-"+ ++dw}function gw(t,{title:n,href:e,ariaLabel:r,ariaDescription:i,ariaHidden:o,target:a,fill:c,fillOpacity:s,stroke:u,strokeWidth:f,strokeOpacity:l,strokeLinejoin:h,strokeLinecap:d,strokeMiterlimit:p,strokeDasharray:g,strokeDashoffset:m,opacity:y,mixBlendMode:b,imageFilter:v,paintOrder:_,pointerEvents:x,shapeRendering:w,channels:$},{ariaLabel:M,fill:k="currentColor",fillOpacity:T,stroke:A="none",strokeOpacity:N,strokeWidth:S,strokeLinecap:E,strokeLinejoin:C,strokeMiterlimit:L,paintOrder:D}){null===k&&(c=null,s=null),null===A&&(u=null,l=null),Lv(k)?Lv(A)||Lv(c)&&!$?.fill||(A="none"):!Lv(A)||Lv(u)&&!$?.stroke||(k="none");const[U,O]=Bb(c,k),[F,j]=Wb(s,T),[z,R]=Bb(u,A),[P,q]=Wb(l,N),[I,H]=Wb(y);Dv(R)||(void 0===f&&(f=S),void 0===d&&(d=E),void 0===h&&(h=C),void 0!==p||function(t){return/^\s*round\s*$/i.test(t)}(h)||(p=L),Dv(O)||void 0!==_||(_=D));const[Y,B]=Wb(f);return null!==k&&(t.fill=Tw(O,"currentColor"),t.fillOpacity=Aw(j,1)),null!==A&&(t.stroke=Tw(R,"none"),t.strokeWidth=Aw(B,1),t.strokeOpacity=Aw(q,1),t.strokeLinejoin=Tw(h,"miter"),t.strokeLinecap=Tw(d,"butt"),t.strokeMiterlimit=Aw(p,4),t.strokeDasharray=Tw(g,"none"),t.strokeDashoffset=Tw(m,"0")),t.target=Ob(a),t.ariaLabel=Ob(M),t.ariaDescription=Ob(i),t.ariaHidden=Ob(o),t.opacity=Aw(H,1),t.mixBlendMode=Tw(b,"normal"),t.imageFilter=Tw(v,"none"),t.paintOrder=Tw(_,"normal"),t.pointerEvents=Tw(x,"auto"),t.shapeRendering=Tw(w,"auto"),{title:{value:n,optional:!0},href:{value:e,optional:!0},ariaLabel:{value:r,optional:!0},fill:{value:U,scale:"auto",optional:!0},fillOpacity:{value:F,scale:"auto",optional:!0},stroke:{value:z,scale:"auto",optional:!0},strokeOpacity:{value:P,scale:"auto",optional:!0},strokeWidth:{value:Y,optional:!0},opacity:{value:I,scale:"auto",optional:!0}}}function mw(t,n){n&&t.text((t=>lw(n[t])))}function yw(t,n){n&&t.text((([t])=>lw(n[t])))}function bw(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:c,strokeOpacity:s,strokeWidth:u,opacity:f,href:l}){r&&Mw(t,"aria-label",(t=>r[t])),o&&Mw(t,"fill",(t=>o[t])),a&&Mw(t,"fill-opacity",(t=>a[t])),c&&Mw(t,"stroke",(t=>c[t])),s&&Mw(t,"stroke-opacity",(t=>s[t])),u&&Mw(t,"stroke-width",(t=>u[t])),f&&Mw(t,"opacity",(t=>f[t])),l&&$w(t,(t=>l[t]),n),e||function(t,n){n&&t.filter((t=>lb(n[t]))).append("title").call(mw,n)}(t,i)}function vw(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:c,strokeOpacity:s,strokeWidth:u,opacity:f,href:l}){r&&Mw(t,"aria-label",(([t])=>r[t])),o&&Mw(t,"fill",(([t])=>o[t])),a&&Mw(t,"fill-opacity",(([t])=>a[t])),c&&Mw(t,"stroke",(([t])=>c[t])),s&&Mw(t,"stroke-opacity",(([t])=>s[t])),u&&Mw(t,"stroke-width",(([t])=>u[t])),f&&Mw(t,"opacity",(([t])=>f[t])),l&&$w(t,(([t])=>l[t]),n),e||function(t,n){n&&t.filter((([t])=>lb(n[t]))).append("title").call(yw,n)}(t,i)}function*_w(t,n,e,r){const{z:i}=e,{z:o}=r,a=function({ariaLabel:t,title:n,fill:e,fillOpacity:r,stroke:i,strokeOpacity:o,strokeWidth:a,opacity:c,href:s},{tip:u}){return[t,u?void 0:n,e,r,i,o,a,c,s].filter((t=>void 0!==t))}(r,e),c=[...n,...a];for(const s of o?function(t,n,e){const r=si(t,(t=>n[t]));return void 0===e&&r.size>1+t.length>>1&&j_(),r.values()}(t,o,i):[t]){let t,n;t:for(const e of s){for(const t of c)if(!sb(t[e])){n&&n.push(-1);continue t}if(void 0!==t){n.push(e);for(let r=0;r<a.length;++r){if(lv(a[r][e])!==t[r]){yield n,t=a.map((t=>lv(t[e]))),n=[e];continue t}}}else n&&(yield n),t=a.map((t=>lv(t[e]))),n=[e]}n&&(yield n)}}function xw(t,n,e,r){!function(t,n,e,r){let i;switch(n.clip){case"frame":{const{width:n,height:o,marginLeft:a,marginRight:c,marginTop:s,marginBottom:u}=e,f=pw();i=`url(#${f})`,t=O_("svg:g",r).call((t=>t.append("svg:clipPath").attr("id",f).append("rect").attr("x",a).attr("y",s).attr("width",n-c-a).attr("height",o-s-u))).each((function(){this.appendChild(t.node()),t.node=()=>this}));break}case"sphere":{const{projection:n}=r;if(!n)throw new Error('the "sphere" clip option requires a projection');const e=pw();i=`url(#${e})`,t.append("clipPath").attr("id",e).append("path").attr("d",Bf(n)({type:"Sphere"}));break}}Mw(t,"aria-label",n.ariaLabel),Mw(t,"aria-description",n.ariaDescription),Mw(t,"aria-hidden",n.ariaHidden),Mw(t,"clip-path",i)}(t,n,e,r),Mw(t,"fill",n.fill),Mw(t,"fill-opacity",n.fillOpacity),Mw(t,"stroke",n.stroke),Mw(t,"stroke-width",n.strokeWidth),Mw(t,"stroke-opacity",n.strokeOpacity),Mw(t,"stroke-linejoin",n.strokeLinejoin),Mw(t,"stroke-linecap",n.strokeLinecap),Mw(t,"stroke-miterlimit",n.strokeMiterlimit),Mw(t,"stroke-dasharray",n.strokeDasharray),Mw(t,"stroke-dashoffset",n.strokeDashoffset),Mw(t,"shape-rendering",n.shapeRendering),Mw(t,"filter",n.imageFilter),Mw(t,"paint-order",n.paintOrder),Mw(t,"pointer-events",n.pointerEvents)}function ww(t,n){!function(t,n,e){null!=e&&t.style(n,e)}(t,"mix-blend-mode",n.mixBlendMode),Mw(t,"opacity",n.opacity)}function $w(t,n,e){t.each((function(t){const r=n(t);if(null!=r){const t=this.ownerDocument.createElementNS(no.svg,"a");t.setAttribute("fill","inherit"),t.setAttributeNS(no.xlink,"href",r),null!=e&&t.setAttribute("target",e),this.parentNode.insertBefore(t,this).appendChild(this)}}))}function Mw(t,n,e){null!=e&&t.attr(n,e)}function kw(t,n,{x:e,y:r},i=hw,o=hw){i+=n.dx,o+=n.dy,e?.bandwidth&&(i+=e.bandwidth()/2),r?.bandwidth&&(o+=r.bandwidth()/2),(i||o)&&t.attr("transform",`translate(${i},${o})`)}function Tw(t,n){if((t=Ob(t))!==n)return t}function Aw(t,n){if((t=Fb(t))!==n)return t}const Nw=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function Sw(t){if(void 0===t)return"plot-d6a7b5";if(t=`${t}`,!Nw.test(t))throw new Error(`invalid class name: ${t}`);return t}function Ew(t,n){if("string"==typeof n)t.property("style",n);else if(null!=n)for(const e of t)Object.assign(e.style,n)}function Cw({frameAnchor:t},{width:n,height:e,marginTop:r,marginRight:i,marginBottom:o,marginLeft:a}){return[/left$/.test(t)?a:/right$/.test(t)?n-i:(a+n-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?e-o:(r+e-o)/2]}function Lw({x:t,y:n,fy:e,fx:r},{projection:i,aspectRatio:o},{width:a,marginTopDefault:c,marginRightDefault:s,marginBottomDefault:u,marginLeftDefault:f}){const l=e?e.scale.domain().length:1,h=function(t){if("function"==typeof t?.stream)return.618;if(nv(t)&&(t=t.type),null!=t){if("function"!=typeof t){const{aspectRatio:n}=q_(t);if(n)return n}return.618}}(i);if(h){const t=(1.1*l-.1)/(1.1*(r?r.scale.domain().length:1)-.1)*h,n=Math.max(.1,Math.min(10,t));return Math.round((a-f-s)*n+c+u)}const d=n?rw(n)?n.scale.domain().length:Math.max(7,17/l):1;if(null!=o){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const i=Dw("y",n)/(Dw("x",t)*o),l=r?r.scale.bandwidth():1,h=e?e.scale.bandwidth():1;return(i*(l*(a-f-s)-t.insetLeft-t.insetRight)+n.insetTop+n.insetBottom)/h+c+u}return!(!n&&!e)*Math.max(1,Math.min(60,d*l))*20+30*!!r+60}function Dw(t,n){if(!n)throw new Error(`aspectRatio requires ${t} scale`);const{type:e,domain:r}=n;let i;switch(e){case"linear":case"utc":case"time":i=Number;break;case"pow":{const t=n.scale.exponent();i=n=>Math.pow(n,t);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${e}`)}const[o,a]=oi(r);return Math.abs(i(a)-i(o))}function Uw(t,n){const{fx:e,fy:r}=Hx(t,n),i=e?.scale.domain(),o=r?.scale.domain();return i&&o?function(...t){const n="function"==typeof t[t.length-1]&&function(t){return n=>t(...n)}(t.pop()),e=(t=t.map(ni)).map(Kr),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||e.some(ti))return o;for(;;){o.push(i.map(((n,e)=>t[e][n])));let a=r;for(;++i[a]===e[a];){if(0===a)return n?o.map(n):o;i[a--]=0}}}(i,o).map((([t,n],e)=>({x:t,y:n,i:e}))):i?i.map(((t,n)=>({x:t,i:n}))):o?o.map(((t,n)=>({y:t,i:n}))):void 0}function Ow(t,{fx:n,fy:e}){const r=sv(t),i=n?.value,o=e?.value;return n&&e?ui(r,(t=>(t.fx=i[t[0]],t.fy=o[t[0]],t)),(t=>i[t]),(t=>o[t])):n?ui(r,(t=>(t.fx=i[t[0]],t)),(t=>i[t])):ui(r,(t=>(t.fy=o[t[0]],t)),(t=>o[t]))}function Fw(t){const n=[],e=new Uint32Array(zi(t,(t=>t.length)));for(const r of t){let i=0;for(const n of t)r!==n&&(e.set(n,i),i+=n.length);n.push(e.slice(0,i))}return n}const jw=new Map([["top",Iw],["right",Bw],["bottom",Hw],["left",Yw],["top-left",Ww(Iw,Yw)],["top-right",Ww(Iw,Bw)],["bottom-left",Ww(Hw,Yw)],["bottom-right",Ww(Hw,Bw)],["top-empty",function(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Pw(n,r);if(o>0)return qw(t,e,n[o-1])}],["right-empty",function(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Pw(n,e);if(o<n.length-1)return qw(t,n[o+1],r)}],["bottom-empty",function(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Pw(n,r);if(o<n.length-1)return qw(t,e,n[o+1])}],["left-empty",function(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Pw(n,e);if(o>0)return qw(t,n[o-1],r)}],["empty",function(t,n,{empty:e}){return e}]]);const zw=new WeakMap;function Rw(t){let n=zw.get(t);return n||zw.set(t,n=new Ot(Gb(t,((t,n)=>[t,n])))),n}function Pw(t,n){return Rw(t).get(n)}function qw(t,n,e){return function(t,n,e){return n=lv(n),e=lv(e),t.find((t=>Object.is(lv(t.x),n)&&Object.is(lv(t.y),e)))}(t,n,e)?.empty}function Iw(t,{y:n},{y:e}){return!n||0===Pw(n,e)}function Hw(t,{y:n},{y:e}){return!n||Pw(n,e)===n.length-1}function Yw(t,{x:n},{x:e}){return!n||0===Pw(n,e)}function Bw(t,{x:n},{x:e}){return!n||Pw(n,e)===n.length-1}function Ww(t,n){return function(){return t.apply(null,arguments)&&n.apply(null,arguments)}}function Vw(t,{channels:{fx:n,fy:e},groups:r}){return n&&e?t.map((({x:t,y:n})=>r.get(t)?.get(n)??[])):n?t.map((({x:t})=>r.get(t)??[])):t.map((({y:t})=>r.get(t)??[]))}class Xw{constructor(t,n={},e={},r){const{facet:i="auto",facetAnchor:o,fx:a,fy:c,sort:s,dx:u=0,dy:f=0,margin:l=0,marginTop:h=l,marginRight:d=l,marginBottom:p=l,marginLeft:g=l,clip:m,channels:y,tip:b,render:v}=e;if(this.data=t,this.sort=iv(s)?s:null,this.initializer=Kv(e).initializer,this.transform=this.initializer?e.transform:Qv(e).transform,null===i||!1===i?this.facet=null:(this.facet=Xb(!0===i?"include":i,"facet",["auto","include","exclude","super"]),this.fx=t===Sb&&"string"==typeof a?[a]:a,this.fy=t===Sb&&"string"==typeof c?[c]:c),this.facetAnchor=function(t){if(null==t)return null;const n=jw.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid facet anchor: ${t}`)}(o),n=jv(n),void 0!==y&&(n={...Jw(y),...n}),void 0!==r&&(n={...gw(this,e,r),...n}),this.channels=Object.fromEntries(Object.entries(n).map((([n,e])=>{if(rv(e.value)){const{value:t,scale:n=e.scale}=e.value;e={...e,scale:n,value:t}}if(t===Sb&&"string"==typeof e.value){const{value:t}=e;e={...e,value:[t]}}return[n,e]})).filter((([t,{value:n,optional:e}])=>{if(null!=n)return!0;if(e)return!1;throw new Error(`missing channel value: ${t}`)}))),this.dx=+u,this.dy=+f,this.marginTop=+h,this.marginRight=+d,this.marginBottom=+p,this.marginLeft=+g,this.clip=function(t){return!0===t?t="frame":!1===t&&(t=null),Vb(t,"clip",["frame","sphere"])}(m),this.tip=function(t){return!0===t?"xy":!1===t?null:Vb(t,"tip",["x","y","xy"])}(b),"super"===this.facet){if(a||c)throw new Error("super-faceting cannot use fx or fy");for(const t in this.channels){const{scale:e}=n[t];if("x"===e||"y"===e)throw new Error("super-faceting cannot use x or y")}}null!=v&&(this.render=Gw(v,this.render))}initialize(t,n,e){let r=Zb(this.data);void 0===t&&null!=r&&(t=[sv(r)]);const i=t;null!=this.transform&&(({facets:t,data:r}=this.transform(r,t,e)),r=Zb(r)),void 0!==t&&(t.original=i);const o=function(t,n){return Object.fromEntries(Object.entries(t).map((([t,e])=>[t,M_(n,e,t)])))}(this.channels,r);return null!=this.sort&&function(t,n,e,r,i){const{order:o,reverse:a,reduce:c=!0,limit:s}=i;for(const u in i){if(!Bv.has(u))continue;let{value:f,order:l=o,reverse:h=a,reduce:d=c,limit:p=s}=xv(i[u]);const g=f?.startsWith("-");if(g&&(f=f.slice(1)),l=void 0===l?g!==("width"===f||"height"===f)?L_:C_:E_(l),null==d||!1===d)continue;const m="fx"===u||"fy"===u?A_(n,r[u]):T_(e,u);if(!m)throw new Error(`missing channel for scale: ${u}`);const y=m.value,[b=0,v=1/0]=$v(p)?p:p<0?[p]:[0,p];if(null==f)m.domain=()=>{let t=Array.from(new Ft(y));return h&&(t=t.reverse()),0===b&&v===1/0||(t=t.slice(b,v)),t};else{const n="data"===f?t:"height"===f?N_(e,"y1","y2"):"width"===f?N_(e,"x1","x2"):S_(e,f,"y"===f?"y2":"x"===f?"x2":void 0),r=h_(!0===d?"max":d,n);m.domain=()=>{let t=fi(sv(y),(t=>r.reduceIndex(t,n)),(t=>y[t]));return l&&t.sort(l),h&&t.reverse(),0===b&&v===1/0||(t=t.slice(b,v)),t.map(jb)}}}}(r,t,o,n,this.sort),{data:r,facets:t,channels:o}}filter(t,n,e){for(const r in n){const{filter:i=sb}=n[r];if(null!==i){const n=e[r];t=t.filter((t=>i(n[t])))}}return t}project(t,n,e){for(const r in t)if("x"===t[r].scale&&/^x|x$/.test(r)){const i=r.replace(/^x|x$/,"y");i in t&&"y"===t[i].scale&&W_(r,i,n,e.projection)}}scale(t,n,e){const r=function(t,n){const e=Object.fromEntries(Object.entries(t).map((([t,{scale:e,value:r}])=>{const i=null==e?null:n[e];return[t,null==i?r:Gb(r,i)]})));return e.channels=t,e}(t,n);return e.projection&&this.project(t,r,e),r}}function Zw(...t){return t.plot=Xw.prototype.plot,t}function Gw(t,n){if(null==t)return null===n?void 0:n;if(null==n)return null===t?void 0:t;if("function"!=typeof t)throw new TypeError(`invalid render transform: ${t}`);if("function"!=typeof n)throw new TypeError(`invalid render transform: ${n}`);return function(e,r,i,o,a,c){return t.call(this,e,r,i,o,a,((t,e,r,i,o)=>n.call(this,t,e,r,i,o,c)))}}function Jw(t){return Object.fromEntries(Object.entries(jv(t)).map((([t,n])=>(void 0===(n=xv(n)).filter&&null==n.scale&&(n={...n,filter:null}),[t,n]))))}function Qw(t,n){return!0===t?.tip?{...t,tip:n}:t}const Kw=new WeakMap;function t$(t,n,{x:e,y:r,px:i,py:o,maxRadius:a=40,channels:c,render:s,...u}={}){return a=+a,null!=i&&(e??=null,c={...c,px:{value:i,scale:"x"}}),null!=o&&(r??=null,c={...c,py:{value:o,scale:"y"}}),{x:e,y:r,channels:c,...u,render:Gw((function(e,r,i,o,c,s){const u=c.ownerSVGElement,{data:f}=c.getMarkState(this);let l=Kw.get(u);l||Kw.set(u,l={sticky:!1,roots:[],renders:[]});let h=l.renders.push(C)-1;const{x:d,y:p,fx:g,fy:m}=r;let y=g?g(e.fx)-o.marginLeft:0,b=m?m(e.fy)-o.marginTop:0;d?.bandwidth&&(y+=d.bandwidth()/2),p?.bandwidth&&(b+=p.bandwidth()/2);const v=null!=e.fi;let _;if(v){let t=l.facetStates;t||(l.facetStates=t=new Map),_=t.get(this),_||t.set(this,_=new Map)}const[x,w]=Cw(this,o),{px:$,py:M}=i,k=$?t=>$[t]:i$(i,x),T=M?t=>M[t]:o$(i,w);let A,N,S;function E(t,n){if(v){if(S&&(S=cancelAnimationFrame(S)),null!=t)return _.set(e.fi,n),void(S=requestAnimationFrame((()=>{S=null;for(const e of _.values())if(e<n){t=null;break}C(t)})));_.delete(e.fi)}C(t)}function C(t){if(A===t)return;A=t;const n=null==A?[]:[A];v&&(n.fx=e.fx,n.fy=e.fy,n.fi=e.fi);const a=s(n,r,i,o,c);if(N){if(v){const t=N.parentNode,n=N.getAttribute("transform"),e=a.getAttribute("transform");n?a.setAttribute("transform",n):a.removeAttribute("transform"),e?t.setAttribute("transform",e):t.removeAttribute("transform"),a.removeAttribute("aria-label"),a.removeAttribute("aria-description"),a.removeAttribute("aria-hidden")}N.replaceWith(a)}return l.roots[h]=N=a,c.dispatchValue(null==A?null:f[A]),a}function L(r){if(l.sticky||"mouse"===r.pointerType&&1===r.buttons)return;let[i,o]=function(t,n){if(t=function(t){let n;for(;n=t.sourceEvent;)t=n;return t}(t),void 0===n&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(n.getScreenCTM().inverse())).x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}(r);i-=y,o-=b;let c=null,s=a*a;for(const a of e){const e=t*(k(a)-i),r=n*(T(a)-o),u=e*e+r*r;u<=s&&(c=a,s=u)}E(c,s)}return u.addEventListener("pointerenter",L),u.addEventListener("pointermove",L),u.addEventListener("pointerdown",(function(t){"mouse"===t.pointerType&&null!=A&&(l.sticky&&l.roots.some((n=>n?.contains(t.target)))||(l.sticky?(l.sticky=!1,l.renders.forEach((t=>t(null)))):l.sticky=!0,t.stopImmediatePropagation()))})),u.addEventListener("pointerleave",(function(t){"mouse"===t.pointerType&&(l.sticky||E(null))})),C(null)}),s)}}function n$(t){return t$(1,1,t)}function e$(t){return t$(1,.01,t)}function r$(t){return t$(.01,1,t)}function i$({x1:t,x2:n,x:e=t},r){return t&&n?e=>(t[e]+n[e])/2:e?t=>e[t]:()=>r}function o$({y1:t,y2:n,y:e=t},r){return t&&n?e=>(t[e]+n[e])/2:e?t=>e[t]:()=>r}function a$(t){return rw(t)&&void 0===t.interval?void 0:"tabular-nums"}function c$(t,n){let{label:e=t.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:a=18,marginRight:c=0,marginBottom:s=16+r,marginLeft:u=0,style:f,ticks:l=(i-u-c)/64,tickFormat:h,fontVariant:d=a$(t),round:p=!0,opacity:g,className:m}=n;const y=U_(n);m=Sw(m),g=Wb(g)[1],null===h&&(h=()=>null);const b=O_("svg",y).attr("class",`${m}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call((t=>t.append("style").text(`.${m}-ramp {\n  display: block;\n  background: white;\n  height: auto;\n  height: intrinsic;\n  max-width: 100%;\n  overflow: visible;\n}\n.${m}-ramp text {\n  white-space: pre;\n}`))).call(Ew,f);let v,_=t=>t.selectAll(".tick line").attr("y1",a+s-o);const x=p?(t,n)=>t.rangeRound(n):(t,n)=>t.range(n),{type:w,domain:$,range:M,interpolate:k,scale:T,pivot:A}=t;if(k){const t=void 0===M?k:ah(1===k.length?Mx(k):k,M);v=x(T.copy(),ch(Jl(u,i-c),Math.min($.length+(void 0!==A),void 0===M?1/0:M.length)));const n=256,e=y.document.createElement("canvas");e.width=n,e.height=1;const r=e.getContext("2d");for(let i=0,o=n-1;i<n;++i)r.fillStyle=t(i/o),r.fillRect(i,0,1,1);b.append("image").attr("opacity",g).attr("x",u).attr("y",a).attr("width",i-u-c).attr("height",o-a-s).attr("preserveAspectRatio","none").attr("xlink:href",e.toDataURL())}else if("threshold"===w){const t=$,n=void 0===h?t=>t:"string"==typeof h?Ls(h):h;v=x(kh().domain([-1,M.length-1]),[u,i-c]),b.append("g").attr("fill-opacity",g).selectAll().data(M).enter().append("rect").attr("x",((t,n)=>v(n-1))).attr("y",a).attr("width",((t,n)=>v(n)-v(n-1))).attr("height",o-a-s).attr("fill",(t=>t)),l=Gb(t,((t,n)=>n)),h=e=>n(t[e],e)}else v=x(hh().domain($),[u,i-c]),b.append("g").attr("fill-opacity",g).selectAll().data($).enter().append("rect").attr("x",v).attr("y",a).attr("width",Math.max(0,v.bandwidth()-1)).attr("height",o-a-s).attr("fill",T),_=()=>{};return b.append("g").attr("transform",`translate(0,${o-s})`).call(function(t){return Ki(3,t)}(v).ticks(Array.isArray(l)?null:l,"string"==typeof h?h:void 0).tickFormat("function"==typeof h?h:void 0).tickSize(r).tickValues(Array.isArray(l)?l:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",Tw(d,"normal")).call(_).call((t=>t.select(".domain").remove())),void 0!==e&&b.append("text").attr("x",u).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(e),b.node()}function s$(t,n){if(null==n)return n;const e=t(n);if(!e)throw new Error(`scale not found: ${n}`);return e}function u$(t,n={},e){let{columns:r,tickFormat:i,fontVariant:o=a$(t),swatchSize:a=15,swatchWidth:c=a,swatchHeight:s=a,marginLeft:u=0,className:f,style:l,width:h}=n;const d=U_(n);f=Sw(f),i=function(t,n){return void 0===t?Tv(n)?fw:Ob:"function"==typeof t?t:("string"==typeof t?Tv(n)?Id:Ls:Rb)(t)}(i,t.domain);const p=O_("div",d).attr("class",`${f}-swatches ${f}-swatches-${null!=r?"columns":"wrap"}`);let g;return null!=r?(g=`.${f}-swatches-columns .${f}-swatch {\n  display: flex;\n  align-items: center;\n  break-inside: avoid;\n  padding-bottom: 1px;\n}\n.${f}-swatches-columns .${f}-swatch::before {\n  flex-shrink: 0;\n}\n.${f}-swatches-columns .${f}-swatch-label {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${f}-swatch`).call(e,t,c,s).call((t=>t.append("div").attr("class",`${f}-swatch-label`).attr("title",i).text(i)))):(g=`.${f}-swatches-wrap {\n  display: flex;\n  align-items: center;\n  min-height: 33px;\n  flex-wrap: wrap;\n}\n.${f}-swatches-wrap .${f}-swatch {\n  display: inline-flex;\n  align-items: center;\n  margin-right: 1em;\n}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${f}-swatch`).call(e,t,c,s).append((function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))}))),p.call((t=>t.insert("style","*").text(`.${f}-swatches {\n  font-family: system-ui, sans-serif;\n  font-size: 10px;\n  margin-bottom: 0.5em;\n}\n.${f}-swatch > svg {\n  margin-right: 0.5em;\n  overflow: visible;\n}\n${g}`))).style("margin-left",u?+u+"px":null).style("width",void 0===h?null:+h+"px").style("font-variant",Tw(o,"normal")).call(Ew,l).node()}const f$=new Map([["symbol",function(t,{fill:n=(void 0!==t.hint?.fill?t.hint.fill:"none"),fillOpacity:e=1,stroke:r=(void 0!==t.hint?.stroke?t.hint.stroke:Lv(n)?"currentColor":"none"),strokeOpacity:i=1,strokeWidth:o=1.5,r:a=4.5,...c}={},s){const[u,f]=Bb(n),[l,h]=Bb(r),d=s$(s,u),p=s$(s,l),g=a*a*Math.PI;return e=Wb(e)[1],i=Wb(i)[1],o=Wb(o)[1],u$(t,c,((n,r,a,c)=>n.append("svg").attr("viewBox","-8 -8 16 16").attr("width",a).attr("height",c).attr("fill","color"===u?t=>d.scale(t):f).attr("fill-opacity",e).attr("stroke","color"===l?t=>p.scale(t):h).attr("stroke-opacity",i).attr("stroke-width",o).append("path").attr("d",(n=>{const e=Mc();return t.scale(n).draw(e,g),e}))))}],["color",h$],["opacity",function({type:t,interpolate:n,...e},{legend:r=!0,color:i=Wc(0,0,0),...o}){if(!n)throw new Error(`${t} opacity scales are not supported`);!0===r&&(r="ramp");if("ramp"!==`${r}`.toLowerCase())throw new Error(`${r} opacity legends are not supported`);return h$({type:t,...e,interpolate:d$(i)},{legend:r,...o})}]]);function l$({className:t,...n},{label:e,ticks:r,tickFormat:i}={},o){return function(t={},...n){let e=t;for(const r of n)for(const n in r)if(void 0===e[n]){const i=r[n];e===t?e={...e,[n]:i}:e[n]=i}return e}(o,{className:t,...n},{label:e,ticks:r,tickFormat:i})}function h$(t,{legend:n=!0,...e}){if(!0===n&&(n="ordinal"===t.type?"swatches":"ramp"),void 0!==t.domain)switch(`${n}`.toLowerCase()){case"swatches":return function(t,{opacity:n,...e}={}){if(!rw(t)&&!iw(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return u$(t,e,((t,e,r,i)=>t.append("svg").attr("width",r).attr("height",i).attr("fill",e.scale).attr("fill-opacity",Wb(n)[1]).append("rect").attr("width","100%").attr("height","100%")))}(t,e);case"ramp":return c$(t,e);default:throw new Error(`unknown legend type: ${n}`)}}function d$(t){const{r:n,g:e,b:r}=Wc(t)||Wc(0,0,0);return t=>`rgba(${n},${e},${r},${t})`}const p$=Math.PI/180;function g$(t,{marker:n,markerStart:e=n,markerMid:r=n,markerEnd:i=n}={}){t.markerStart=m$(e),t.markerMid=m$(r),t.markerEnd=m$(i)}function m$(t){if(null==t||!1===t)return null;if(!0===t)return v$;if("function"==typeof t)return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return y$("auto");case"arrow-reverse":return y$("auto-start-reverse");case"dot":return b$;case"circle":case"circle-fill":return v$;case"circle-stroke":return _$}throw new Error(`invalid marker: ${t}`)}function y$(t){return(n,e)=>O_("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",n).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call((t=>t.append("path").attr("d","M-1.5,-3l3,3l-3,3"))).node()}function b$(t,n){return O_("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call((t=>t.append("circle").attr("r",2.5))).node()}function v$(t,n){return O_("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","white").attr("stroke-width",1.5).call((t=>t.append("circle").attr("r",3))).node()}function _$(t,n){return O_("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","white").attr("stroke",t).attr("stroke-width",1.5).call((t=>t.append("circle").attr("r",3))).node()}let x$=0;function w$(t,n,{stroke:e},r){return M$(t,n,e&&(t=>e[t]),r)}function $$(t,n,{stroke:e},r){return M$(t,n,e&&(([t])=>e[t]),r)}function M$(t,{markerStart:n,markerMid:e,markerEnd:r,stroke:i},o=(()=>i),a){const c=new Map;function s(t){return function(n){const e=o(n);let r=c.get(t);r||c.set(t,r=new Map);let i=r.get(e);if(!i){const n=this.parentNode.insertBefore(t(e,a),this),o="plot-marker-"+ ++x$;n.setAttribute("id",o),r.set(e,i=`url(#${o})`)}return i}}n&&t.attr("marker-start",s(n)),e&&t.attr("marker-mid",s(e)),r&&t.attr("marker-end",s(r))}function k$({inset:t,insetLeft:n,insetRight:e,...r}={}){return[n,e]=A$(t,n,e),{inset:t,insetLeft:n,insetRight:e,...r}}function T$({inset:t,insetTop:n,insetBottom:e,...r}={}){return[n,e]=A$(t,n,e),{inset:t,insetTop:n,insetBottom:e,...r}}function A$(t,n,e){return void 0===t&&void 0===n&&void 0===e?hw?[1,0]:[.5,.5]:[n,e]}function N$(t,{interval:n}){return(t={...xv(t)}).interval=vv(void 0===t.interval?n:t.interval),t}function S$(t,n,e,r){const{[t]:i,[`${t}1`]:o,[`${t}2`]:a}=e,{value:c,interval:s}=N$(i,e);if(null==c||null==s&&!r)return e;const u=gv(i);if(null==s){let n;const r={transform:t=>n||(n=Tb(t,c)),label:u};return{...e,[t]:void 0,[`${t}1`]:void 0===o?r:o,[`${t}2`]:void 0===a?r:a}}let f,l;function h(t){return void 0!==l&&t===f?l:l=Gb(Tb(f=t,c),(t=>s.floor(t)))}return n({...e,[t]:void 0,[`${t}1`]:void 0===o?{transform:h,label:u}:o,[`${t}2`]:void 0===a?{transform:t=>h(t).map((t=>s.offset(t))),label:u}:a})}function E$(t,n,e){const{[t]:r}=e,{value:i,interval:o}=N$(r,e);return null==i||null==o?e:n({...e,[t]:{label:gv(r),transform:t=>{const n=Gb(Tb(t,i),(t=>o.floor(t))),e=n.map((t=>o.offset(t)));return n.map(Tv(n)?(t,n)=>null==t||isNaN(t=+t)||null==(n=e[n])||isNaN(n=+n)?void 0:new Date((t+n)/2):(t,n)=>null==t||null==(n=e[n])?NaN:(+t+ +n)/2)}}})}function C$(t={}){return S$("x",k$,t)}function L$(t={}){return S$("y",T$,t)}const D$={ariaLabel:"rule",fill:null,stroke:"currentColor"};class U$ extends Xw{constructor(t,n={}){const{x:e,y1:r,y2:i,inset:o=0,insetTop:a=o,insetBottom:c=o}=n;super(t,{x:{value:e,scale:"x",optional:!0},y1:{value:r,scale:"y",optional:!0},y2:{value:i,scale:"y",optional:!0}},Qw(n,"x"),D$),this.insetTop=Fb(a),this.insetBottom=Fb(c),g$(this,n)}render(t,n,e,r,i){const{x:o,y:a}=n,{x:c,y1:s,y2:u}=e,{width:f,height:l,marginTop:h,marginRight:d,marginLeft:p,marginBottom:g}=r,{insetTop:m,insetBottom:y}=this;return O_("svg:g",i).call(xw,this,r).call(kw,this,{x:c&&o},hw,0).call((n=>n.selectAll().data(t).enter().append("line").call(ww,this).attr("x1",c?t=>c[t]:(p+f-d)/2).attr("x2",c?t=>c[t]:(p+f-d)/2).attr("y1",s&&!ow(a)?t=>s[t]+m:h+m).attr("y2",u&&!ow(a)?a.bandwidth?t=>u[t]+a.bandwidth()-y:t=>u[t]-y:l-g-y).call(bw,this,e).call(w$,this,e,i))).node()}}class O$ extends Xw{constructor(t,n={}){const{x1:e,x2:r,y:i,inset:o=0,insetRight:a=o,insetLeft:c=o}=n;super(t,{y:{value:i,scale:"y",optional:!0},x1:{value:e,scale:"x",optional:!0},x2:{value:r,scale:"x",optional:!0}},Qw(n,"y"),D$),this.insetRight=Fb(a),this.insetLeft=Fb(c),g$(this,n)}render(t,n,e,r,i){const{x:o,y:a}=n,{y:c,x1:s,x2:u}=e,{width:f,height:l,marginTop:h,marginRight:d,marginLeft:p,marginBottom:g}=r,{insetLeft:m,insetRight:y}=this;return O_("svg:g",i).call(xw,this,r,i).call(kw,this,{y:c&&a},0,hw).call((n=>n.selectAll().data(t).enter().append("line").call(ww,this).attr("x1",s&&!ow(o)?t=>s[t]+m:p+m).attr("x2",u&&!ow(o)?o.bandwidth?t=>u[t]+o.bandwidth()-y:t=>u[t]-y:f-d-y).attr("y1",c?t=>c[t]:(h+l-g)/2).attr("y2",c?t=>c[t]:(h+l-g)/2).call(bw,this,e).call(w$,this,e,i))).node()}}function F$(t,n){let{x:e=Lb,y:r,y1:i,y2:o,...a}=L$(n);return[i,o]=z$(r,i,o),new U$(t,{...a,x:e,y1:i,y2:o})}function j$(t,n){let{y:e=Lb,x:r,x1:i,x2:o,...a}=C$(n);return[i,o]=z$(r,i,o),new O$(t,{...a,y:e,x1:i,x2:o})}function z$(t,n,e){if(null==t){if(void 0===n){if(void 0!==e)return[0,e]}else if(void 0===e)return[0,n]}else{if(void 0===n)return void 0===e?[0,t]:[t,e];if(void 0===e)return[t,n]}return[n,e]}function R$(t,...n){let e=n.length;for(let r=0,i=!0;r<e;++r)"function"!=typeof n[r]&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+n[r]+t[r+1]),n.splice(r,1),--r,--e);return r=>{let i=t[0];for(let o=0;o<e;++o)i+=n[o](r)+t[o+1];return i}}const P$={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"};class q$ extends Xw{constructor(t,n={}){const{x:e,y:r,text:i=($v(t)&&Mv(t)?Lb:Cb),frameAnchor:o,textAnchor:a=(/right$/i.test(o)?"end":/left$/i.test(o)?"start":"middle"),lineAnchor:c=(/^top/i.test(o)?"top":/^bottom/i.test(o)?"bottom":"middle"),lineHeight:s=1,lineWidth:u=1/0,textOverflow:f,monospace:l,fontFamily:h=(l?"ui-monospace, monospace":void 0),fontSize:d,fontStyle:p,fontVariant:g,fontWeight:m,rotate:y}=n,[b,v]=Wb(y,0),[_,x]=function(t){return null==t||"number"==typeof t?[void 0,t]:"string"!=typeof t?[t,void 0]:(t=t.trim().toLowerCase(),X$.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}(d);if(super(t,{x:{value:e,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},fontSize:{value:_,optional:!0},rotate:{value:wv(b),optional:!0},text:{value:i,filter:lb,optional:!0}},n,P$),this.rotate=v,this.textAnchor=Tw(a,"middle"),this.lineAnchor=Xb(c,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+s,this.lineWidth=+u,this.textOverflow=I$(f),this.monospace=!!l,this.fontFamily=Ob(h),this.fontSize=x,this.fontStyle=Ob(p),this.fontVariant=Ob(g),this.fontWeight=Ob(m),this.frameAnchor=Ov(o),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${u}`);this.splitLines=K$(this),this.clipLine=tM(this)}render(t,n,e,r,i){const{x:o,y:a}=n,{x:c,y:s,rotate:u,text:f,title:l,fontSize:h}=e,{rotate:d}=this,[p,g]=Cw(this,r);return O_("svg:g",i).call(xw,this,r,i).call(V$,this,f,r).call(kw,this,{x:c&&o,y:s&&a}).call((n=>n.selectAll().data(t).enter().append("text").call(ww,this).call(H$,this,f,l).attr("transform",R$`translate(${c?t=>c[t]:p},${s?t=>s[t]:g})${u?t=>` rotate(${u[t]})`:d?` rotate(${d})`:""}`).call(Mw,"font-size",h&&(t=>h[t])).call(bw,this,e))).node()}}function I$(t){return null==t?null:Xb(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function H$(t,n,e,r){if(!e)return;const{lineAnchor:i,lineHeight:o,textOverflow:a,splitLines:c,clipLine:s}=n;t.each((function(t){const n=c(lw(e[t])??"").map(s),u=n.length,f="top"===i?.71:"bottom"===i?1-u:(164-100*u)/200;if(u>1){let t=0;for(let e=0;e<u;++e){if(++t,!n[e])continue;const r=this.ownerDocument.createElementNS(no.svg,"tspan");r.setAttribute("x",0),e===t-1?r.setAttribute("y",(f+e)*o+"em"):r.setAttribute("dy",t*o+"em"),r.textContent=n[e],this.appendChild(r),t=0}}else f&&this.setAttribute("y",f*o+"em"),this.textContent=n[0];if(a&&!r&&n[0]!==e[t]){const n=this.ownerDocument.createElementNS(no.svg,"title");n.textContent=e[t],this.appendChild(n)}}))}function Y$(t,{x:n,y:e,...r}={}){return void 0===r.frameAnchor&&([n,e]=av(n,e)),new q$(t,{...r,x:n,y:e})}function B$(t,{x:n=Lb,...e}={}){return new q$(t,function(t={}){return E$("y",T$,t)}({...e,x:n}))}function W$(t,{y:n=Lb,...e}={}){return new q$(t,function(t={}){return E$("x",k$,t)}({...e,y:n}))}function V$(t,n,e){Mw(t,"text-anchor",n.textAnchor),Mw(t,"font-family",n.fontFamily),Mw(t,"font-size",n.fontSize),Mw(t,"font-style",n.fontStyle),Mw(t,"font-variant",void 0===n.fontVariant?function(t){return t&&(function(t){for(const n of t)if(null!=n)return"number"==typeof n}(t)||Tv(t))?"tabular-nums":void 0}(e):n.fontVariant),Mw(t,"font-weight",n.fontWeight)}const X$=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function Z$(t,n,e){const r=[];let i,o=0;for(const[a,c,s]of function*(t){let n=0,e=0;const r=t.length;for(;e<r;){let r=1;switch(t[e]){case"­":case"-":++e,yield[n,e,!1],n=e;break;case" ":for(yield[n,e,!1];" "===t[++e];);n=e;break;case"\r":"\n"===t[e+1]&&++r;case"\n":yield[n,e,!0],e+=r,n=e;break;default:++e}}yield[n,e,!0]}(t))void 0===i&&(i=a),o>i&&e(t,i,c)>n&&(r.push(t.slice(i,o)+("­"===t[o-1]?"-":"")),i=a),s?(r.push(t.slice(i,c)),i=void 0):o=c;return r}const G$={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function J$(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=cM(t,i))r+=G$[t[i]]??(uM(t,i)?120:G$.e);return r}function Q$(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=cM(t,i))r+=uM(t,i)?200:100;return r}function K$({monospace:t,lineWidth:n,textOverflow:e}){if(null!=e||n==1/0)return t=>t.split(/\r\n?|\n/g);const r=t?Q$:J$,i=100*n;return t=>Z$(t,i,r)}function tM({monospace:t,lineWidth:n,textOverflow:e}){if(null==e||n==1/0)return t=>t;const r=t?Q$:J$,i=100*n;switch(e){case"clip-start":return t=>iM(t,i,r,"");case"clip-end":return t=>rM(t,i,r,"");case"ellipsis-start":return t=>iM(t,i,r,nM);case"ellipsis-middle":return t=>function(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const o=e(r)/2,[a,c]=eM(t,n/2,e,o),[s]=eM(t,i-n/2-c+o,e,-o);return s<0?r:t.slice(0,a).trimEnd()+r+t.slice(cM(t,s)).trimStart()}(t,i,r,nM);case"ellipsis-end":return t=>rM(t,i,r,nM)}}const nM="…";function eM(t,n,e,r){const i=[];let o=0;for(let a=0,c=0,s=t.length;a<s;a=c){c=cM(t,a);const s=e(t,a,c);if(o+s>n){for(o+=r;o>n&&a>0;)c=a,a=i.pop(),o-=e(t,a,c);return[a,n-o]}o+=s,i.push(a)}return[-1,0]}function rM(t,n,e,r){t=t.trim();const i=e(r),[o]=eM(t,n,e,i);return o<0?t:t.slice(0,o).trimEnd()+r}function iM(t,n,e,r){const i=e(t=t.trim());if(i<=n)return t;const o=e(r),[a]=eM(t,i-n+o,e,-o);return a<0?r:r+t.slice(cM(t,a)).trimStart()}const oM=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,aM=/\p{Extended_Pictographic}/uy;function cM(t,n){return n+=function(t,n){const e=t.charCodeAt(n);if(e>=55296&&e<56320){const e=t.charCodeAt(n+1);return e>=56320&&e<57344}return!1}(t,n)?2:1,function(t,n){return!sM(t,n)&&(oM.lastIndex=n,oM.test(t))}(t,n)&&(n=oM.lastIndex),function(t,n){return 8205===t.charCodeAt(n)}(t,n)?cM(t,n+1):n}function sM(t,n){return t.charCodeAt(n)<128}function uM(t,n){return!sM(t,n)&&(aM.lastIndex=n,aM.test(t))}const fM={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},lM=3.5,hM=5*lM,dM={draw(t,n,e){const r=n*e/hM;t.moveTo(0,0),t.lineTo(0,-n),t.moveTo(-r,r-n),t.lineTo(0,-n),t.lineTo(r,r-n)}},pM={draw(t,n,e){t.moveTo(-e,0),t.lineTo(0,-n),t.lineTo(e,0)}},gM=new Map([["arrow",dM],["spike",pM]]);class mM extends Xw{constructor(t,n={}){const{x:e,y:r,r:i=lM,length:o,rotate:a,shape:c=dM,anchor:s="middle",frameAnchor:u}=n,[f,l]=Wb(o,12),[h,d]=Wb(a,0);super(t,{x:{value:e,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},length:{value:f,scale:"length",optional:!0},rotate:{value:h,optional:!0}},n,fM),this.r=+i,this.length=l,this.rotate=d,this.shape=function(t){if(function(t){return t&&"function"==typeof t.draw}(t))return t;const n=gM.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid shape: ${t}`)}(c),this.anchor=Xb(s,"anchor",["start","middle","end"]),this.frameAnchor=Ov(u)}render(t,n,e,r,i){const{x:o,y:a}=n,{x:c,y:s,length:u,rotate:f}=e,{length:l,rotate:h,anchor:d,shape:p,r:g}=this,[m,y]=Cw(this,r);return O_("svg:g",i).call(xw,this,r,i).call(kw,this,{x:c&&o,y:s&&a}).call((n=>n.selectAll().data(t).enter().append("path").call(ww,this).attr("transform",R$`translate(${c?t=>c[t]:m},${s?t=>s[t]:y})${f?t=>` rotate(${f[t]})`:h?` rotate(${h})`:""}${"start"===d?"":"end"===d?u?t=>` translate(0,${u[t]})`:` translate(0,${l})`:u?t=>` translate(0,${u[t]/2})`:` translate(0,${l/2})`}`).attr("d",u?t=>{const n=Mc();return p.draw(n,u[t],g),n}:(()=>{const t=Mc();return p.draw(t,l,g),t})()).call(bw,this,e))).node()}}function yM(t,n={}){const{x:e=Lb,...r}=n;return new mM(t,{...r,x:e})}function bM(t,n={}){const{y:e=Lb,...r}=n;return new mM(t,{...r,y:e})}function vM(t,n){return arguments.length<2&&!$v(t)&&(n=t,t=null),void 0===n&&(n={}),[t,n]}function _M({anchor:t}={},n){return void 0===t?n[0]:Xb(t,"anchor",n)}function xM(t){return _M(t,["left","right"])}function wM(t){return _M(t,["right","left"])}function $M(t){return _M(t,["bottom","top"])}function MM(t){return _M(t,["top","bottom"])}function kM(){const[t,n]=vM(...arguments);return SM("y",xM(n),t,n)}function TM(){const[t,n]=vM(...arguments);return SM("fy",wM(n),t,n)}function AM(){const[t,n]=vM(...arguments);return EM("x",$M(n),t,n)}function NM(){const[t,n]=vM(...arguments);return EM("fx",MM(n),t,n)}function SM(t,n,e,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:c=1,fill:s=r,fillOpacity:u=i,textAnchor:f,textStroke:l,textStrokeOpacity:h,textStrokeWidth:d,tickSize:p=("y"===t?6:0),tickPadding:g,tickRotate:m,x:y,margin:b,marginTop:v=(void 0===b?20:b),marginRight:_=(void 0===b?"right"===n?40:0:b),marginBottom:x=(void 0===b?20:b),marginLeft:w=(void 0===b?"left"===n?40:0:b),label:$,labelAnchor:M,labelArrow:k,labelOffset:T,...A}){return p=Fb(p),g=Fb(g),m=Fb(m),void 0!==M&&(M=Xb(M,"labelAnchor",["center","top","bottom"])),k=XM(k),Zw(p&&!Lv(o)?function(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=n+("y"===t?"-empty":""),frameAnchor:c=n,tickSize:s,inset:u=0,insetLeft:f=u,insetRight:l=u,dx:h=0,y:d=("y"===t?void 0:null),...p}){return RM(bM,t,`${t}-axis tick`,e,{strokeWidth:r,strokeLinecap:i,strokeLinejoin:o,facetAnchor:a,frameAnchor:c,y:d,...p,dx:"left"===n?+h-hw+ +f:+h+hw-l,anchor:"start",length:s,shape:"left"===n?YM:BM})}(t,n,e,{stroke:o,strokeOpacity:a,strokeWidth:c,tickSize:p,tickPadding:g,tickRotate:m,x:y,...A}):null,Lv(s)?null:function(t,n,e,{facetAnchor:r=n+("y"===t?"-empty":""),frameAnchor:i=n,tickSize:o,tickRotate:a=0,tickPadding:c=Math.max(3,9-o)+(Math.abs(a)>60?4*Math.cos(a*p$):0),tickFormat:s,text:u=("function"==typeof s?s:void 0),textAnchor:f=(Math.abs(a)>60?"middle":"left"===n?"end":"start"),lineAnchor:l=(a>60?"top":a<-60?"bottom":"middle"),fontVariant:h,inset:d=0,insetLeft:p=d,insetRight:g=d,dx:m=0,y:y=("y"===t?void 0:null),...b}){return RM(W$,t,`${t}-axis tick label`,e,{facetAnchor:r,frameAnchor:i,text:void 0===u?null:u,textAnchor:f,lineAnchor:l,fontVariant:h,rotate:a,y:y,...b,dx:"left"===n?+m-o-c+ +p:+m+ +o+ +c-g},(function(t,n,e){void 0===h&&(this.fontVariant=WM(t)),void 0===u&&(e.text=PM(t,n,s))}))}(t,n,e,{fill:s,fillOpacity:u,stroke:l,strokeOpacity:h,strokeWidth:d,textAnchor:f,tickSize:p,tickPadding:g,tickRotate:m,x:y,marginTop:v,marginRight:_,marginBottom:x,marginLeft:w,...A}),Lv(s)||null===$?null:Y$([],zM({fill:s,fillOpacity:u,...A},(function(e,r,i,o,a){const c=o[t],{marginTop:s,marginRight:u,marginBottom:f,marginLeft:l}="y"===t&&a.inset||a,h=M??(c.bandwidth?"center":"top"),d=T??("right"===n?u:l)-3;return"center"===h?(this.textAnchor=void 0,this.lineAnchor="right"===n?"bottom":"top",this.frameAnchor=n,this.rotate=-90):(this.textAnchor="right"===n?"end":"start",this.lineAnchor=h,this.frameAnchor=`${h}-${n}`,this.rotate=0),this.dy="top"===h?3-s:"bottom"===h?f-3:0,this.dx="right"===n?d:-d,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[VM(t,c,{anchor:n,label:$,labelAnchor:h,labelArrow:k})]}}}}))))}function EM(t,n,e,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:c=1,fill:s=r,fillOpacity:u=i,textAnchor:f,textStroke:l,textStrokeOpacity:h,textStrokeWidth:d,tickSize:p=("x"===t?6:0),tickPadding:g,tickRotate:m,y:y,margin:b,marginTop:v=(void 0===b?"top"===n?30:0:b),marginRight:_=(void 0===b?20:b),marginBottom:x=(void 0===b?"bottom"===n?30:0:b),marginLeft:w=(void 0===b?20:b),label:$,labelAnchor:M,labelArrow:k,labelOffset:T,...A}){return p=Fb(p),g=Fb(g),m=Fb(m),void 0!==M&&(M=Xb(M,"labelAnchor",["center","left","right"])),k=XM(k),Zw(p&&!Lv(o)?function(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=n+("x"===t?"-empty":""),frameAnchor:c=n,tickSize:s,inset:u=0,insetTop:f=u,insetBottom:l=u,dy:h=0,x:d=("x"===t?void 0:null),...p}){return RM(yM,t,`${t}-axis tick`,e,{strokeWidth:r,strokeLinejoin:o,strokeLinecap:i,facetAnchor:a,frameAnchor:c,x:d,...p,dy:"bottom"===n?+h-hw-l:+h+hw+ +f,anchor:"start",length:s,shape:"bottom"===n?IM:HM})}(t,n,e,{stroke:o,strokeOpacity:a,strokeWidth:c,tickSize:p,tickPadding:g,tickRotate:m,y:y,...A}):null,Lv(s)?null:function(t,n,e,{facetAnchor:r=n+("x"===t?"-empty":""),frameAnchor:i=n,tickSize:o,tickRotate:a=0,tickPadding:c=Math.max(3,9-o)+(Math.abs(a)>=10?4*Math.cos(a*p$):0),tickFormat:s,text:u=("function"==typeof s?s:void 0),textAnchor:f=(Math.abs(a)>=10?a<0^"bottom"===n?"start":"end":"middle"),lineAnchor:l=(Math.abs(a)>=10?"middle":"bottom"===n?"top":"bottom"),fontVariant:h,inset:d=0,insetTop:p=d,insetBottom:g=d,dy:m=0,x:y=("x"===t?void 0:null),...b}){return RM(B$,t,`${t}-axis tick label`,e,{facetAnchor:r,frameAnchor:i,text:void 0===u?null:u,textAnchor:f,lineAnchor:l,fontVariant:h,rotate:a,x:y,...b,dy:"bottom"===n?+m+ +o+ +c-g:+m-o-c+ +p},(function(t,n,e){void 0===h&&(this.fontVariant=WM(t)),void 0===u&&(e.text=PM(t,n,s))}))}(t,n,e,{fill:s,fillOpacity:u,stroke:l,strokeOpacity:h,strokeWidth:d,textAnchor:f,tickSize:p,tickPadding:g,tickRotate:m,y:y,marginTop:v,marginRight:_,marginBottom:x,marginLeft:w,...A}),Lv(s)||null===$?null:Y$([],zM({fill:s,fillOpacity:u,...A},(function(e,r,i,o,a){const c=o[t],{marginTop:s,marginRight:u,marginBottom:f,marginLeft:l}="x"===t&&a.inset||a,h=M??(c.bandwidth?"center":"right"),d=T??("top"===n?s:f)-3;return"center"===h?(this.frameAnchor=n,this.textAnchor=void 0):(this.frameAnchor=`${n}-${h}`,this.textAnchor="right"===h?"end":"start"),this.lineAnchor=n,this.dy="top"===n?-d:d,this.dx="right"===h?u-3:"left"===h?3-l:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[VM(t,c,{anchor:n,label:$,labelAnchor:h,labelArrow:k})]}}}}))))}function CM(){const[t,n]=vM(...arguments);return OM("y",xM(n),t,n)}function LM(){const[t,n]=vM(...arguments);return OM("fy",wM(n),t,n)}function DM(){const[t,n]=vM(...arguments);return FM("x",$M(n),t,n)}function UM(){const[t,n]=vM(...arguments);return FM("fx",MM(n),t,n)}function OM(t,n,e,{y:r=("y"===t?void 0:null),x:i=null,x1:o=("left"===n?i:null),x2:a=("right"===n?i:null),...c}){return RM(j$,t,`${t}-grid`,e,{y:r,x1:o,x2:a,...jM(c)})}function FM(t,n,e,{x:r=("x"===t?void 0:null),y:i=null,y1:o=("top"===n?i:null),y2:a=("bottom"===n?i:null),...c}){return RM(F$,t,`${t}-grid`,e,{x:r,y1:o,y2:a,...jM(c)})}function jM({color:t="currentColor",opacity:n=.1,stroke:e=t,strokeOpacity:r=n,strokeWidth:i=1,...o}){return{stroke:e,strokeOpacity:r,strokeWidth:i,...o}}function zM({fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontWeight:o,monospace:a,pointerEvents:c,shapeRendering:s},u){return[,t]=Bb(t),[,n]=Wb(n),{facet:"super",x:null,y:null,fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontWeight:o,monospace:a,pointerEvents:c,shapeRendering:s,initializer:u}}function RM(t,n,e,r,i,o){let a;const c=t(r,Kv(i,(function(t,e,r,c,s,u){const f=null==t&&("fx"===n||"fy"===n),{[n]:l}=c;if(!l)throw new Error(`missing scale: ${n}`);let{ticks:h,tickSpacing:d,interval:p}=i;if(ew(l)&&"string"==typeof h&&(p=h,h=void 0),null==t){if($v(h))t=Zb(h);else if(l.ticks)if(void 0!==h)t=l.ticks(h);else if(p=_v(void 0===p?l.interval:p,l.type),void 0!==p){const[n,e]=oi(l.domain());t=p.range(n,p.offset(p.floor(e)))}else{const[e,r]=oi(l.range());h=(r-e)/(void 0===d?"x"===n?80:35:d),t=l.ticks(h)}else t=l.domain();"y"===n||"x"===n?e=[sv(t)]:a[n]={scale:n,value:Lb}}o?.call(this,l,h,a);const g=Object.fromEntries(Object.entries(a).map((([n,e])=>[n,{...e,value:Tb(t,e.value)}])));return f&&(e=u.filterFacets(t,g)),{data:t,facets:e,channels:g}})));return null==r?(a=c.channels,c.channels={}):a={},c.ariaLabel=e,c}function PM(t,n,e){return{value:qM(t,n,e)}}function qM(t,n,e){return t.tickFormat?t.tickFormat($v(n)?null:n,e):void 0===e?function(t){if(!t)return!1;const n=t.floor(new Date(Date.UTC(2e3,11,31)));return Cd(n)>=n}(t.interval)?Id("%Y"):function(t){if(!t)return!1;const n=t.floor(new Date(2e3,11,31));return Ed(n)>=n}(t.interval)?qd("%Y"):lw:"string"==typeof e?(Tv(t.domain())?Id:Ls)(e):Rb(e)}const IM={draw(t,n){t.moveTo(0,0),t.lineTo(0,n)}},HM={draw(t,n){t.moveTo(0,0),t.lineTo(0,-n)}},YM={draw(t,n){t.moveTo(0,0),t.lineTo(-n,0)}},BM={draw(t,n){t.moveTo(0,0),t.lineTo(n,0)}};function WM(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function VM(t,n,{anchor:e,label:r=n.label,labelAnchor:i,labelArrow:o}={}){if(!(null==r||r.inferred&&function(t){return ew(t)||null!=t.interval}(n)&&/^(date|time|year)$/i.test(r))){if(r=String(r),"auto"===o&&(o=(!n.bandwidth||n.interval)&&!/[↑↓→←]/.test(r)),!o)return r;if(!0===o){const e=function(t){return Math.sign(Fv(t.domain()))*Math.sign(Fv(t.range()))}(n);e&&(o=/x$/.test(t)||"center"===i?/x$/.test(t)===e<0?"left":"right":e<0?"up":"down")}switch(o){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return"right"===e?`${r} ↑`:`↑ ${r}`;case"down":return"right"===e?`${r} ↓`:`↓ ${r}`}return r}}function XM(t="auto"){return!Lv(t)&&("boolean"==typeof t?t:Xb(t,"labelArrow",["auto","up","right","down","left"]))}const ZM={ariaLabel:"frame",fill:"none",stroke:"currentColor"},GM={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square"};class JM extends Xw{constructor(t={}){const{anchor:n=null,inset:e=0,insetTop:r=e,insetRight:i=e,insetBottom:o=e,insetLeft:a=e,rx:c,ry:s}=t;super(Sb,void 0,t,null==n?ZM:GM),this.anchor=Vb(n,"anchor",["top","right","bottom","left"]),this.insetTop=Fb(r),this.insetRight=Fb(i),this.insetBottom=Fb(o),this.insetLeft=Fb(a),this.rx=Fb(c),this.ry=Fb(s)}render(t,n,e,r,i){const{marginTop:o,marginRight:a,marginBottom:c,marginLeft:s,width:u,height:f}=r,{anchor:l,insetTop:h,insetRight:d,insetBottom:p,insetLeft:g,rx:m,ry:y}=this,b=s+g,v=u-a-d,_=o+h,x=f-c-p;return O_(l?"svg:line":"svg:rect",i).datum(0).call(xw,this,r,i).call(ww,this).call(bw,this,e).call(kw,this,{}).call("left"===l?t=>t.attr("x1",b).attr("x2",b).attr("y1",_).attr("y2",x):"right"===l?t=>t.attr("x1",v).attr("x2",v).attr("y1",_).attr("y2",x):"top"===l?t=>t.attr("x1",b).attr("x2",v).attr("y1",_).attr("y2",_):"bottom"===l?t=>t.attr("x1",b).attr("x2",v).attr("y1",x).attr("y2",x):t=>t.attr("x",b).attr("y",_).attr("width",v-b).attr("height",x-_).attr("rx",m).attr("ry",y)).node()}}const QM={ariaLabel:"tip",fill:"white",stroke:"currentColor"},KM=new Set(["geometry","href","src","ariaLabel"]);class tk extends Xw{constructor(t,n={}){n.tip&&(n={...n,tip:!1}),void 0===n.title&&$v(t)&&Mv(t)&&(n={...n,title:Lb});const{x:e,y:r,x1:i,x2:o,y1:a,y2:c,anchor:s,monospace:u,fontFamily:f=(u?"ui-monospace, monospace":void 0),fontSize:l,fontStyle:h,fontVariant:d,fontWeight:p,lineHeight:g=1,lineWidth:m=20,frameAnchor:y,textAnchor:b="start",textOverflow:v,textPadding:_=8,pointerSize:x=12,pathFilter:w="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(t,{x:{value:null!=i&&null!=o?null:e,scale:"x",optional:!0},y:{value:null!=a&&null!=c?null:r,scale:"y",optional:!0},x1:{value:i,scale:"x",optional:null==o},y1:{value:a,scale:"y",optional:null==c},x2:{value:o,scale:"x",optional:null==i},y2:{value:c,scale:"y",optional:null==a}},n,QM),this.anchor=Uv(s,"anchor"),this.previousAnchor=this.anchor??"top-left",this.frameAnchor=Ov(y),this.textAnchor=Tw(b,"middle"),this.textPadding=+_,this.pointerSize=+x,this.pathFilter=Ob(w),this.lineHeight=+g,this.lineWidth=+m,this.textOverflow=I$(v),this.monospace=!!u,this.fontFamily=Ob(f),this.fontSize=Fb(l),this.fontStyle=Ob(h),this.fontVariant=Ob(d),this.fontWeight=Ob(p);for(const $ in QM)$ in this.channels&&(this[$]=QM[$]);this.splitLines=K$(this),this.clipLine=tM(this)}render(t,n,e,r,i){const o=this,{x:a,y:c,fx:s,fy:u}=n,{ownerSVGElement:f,document:l}=i,{anchor:h,monospace:d,lineHeight:p,lineWidth:g}=this,{textPadding:m,pointerSize:y,pathFilter:b}=this,{marginTop:v,marginLeft:_}=r,x=function({channels:t}){const n={};for(const e in t){if(KM.has(e))continue;const r=D_(t,e);r&&(n[e]=r)}return n}(e),{x1:w,y1:$,x2:M,y2:k,x:T=w??M,y:A=$??k}=e,N=s?s(t.fx)-_:0,S=u?u(t.fy)-v:0,[E,C]=Cw(this,r),L=i$(e,E),D=o$(e,C),U=d?Q$:J$,O=U(nM),F=s&&qM(s),j=u&&qM(u);const z=O_("svg:g",i).call(xw,this,r,i).call(V$,this).call(kw,this,{x:T&&a,y:A&&c}).call((r=>r.selectAll().data(t).enter().append("g").attr("transform",(t=>`translate(${Math.round(L(t))},${Math.round(D(t))})`)).call(ww,this).call((t=>t.append("path").attr("filter",b))).call((r=>r.append("text").each((function(r){const i=ga(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const a=new Set;for(const c of function*(r,i){if("title"in r){const t=r.title.value[i];for(const n of o.splitLines(lw(t)))yield{name:"",value:o.clipLine(n)}}else{for(const t in r){if("x1"===t&&"x2"in r)continue;if("y1"===t&&"y2"in r)continue;const o=r[t],a=o.value[i];if(sb(a)||null!=o.scale)if("x2"===t&&"x1"in r)yield{name:rk(n,o,"x"),value:ek(r.x1,o,i)};else if("y2"===t&&"y1"in r)yield{name:rk(n,o,"y"),value:ek(r.y1,o,i)};else{const r=o.scale,c={name:rk(n,o,t),value:lw(a)};"color"!==r&&"opacity"!==r||(c[r]=e[t][i]),yield c}}null!=t.fi&&s&&(yield{name:String(s.label??"fx"),value:F(t.fx)}),null!=t.fi&&u&&(yield{name:String(u.label??"fy"),value:j(t.fy)})}}(x,r)){const t=c.name;t&&a.has(t)||(a.add(t),R(i,c))}}))))));function R(t,{name:n,value:e,color:r,opacity:i}){const o=null!=r||null!=i;let a,c=100*g;const[s]=eM(n,c,U,O);if(s>=0)n=n.slice(0,s).trimEnd()+nM,a=e.trim(),e="";else{(n||!e&&!o)&&(e=" "+e);const[t]=eM(e,c-U(n),U,O);t>=0&&(a=(e=e.slice(0,t).trimEnd()+nM).trim())}const u=t.append("tspan").attr("x",0).attr("dy",`${p}em`).text("​");n&&u.append("tspan").attr("font-weight","bold").text(n),e&&u.append((()=>l.createTextNode(e))),o&&u.append("tspan").text(" ■").attr("fill",r).attr("fill-opacity",i).style("user-select","none"),a&&u.append("title").text(a)}function P(){const{width:t,height:n}=r.facet??r;z.selectChildren().each((function(e){let{x:r,width:i,height:a}=this.getBBox();i=Math.round(i),a=Math.round(a);let c=h;if(void 0===c){c=o.previousAnchor;const r=L(e)+N,s=D(e)+S,u=r+i+2*m<t,f=r-i-2*m>0,l=s+a+y+2*m+7<n,h=s-a-y-2*m>0,d=(/-left$/.test(c)?u||!f:u&&!f)?"left":"right",p=(/^top-/.test(c)?l||!h:l&&!h)?"top":"bottom";c=o.previousAnchor=`${p}-${d}`}const s=this.firstChild,u=this.lastChild;if(s.setAttribute("d",function(t,n,e,r,i){const o=r+2*e,a=i+2*e;switch(t){case"middle":return`M${-o/2},${-a/2}h${o}v${a}h${-o}z`;case"top-left":return`M0,0l${n},${n}h${o-n}v${a}h${-o}z`;case"top":return`M0,0l${n/2},${n/2}h${(o-n)/2}v${a}h${-o}v${-a}h${(o-n)/2}z`;case"top-right":return`M0,0l${-n},${n}h${n-o}v${a}h${o}z`;case"right":return`M0,0l${-n/2},${-n/2}v${n/2-a/2}h${-o}v${a}h${o}v${n/2-a/2}z`;case"bottom-left":return`M0,0l${n},${-n}h${o-n}v${-a}h${-o}z`;case"bottom":return`M0,0l${n/2},${-n/2}h${(o-n)/2}v${-a}h${-o}v${a}h${(o-n)/2}z`;case"bottom-right":return`M0,0l${-n},${-n}h${n-o}v${-a}h${o}z`;case"left":return`M0,0l${n/2},${-n/2}v${n/2-a/2}h${o}v${a}h${-o}v${n/2-a/2}z`}}(c,y,m,i,a)),r)for(const t of u.childNodes)t.setAttribute("x",-r);u.setAttribute("y",+function(t,n,e){return/^top(?:-|$)/.test(t)?.94-e:-.29-n*e}(c,u.childNodes.length,p).toFixed(6)+"em"),u.setAttribute("transform",`translate(${function(t,n,e,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[e,n+e];case"top":return[-r/2,n/2+e];case"top-right":return[-r-e,n+e];case"right":return[-n/2-r-e,i/2];case"bottom-left":return[e,-n-e];case"bottom":return[-r/2,-n/2-e];case"bottom-right":return[-r-e,-n-e];case"left":return[e+n/2,i/2]}}(c,y,m,i,a)})`)}))}return f.isConnected?Promise.resolve().then(P):"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(P),z.node()}}function nk(t,{x:n,y:e,...r}={}){return void 0===r.frameAnchor&&([n,e]=av(n,e)),new tk(t,{...r,x:n,y:e})}function ek(t,n,e){return n.hint?.length?`${lw(n.value[e]-t.value[e])}`:`${lw(t.value[e])}–${lw(n.value[e])}`}function rk(t,n,e){return String(t[n.scale]?.label??n?.label??e)}function ik(t={}){const{facet:n,style:e,caption:r,ariaLabel:i,ariaDescription:o}=t,a=Sw(t.className),c=void 0===t.marks?[]:ok(t.marks);c.push(...function(t){const n=[];for(const e of t){const t=e.tip;if(t){const r=("x"===t?e$:"y"===t?r$:n$)(pk(e));r.title=null,n.push(nk(e.data,r))}}return n}(c));const s=function(t,n){if(null==t)return;const{x:e,y:r}=t;if(null==e&&null==r)return;const i=Zb(t.data);if(null==i)throw new Error("missing facet data");const o={};null!=e&&(o.fx=M_(i,{value:e,scale:"fx"}));null!=r&&(o.fy=M_(i,{value:r,scale:"fy"}));sk(o,n);const a=Ow(i,o);return{channels:o,groups:a,data:t.data}}(n,t),u=new Map;for(const L of c){const n=dk(L,s,t);n&&u.set(L,n)}const f=new Map;s&&lk(f,[s],t),lk(f,u,t);const l=ok(function(t,n,e){let{projection:r,x:i={},y:o={},fx:a={},fy:c={},axis:s,grid:u,facet:f={},facet:{axis:l=s,grid:h}=f,x:{axis:d=s,grid:p=(null===d?null:u)}=i,y:{axis:g=s,grid:m=(null===g?null:u)}=o,fx:{axis:y=l,grid:b=(null===y?null:h)}=a,fy:{axis:v=l,grid:_=(null===v?null:h)}=c}=e;(r||!ev(i)&&!vk("x",t))&&(d=p=null);(r||!ev(o)&&!vk("y",t))&&(g=m=null);n.has("fx")||(y=b=null);n.has("fy")||(v=_=null);void 0===d&&(d=!bk(t,"x"));void 0===g&&(g=!bk(t,"y"));void 0===y&&(y=!bk(t,"fx"));void 0===v&&(v=!bk(t,"fy"));!0===d&&(d="bottom");!0===g&&(g="left");!0===y&&(y="top"===d||null===d?"bottom":"top");!0===v&&(v="right"===g||null===g?"left":"right");const x=[];return mk(x,_,LM,c),gk(x,v,TM,"right","left",f,c),mk(x,b,UM,a),gk(x,y,NM,"top","bottom",f,a),mk(x,m,CM,o),gk(x,g,kM,"left","right",e,o),mk(x,p,DM,i),gk(x,d,AM,"bottom","top",e,i),x}(c,f,t));for(const L of l){const n=dk(L,s,t);n&&u.set(L,n)}c.unshift(...l);let h=Uw(f,t);if(void 0!==h){const t=s?Vw(h,s):void 0;for(const e of c){if(null===e.facet||"super"===e.facet)continue;const n=u.get(e);void 0!==n&&(n.facetsIndex=null!=e.fx||null!=e.fy?Vw(h,n):t)}const n=new Set;for(const{facetsIndex:e}of u.values())e?.forEach(((t,e)=>{t?.length>0&&n.add(e)}));h.forEach(0<n.size&&n.size<h.length?(t,e)=>t.empty=!n.has(e):t=>t.empty=!1);for(const e of c)if("exclude"===e.facet){const t=u.get(e);void 0!==t&&(t.facetsIndex=Fw(t.facetsIndex))}}for(const L of Bv.keys())ev(t[L])&&"fx"!==L&&"fy"!==L&&f.set(L,[]);const d=new Map;for(const L of c){if(d.has(L))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:n,channels:e}=u.get(L)??{},{data:r,facets:i,channels:o}=L.initialize(n,e,t);sk(o,t),d.set(L,{data:r,facets:i,channels:o})}const p=Hx(lk(f,d,t),t),g=Yx(p),m=function(t,n,e={}){let r=.5-hw,i=.5+hw,o=.5+hw,a=.5-hw;for(const{marginTop:g,marginRight:m,marginBottom:y,marginLeft:b}of n)g>r&&(r=g),m>i&&(i=m),y>o&&(o=y),b>a&&(a=b);let{margin:c,marginTop:s=(void 0!==c?c:r),marginRight:u=(void 0!==c?c:i),marginBottom:f=(void 0!==c?c:o),marginLeft:l=(void 0!==c?c:a)}=e;s=+s,u=+u,f=+f,l=+l;let{width:h=640,height:d=Lw(t,e,{width:h,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:a})+Math.max(0,s-r+f-o)}=e;h=+h,d=+d;const p={width:h,height:d,marginTop:s,marginRight:u,marginBottom:f,marginLeft:l};if(t.fx||t.fy){let{margin:t,marginTop:n=(void 0!==t?t:s),marginRight:r=(void 0!==t?t:u),marginBottom:i=(void 0!==t?t:f),marginLeft:o=(void 0!==t?t:l)}=e.facet??{};n=+n,r=+r,i=+i,o=+o,p.facet={marginTop:n,marginRight:r,marginBottom:i,marginLeft:o}}return p}(p,c,t);!function(t,n){const{x:e,y:r,fx:i,fy:o}=t,a=i||o?Wx(n):n;i&&Xx(i,a),o&&Zx(o,a);const c=i||o?Vx(t,n):n;e&&Xx(e,c),r&&Zx(r,c)}(p,m);const{fx:y,fy:b}=g,v=y||b?Vx(p,m):m,_=y||b?function({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:c,height:s}=Wx(e),u=t&&_k(t),f=n&&_k(n);return{marginTop:n?f[0]:r,marginRight:t?c-u[1]:i,marginBottom:n?s-f[1]:o,marginLeft:t?u[0]:a,inset:{marginTop:e.marginTop,marginRight:e.marginRight,marginBottom:e.marginBottom,marginLeft:e.marginLeft},width:c,height:s}}(g,m):m,x=U_(t),w=x.document,$=oo("svg").call(w.documentElement);let M=$;x.ownerSVGElement=$,x.className=a,x.projection=P_(t,v),x.filterFacets=(t,n)=>Vw(h,{channels:n,groups:Ow(t,n)}),x.getMarkState=t=>{const n=d.get(t),e=u.get(t);return{...n,channels:{...n.channels,...e?.channels}}},x.dispatchValue=t=>{M.value!==t&&(M.value=t,M.dispatchEvent(new Event("input",{bubbles:!0})))};const k=new Set;for(const[L,D]of d)if(null!=L.initializer){const n="super"===L.facet?_:v,e=L.initializer(D.data,D.facets,D.channels,g,n,x);if(void 0!==e.data&&(D.data=e.data),void 0!==e.facets&&(D.facets=e.facets),void 0!==e.channels){const{fx:n,fy:r,...i}=e.channels;fk(i),Object.assign(D.channels,i);for(const e of Object.values(i)){const{scale:n}=e;null!=n&&Bv.get(n)!==zv&&(uk(e,t),k.add(n))}null==n&&null==r||u.set(L,!0)}}if(k.size){const n=new Map;lk(n,d,t,(t=>k.has(t))),lk(f,d,t,(t=>k.has(t)));const e=function(t,n){for(const e in t){const r=t[e],i=n[e];void 0===r.label&&i&&(r.label=i.label)}return t}(Hx(n,t),p),r=Yx(e);Object.assign(p,e),Object.assign(g,r)}let T,A;void 0!==h&&(T={x:y?.domain(),y:b?.domain()},h=function(t,{x:n,y:e}){return n&&=Rw(n),e&&=Rw(e),t.filter(n&&e?t=>n.has(t.x)&&e.has(t.y):n?t=>n.has(t.x):t=>e.has(t.y)).sort(n&&e?(t,r)=>n.get(t.x)-n.get(r.x)||e.get(t.y)-e.get(r.y):n?(t,e)=>n.get(t.x)-n.get(e.x):(t,n)=>e.get(t.y)-e.get(n.y))}(h,T),A=function(t,n,{marginTop:e,marginLeft:r}){return t&&n?({x:i,y:o})=>`translate(${t(i)-r},${n(o)-e})`:t?({x:n})=>`translate(${t(n)-r},0)`:({y:t})=>`translate(0,${n(t)-e})`}(y,b,m));for(const[L,D]of d)D.values=L.scale(D.channels,g,x);const{width:N,height:S}=m;ga($).attr("class",a).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",N).attr("height",S).attr("viewBox",`0 0 ${N} ${S}`).attr("aria-label",i).attr("aria-description",o).call((t=>t.append("style").text(`.${a} {\n  display: block;\n  background: white;\n  height: auto;\n  height: intrinsic;\n  max-width: 100%;\n}\n.${a} text,\n.${a} tspan {\n  white-space: pre;\n}`))).call(Ew,e);for(const L of c){const{channels:t,values:n,facets:e}=d.get(L);if(void 0===h||"super"===L.facet){let r=null;if(e&&(r=e[0],r=L.filter(r,t,n),0===r.length))continue;const i=L.render(r,g,n,_,x);if(null==i)continue;$.appendChild(i)}else{let r;for(const i of h){if(!(L.facetAnchor?.(h,T,i)??!i.empty))continue;let o=null;if(e){const r=u.has(L);if(o=e[r?i.i:0],o=L.filter(o,t,n),0===o.length)continue;r&&(o.fx=i.x,o.fy=i.y,o.fi=i.i)}const a=L.render(o,g,n,v,x);if(null!=a){(r??=ga($).append("g")).append((()=>a)).datum(i);for(const t of["aria-label","aria-description","aria-hidden","transform"])a.hasAttribute(t)&&(r.attr(t,a.getAttribute(t)),a.removeAttribute(t))}}r?.selectChildren().attr("transform",A)}}const E=function(t,n,e){const r=[];for(const[i,o]of f$){const a=e[i];if(a?.legend&&i in t){const e=o(t[i],l$(n,t[i],a),(n=>t[n]));null!=e&&r.push(e)}}return r}(p,x,t);if(null!=r||E.length>0){M=w.createElement("figure"),M.style.maxWidth="initial";for(const t of E)M.appendChild(t);if(M.appendChild($),null!=r){const t=w.createElement("figcaption");t.appendChild(r?.ownerDocument?r:w.createTextNode(r)),M.appendChild(t)}}M.scale=sw(p),M.legend=function(t,n,e={}){return(r,i)=>{if(!f$.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return f$.get(r)(t[r],l$(n,e[r],i),(n=>t[n]))}}(p,x,t);const C=function(){const t=F_;return F_=0,t}();return C>0&&ga($).append("text").attr("x",N).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${C.toLocaleString("en-US")} warning${1===C?"":"s"}. Please check the console.`),M}function ok(t){return t.flat(1/0).filter((t=>null!=t)).map(ak)}function ak(t){return"function"==typeof t.render?t:new ck(t)}Xw.prototype.plot=function({marks:t=[],...n}={}){return ik({...n,marks:[...t,this]})};class ck extends Xw{constructor(t){if("function"!=typeof t)throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function sk(t,n){for(const e in t)uk(t[e],n);return t}function uk(t,n){const{scale:e,transform:r=!0}=t;if(null==e||!r)return;const{type:i,percent:o,interval:a,transform:c=(o?t=>100*t:bv(a,i))}=n[e]??{};null!=c&&(t.value=Gb(t.value,c),t.transform=!1)}function fk(t){for(const n in t)k_(n,t[n])}function lk(t,n,e,r=Ub){for(const{channels:i}of n.values())for(const n in i){const o=i[n],{scale:a}=o;if(null!=a&&r(a))if("projection"===a){if(!V_(e)){const n=void 0===e.x?.domain,r=void 0===e.y?.domain;if(n||r){const[e,i]=X_(o);n&&hk(t,"x",e),r&&hk(t,"y",i)}}}else hk(t,a,o)}return t}function hk(t,n,e){const r=t.get(n);void 0!==r?r.push(e):t.set(n,[e])}function dk(t,n,e){if(null===t.facet||"super"===t.facet)return;const{fx:r,fy:i}=t;if(null!=r||null!=i){const n=Zb(t.data??r??i);if(void 0===n)throw new Error(`missing facet data in ${t.ariaLabel}`);if(null===n)return;const o={};return null!=r&&(o.fx=M_(n,{value:r,scale:"fx"})),null!=i&&(o.fy=M_(n,{value:i,scale:"fy"})),sk(o,e),{channels:o,groups:Ow(n,o)}}if(void 0===n)return;const{channels:o,groups:a,data:c}=n;if("auto"!==t.facet||t.data===c)return{channels:o,groups:a};c.length>0&&(a.size>1||1===a.size&&o.fx&&o.fy&&[...a][0][1].size>1)&&Zb(t.data)?.length===c.length&&j_(t.ariaLabel)}function pk(t,n={}){return Kv({...n,x:null,y:null},((n,e,r,i,o,a)=>a.getMarkState(t)))}function gk(t,n,e,r,i,o,a){if(!n)return;const c=function(t){return/^\s*both\s*$/i.test(t)}(n);a=function(t,n,{line:e=n.line,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:c,tickRotate:s,fontVariant:u,ariaLabel:f,ariaDescription:l,label:h=n.label,labelAnchor:d,labelArrow:p=n.labelArrow,labelOffset:g}){return{anchor:t,line:e,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:c,tickRotate:s,fontVariant:u,ariaLabel:f,ariaDescription:l,label:h,labelAnchor:d,labelArrow:p,labelOffset:g}}(c?r:n,o,a);const{line:s}=a;e!==kM&&e!==AM||!s||Dv(s)||t.push(function(t){return new JM(t)}(function(t){const{anchor:n,line:e}=t;return{anchor:n,facetAnchor:n+"-empty",stroke:!0===e?void 0:e}}(a))),t.push(e(a)),c&&t.push(e({...a,anchor:i,label:null}))}function mk(t,n,e,r){n&&!Dv(n)&&t.push(e(function(t,{stroke:n=(Ev(t)?t:void 0),ticks:e=(yk(t)?t:void 0),tickSpacing:r,ariaLabel:i,ariaDescription:o}){return{stroke:n,ticks:e,tickSpacing:r,ariaLabel:i,ariaDescription:o}}(n,r)))}function yk(t){switch(typeof t){case"number":return!0;case"string":return!Ev(t)}return $v(t)||"function"==typeof t?.range}function bk(t,n){const e=`${n}-axis `;return t.some((t=>t.ariaLabel?.startsWith(e)))}function vk(t,n){for(const e of n)for(const n in e.channels){const{scale:r}=e.channels[n];if(r===t||"projection"===r)return!0}return!1}function _k(t){const n=t.domain();let e=t(n[0]),r=t(n[n.length-1]);return r<e&&([e,r]=[r,e]),[e,r+t.bandwidth()]}const xk=new Map([["basis",function(t){return new Cy(t)}],["basis-closed",function(t){return new Ly(t)}],["basis-open",function(t){return new Dy(t)}],["bundle",Oy],["bump-x",function(t){return new ny(t,!0)}],["bump-y",function(t){return new ny(t,!1)}],["cardinal",zy],["cardinal-closed",Py],["cardinal-open",Iy],["catmull-rom",By],["catmull-rom-closed",Vy],["catmull-rom-open",Zy],["linear",Jm],["linear-closed",function(t){return new Gy(t)}],["monotone-x",function(t){return new nb(t)}],["monotone-y",function(t){return new eb(t)}],["natural",function(t){return new ib(t)}],["step",function(t){return new ab(t,.5)}],["step-after",function(t){return new ab(t,1)}],["step-before",function(t){return new ab(t,0)}]]);function wk(t=$k,n){return"function"!=typeof t&&"auto"===`${t}`.toLowerCase()?$k:function(t=Jm,n){if("function"==typeof t)return t;const e=xk.get(`${t}`.toLowerCase());if(!e)throw new Error(`unknown curve: ${t}`);if(void 0!==n){if("beta"in e)return e.beta(n);if("tension"in e)return e.tension(n);if("alpha"in e)return e.alpha(n)}return e}(t,n)}function $k(t){return Jm(t)}function Mk({x:t,x1:n,x2:e,...r}={}){return r=Qw(r,"y"),void 0===n&&void 0===e?function(t={},n={}){1===arguments.length&&([t,n]=Tk(t));const{y1:e,y:r=e,x:i,...o}=n,[a,c,s,u]=Nk(r,i,"y","x",t,o);return{...a,y1:e,y:c,x1:s,x2:u,x:mv(s,u)}}({x:t,...r}):([n,e]=ov(t,n,e),{...r,x1:n,x2:e})}function kk({y:t,y1:n,y2:e,...r}={}){return r=Qw(r,"x"),void 0===n&&void 0===e?function(t={},n={}){1===arguments.length&&([t,n]=Tk(t));const{x1:e,x:r=e,y:i,...o}=n,[a,c,s,u]=Nk(r,i,"x","y",t,o);return{...a,x1:e,x:c,y1:s,y2:u,y:mv(s,u)}}({y:t,...r}):([n,e]=ov(t,n,e),{...r,y1:n,y2:e})}function Tk(t){const{offset:n,order:e,reverse:r,...i}=t;return[{offset:n,order:e,reverse:r},i]}const Ak={length:!0};function Nk(t,n=Db,e,r,{offset:i,order:o,reverse:a},c){const s=cv(c),[u,f]=pv(t),[l,h]=dv(n),[d,p]=dv(n);return l.hint=d.hint=Ak,i=function(t){if(null==t)return;if("function"==typeof t)return t;switch(`${t}`.toLowerCase()){case"expand":case"normalize":return Ek;case"center":case"silhouette":return Ck;case"wiggle":return Lk}throw new Error(`unknown offset: ${t}`)}(i),o=function(t,n,e){if(void 0===t&&n===Lk)return Ok(ub);if(null==t)return;if("string"==typeof t){const n=t.startsWith("-"),r=n?fb:ub;switch((n?t.slice(1):t).toLowerCase()){case"value":case e:return function(t){return(n,e,r)=>(n,e)=>t(r[n],r[e])}(r);case"z":return function(t){return(n,e,r,i)=>(n,e)=>t(i[n],i[e])}(r);case"sum":return function(t){return zk(t,((t,n,e,r)=>gi(sv(t),(t=>zi(t,(t=>e[t]))),(t=>r[t]))))}(r);case"appearance":return function(t){return zk(t,((t,n,e,r)=>gi(sv(t),(t=>n[Si(t,(t=>e[t]))]),(t=>r[t]))))}(r);case"inside-out":return Ok(r)}return Fk(Eb(t))}if("function"==typeof t)return(1===t.length?Fk:jk)(t);if(Array.isArray(t))return function(t){return zk(ub,(()=>t))}(t);throw new Error(`invalid order: ${t}`)}(o,i,r),[Qv(c,((r,c,u)=>{const l=null==t?void 0:f(yv(Tb(r,t),u?.[e])),d=Tb(r,n,Float64Array),g=Tb(r,s),m=o&&o(r,l,d,g),y=r.length,b=h(new Float64Array(y)),v=p(new Float64Array(y)),_=[];for(const t of c){const n=l?Array.from(si(t,(t=>l[t])).values()):[t];if(m)for(const t of n)t.sort(m);for(const t of n){let n=0,e=0;a&&t.reverse();for(const r of t){const t=d[r];t<0?n=v[r]=(b[r]=n)+t:t>0?e=v[r]=(b[r]=e)+t:v[r]=b[r]=e}}_.push(n)}return i&&i(_,b,v,g),{data:r,facets:c}})),u,l,d]}function Sk(t,n){let e=0,r=0;for(const i of t){const t=n[i];t<e&&(e=t),t>r&&(r=t)}return[e,r]}function Ek(t,n,e){for(const r of t)for(const t of r){const[r,i]=Sk(t,e);for(const o of t){const t=1/(i-r||1);n[o]=t*(n[o]-r),e[o]=t*(e[o]-r)}}}function Ck(t,n,e){for(const r of t){for(const t of r){const[r,i]=Sk(t,e);for(const o of t){const t=(i+r)/2;n[o]-=t,e[o]-=t}}Dk(r,n,e)}Uk(t,n,e)}function Lk(t,n,e,r){for(const i of t){const t=new Ot;let o=0;for(const a of i){let i=-1;const c=a.map((t=>Math.abs(e[t]-n[t]))),s=a.map((o=>{i=r?r[o]:++i;const a=e[o]-n[o],c=t.has(i)?a-t.get(i):0;return t.set(i,a),c})),u=[0,...ei(s)];for(const t of a)n[t]+=o,e[t]+=o;const f=zi(c);f&&(o-=zi(c,((t,n)=>(s[n]/2+u[n])*t))/f)}Dk(i,n,e)}Uk(t,n,e)}function Dk(t,n,e){const r=ki(t,(t=>ki(t,(t=>n[t]))));for(const i of t)for(const t of i)n[t]-=r,e[t]-=r}function Uk(t,n,e){const r=t.length;if(1===r)return;const i=t.map((t=>t.flat())),o=i.map((t=>(ki(t,(t=>n[t]))+$i(t,(t=>e[t])))/2)),a=ki(o);for(let c=0;c<r;c++){const t=a-o[c];for(const r of i[c])n[r]+=t,e[r]+=t}}function Ok(t){return zk(t,((t,n,e,r)=>{const i=sv(t),o=gi(i,(t=>n[Si(t,(t=>e[t]))]),(t=>r[t])),a=ui(i,(t=>zi(t,(t=>e[t]))),(t=>r[t])),c=[],s=[];let u=0;for(const f of o)u<0?(u+=a.get(f),c.push(f)):(u-=a.get(f),s.push(f));return s.reverse().concat(c)}))}function Fk(t){return n=>{const e=Tb(n,t);return(t,n)=>ub(e[t],e[n])}}function jk(t){return n=>(e,r)=>t(n[e],n[r])}function zk(t,n){return(e,r,i,o)=>{if(!o)throw new Error("missing channel: z");const a=new Ot(n(e,r,i,o).map(((t,n)=>[t,n])));return(n,e)=>t(a.get(o[n]),a.get(o[e]))}}class Rk extends Xw{constructor(t,n,e={},r){super(t,n,e,r);const{inset:i=0,insetTop:o=i,insetRight:a=i,insetBottom:c=i,insetLeft:s=i,rx:u,ry:f}=e;this.insetTop=Fb(o),this.insetRight=Fb(a),this.insetBottom=Fb(c),this.insetLeft=Fb(s),this.rx=Tw(u,"auto"),this.ry=Tw(f,"auto")}render(t,n,e,r,i){const{rx:o,ry:a}=this;return O_("svg:g",i).call(xw,this,r,i).call(this._transform,this,n).call((i=>i.selectAll().data(t).enter().append("rect").call(ww,this).attr("x",this._x(n,e,r)).attr("width",this._width(n,e,r)).attr("y",this._y(n,e,r)).attr("height",this._height(n,e,r)).call(Mw,"rx",o).call(Mw,"ry",a).call(bw,this,e))).node()}_x(t,{x:n},{marginLeft:e}){const{insetLeft:r}=this;return n?t=>n[t]+r:e+r}_y(t,{y:n},{marginTop:e}){const{insetTop:r}=this;return n?t=>n[t]+r:e+r}_width({x:t},{x:n},{marginRight:e,marginLeft:r,width:i}){const{insetLeft:o,insetRight:a}=this,c=n&&t?t.bandwidth():i-e-r;return Math.max(0,c-o-a)}_height({y:t},{y:n},{marginTop:e,marginBottom:r,height:i}){const{insetTop:o,insetBottom:a}=this,c=n&&t?t.bandwidth():i-e-r;return Math.max(0,c-o-a)}}const Pk={ariaLabel:"bar"};class qk extends Rk{constructor(t,n={}){const{x1:e,x2:r,y:i}=n;super(t,{x1:{value:e,scale:"x"},x2:{value:r,scale:"x"},y:{value:i,scale:"y",type:"band",optional:!0}},n,Pk)}_transform(t,n,{x:e}){t.call(kw,n,{x:e},0,0)}_x({x:t},{x1:n,x2:e},{marginLeft:r}){const{insetLeft:i}=this;return ow(t)?r+i:t=>Math.min(n[t],e[t])+i}_width({x:t},{x1:n,x2:e},{marginRight:r,marginLeft:i,width:o}){const{insetLeft:a,insetRight:c}=this;return ow(t)?o-r-i-a-c:t=>Math.max(0,Math.abs(e[t]-n[t])-a-c)}}class Ik extends Rk{constructor(t,n={}){const{x:e,y1:r,y2:i}=n;super(t,{y1:{value:r,scale:"y"},y2:{value:i,scale:"y"},x:{value:e,scale:"x",type:"band",optional:!0}},n,Pk)}_transform(t,n,{y:e}){t.call(kw,n,{y:e},0,0)}_y({y:t},{y1:n,y2:e},{marginTop:r}){const{insetTop:i}=this;return ow(t)?r+i:t=>Math.min(n[t],e[t])+i}_height({y:t},{y1:n,y2:e},{marginTop:r,marginBottom:i,height:o}){const{insetTop:a,insetBottom:c}=this;return ow(t)?o-r-i-a-c:t=>Math.max(0,Math.abs(e[t]-n[t])-a-c)}}function Hk(t,n={}){return tv(n)||(n={...n,y:Cb,x2:Lb}),new qk(t,Mk(C$(function(t={}){return Qb(t)?t:{...t,x:Lb}}(n))))}function Yk(t,n={}){return tv(n)||(n={...n,x:Cb,y2:Lb}),new Ik(t,kk(L$(function(t={}){return Kb(t)?t:{...t,y:Lb}}(n))))}const Bk={ariaLabel:"cell"};class Wk extends Rk{constructor(t,{x:n,y:e,...r}={}){super(t,{x:{value:n,scale:"x",type:"band",optional:!0},y:{value:e,scale:"y",type:"band",optional:!0}},r,Bk)}_transform(t,n){t.call(kw,n,{},0,0)}}function Vk(t,{x:n,y:e,...r}={}){return[n,e]=av(n,e),new Wk(t,{...r,x:n,y:e})}const Xk={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Zk extends Xw{constructor(t,n={}){const{x:e,y:r,z:i,curve:o,tension:a}=n;super(t,{x:{value:e,scale:"x"},y:{value:r,scale:"y"},z:{value:cv(n),optional:!0}},n,Xk),this.z=i,this.curve=wk(o,a),g$(this,n)}filter(t){return t}project(t,n,e){this.curve!==$k&&super.project(t,n,e)}render(t,n,e,r,i){const{x:o,y:a}=e,{curve:c}=this;return O_("svg:g",i).call(xw,this,r,i).call(kw,this,n).call((n=>n.selectAll().data(_w(t,[o,a],this,e)).enter().append("path").call(ww,this).call(vw,this,e).call($$,this,e,i).attr("d",c===$k&&i.projection?function(t,n,e){const r=Bf(t);return n=qb(n),e=qb(e),t=>{let i=[];const o=[i];for(const r of t)-1===r?(i=[],o.push(i)):i.push([n[r],e[r]]);return r({type:"MultiLineString",coordinates:o})}}(i.projection,o,a):ty().curve(c).defined((t=>t>=0)).x((t=>o[t])).y((t=>a[t]))))).node()}}function Gk(t,{x:n,y:e,...r}={}){return[n,e]=av(n,e),new Zk(t,{...r,x:n,y:e})}function Jk(t,n={}){let{y:e,y1:r,y2:i}=n;void 0===e&&void 0===r&&void 0===i&&(n={...n,y:e=Lb});const o={};return null!=e&&(o.y=t),null!=r&&(o.y1=t),null!=i&&(o.y2=t),function(t={},n={}){const e=cv(n),r=Object.entries(t).map((([t,e])=>{const r=hv(t,n);if(null==r)throw new Error(`missing channel: ${t}`);const[i,o]=dv(r);return{key:t,input:r,output:i,setOutput:o,map:Qk(e)}}));return{...Qv(n,((t,n)=>{const i=Tb(t,e),o=r.map((({input:n})=>Tb(t,n))),a=r.map((({setOutput:n})=>n(new Array(t.length))));for(const e of n)for(const t of i?si(e,(t=>i[t])).values():[e])r.forEach((({map:n},e)=>n.mapIndex(t,o[e],a[e])));return{data:t,facets:n}})),...Object.fromEntries(r.map((({key:t,output:n})=>[t,n])))}}(o,n)}function Qk(t){if(null==t)throw new Error("missing map");if("function"==typeof t.mapIndex)return t;if("function"==typeof t.map&&nv(t))return function(t){return{mapIndex:t.map.bind(t)}}(t);if("function"==typeof t)return Kk(fv(t));switch(`${t}`.toLowerCase()){case"cumsum":return tT;case"rank":return Kk(((t,n)=>ji(t,(t=>n[t]))));case"quantile":return Kk(((t,n)=>function(t,n){const e=function(t,n){let e=0;if(void 0===n)for(let r of t)null!=r&&(r=+r)>=r&&++e;else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(i=+i)>=i&&++e}return e}(t,n)-1;return ji(t,n).map((t=>t/e))}(t,(t=>n[t]))))}throw new Error(`invalid map: ${t}`)}function Kk(t){return{mapIndex(n,e,r){const i=t(n,e);if(i.length!==n.length)throw new Error("map function returned a mismatched length");for(let t=0,o=n.length;t<o;++t)r[n[t]]=i[t]}}}const tT={mapIndex(t,n,e){let r=0;for(const i of t)e[i]=r+=n[i]}};function nT(t={},n){return 1===arguments.length&&(n=t),Jk(eT(t),n)}function eT(t={}){"number"==typeof t&&(t={k:t});let{k:n,reduce:e,shift:r,anchor:i,strict:o}=t;if(void 0===i&&void 0!==r&&(i=function(t){switch(`${t}`.toLowerCase()){case"centered":return"middle";case"leading":return"start";case"trailing":return"end"}throw new Error(`invalid shift: ${t}`)}(r),j_()),!((n=Math.floor(n))>0))throw new Error(`invalid k: ${n}`);return function(t="mean"){if("string"==typeof t){if(/^p\d{2}$/i.test(t))return iT(Pb(t));switch(t.toLowerCase()){case"deviation":return iT(ii);case"max":return oT(((t,n)=>$i(t,(t=>n[t]))));case"mean":return cT;case"median":return iT(Di);case"min":return oT(((t,n)=>ki(t,(t=>n[t]))));case"mode":return oT(((t,n)=>Oi(t,(t=>n[t]))));case"sum":return aT;case"variance":return iT(ri);case"difference":return hT;case"ratio":return dT;case"first":return pT;case"last":return gT}}if("function"!=typeof t)throw new Error(`invalid reduce: ${t}`);return oT(fv(t))}(e)(n,function(t="middle",n){switch(`${t}`.toLowerCase()){case"middle":return n-1>>1;case"start":return 0;case"end":return n-1}throw new Error(`invalid anchor: ${t}`)}(i,n),o)}function rT(t,n,e){return t.subarray?t.subarray(n,e):t.slice(n,e)}function iT(t){return(n,e,r)=>r?{mapIndex(e,r,i){const o=t=>null==r[t]?NaN:+r[t];let a=0;for(let t=0;t<n-1;++t)isNaN(o(t))&&++a;for(let c=0,s=e.length-n+1;c<s;++c)isNaN(o(c+n-1))&&++a,i[e[c+o]]=0===a?t(rT(e,c,c+n),o):NaN,isNaN(o(c))&&--a}}:{mapIndex(e,r,i){const o=t=>null==r[t]?NaN:+r[t];for(let a=-o;a<0;++a)i[e[a+o]]=t(rT(e,0,a+n),o);for(let a=0,c=e.length-o;a<c;++a)i[e[a+o]]=t(rT(e,a,a+n),o)}}}function oT(t){return(n,e,r)=>r?{mapIndex(r,i,o){let a=0;for(let t=0;t<n-1;++t)a+=sb(i[r[t]]);for(let c=0,s=r.length-n+1;c<s;++c)a+=sb(i[r[c+n-1]]),a===n&&(o[r[c+e]]=t(rT(r,c,c+n),i)),a-=sb(i[r[c]])}}:{mapIndex(r,i,o){for(let a=-e;a<0;++a)o[r[a+e]]=t(rT(r,0,a+n),i);for(let a=0,c=r.length-e;a<c;++a)o[r[a+e]]=t(rT(r,a,a+n),i)}}}function aT(t,n,e){return e?{mapIndex(e,r,i){let o=0,a=0;for(let n=0;n<t-1;++n){const t=r[e[n]];null===t||isNaN(t)?++o:a+=+t}for(let c=0,s=e.length-t+1;c<s;++c){const s=r[e[c]],u=r[e[c+t-1]];null===u||isNaN(u)?++o:a+=+u,i[e[c+n]]=0===o?a:NaN,null===s||isNaN(s)?--o:a-=+s}}}:{mapIndex(e,r,i){let o=0;const a=e.length;for(let c=0,s=Math.min(a,t-n-1);c<s;++c)o+=+r[e[c]]||0;for(let c=-n,s=a-n;c<s;++c)o+=+r[e[c+t-1]]||0,i[e[c+n]]=o,o-=+r[e[c]]||0}}}function cT(t,n,e){if(e){const r=aT(t,n,e);return{mapIndex(e,i,o){r.mapIndex(e,i,o);for(let r=0,a=e.length-t+1;r<a;++r)o[e[r+n]]/=t}}}return{mapIndex(e,r,i){let o=0,a=0;const c=e.length;for(let s=0,u=Math.min(c,t-n-1);s<u;++s){let t=r[e[s]];null===t||isNaN(t=+t)||(o+=t,++a)}for(let s=-n,u=c-n;s<u;++s){let c=r[e[s+t-1]],u=r[e[s]];null===c||isNaN(c=+c)||(o+=c,++a),i[e[s+n]]=o/a,null===u||isNaN(u=+u)||(o-=u,--a)}}}}function sT(t,n,e,r){for(let i=e+r;e<i;++e){const r=t[n[e]];if(sb(r))return r}}function uT(t,n,e,r){for(let i=e+r-1;i>=e;--i){const e=t[n[i]];if(sb(e))return e}}function fT(t,n,e,r){for(let i=e+r;e<i;++e){let r=t[n[e]];if(null!==r&&!isNaN(r=+r))return r}}function lT(t,n,e,r){for(let i=e+r-1;i>=e;--i){let e=t[n[i]];if(null!==e&&!isNaN(e=+e))return e}}function hT(t,n,e){return e?{mapIndex(e,r,i){for(let o=0,a=e.length-t;o<a;++o){const a=r[e[o]],c=r[e[o+t-1]];i[e[o+n]]=null===a||null===c?NaN:c-a}}}:{mapIndex(e,r,i){for(let o=-n,a=e.length-t+n+1;o<a;++o)i[e[o+n]]=lT(r,e,o,t)-fT(r,e,o,t)}}}function dT(t,n,e){return e?{mapIndex(e,r,i){for(let o=0,a=e.length-t;o<a;++o){const a=r[e[o]],c=r[e[o+t-1]];i[e[o+n]]=null===a||null===c?NaN:c/a}}}:{mapIndex(e,r,i){for(let o=-n,a=e.length-t+n+1;o<a;++o)i[e[o+n]]=lT(r,e,o,t)/fT(r,e,o,t)}}}function pT(t,n,e){return e?{mapIndex(e,r,i){for(let o=0,a=e.length-t;o<a;++o)i[e[o+n]]=r[e[o]]}}:{mapIndex(e,r,i){for(let o=-n,a=e.length-t+n+1;o<a;++o)i[e[o+n]]=sT(r,e,o,t)}}}function gT(t,n,e){return e?{mapIndex(e,r,i){for(let o=0,a=e.length-t;o<a;++o)i[e[o+n]]=r[e[o+t-1]]}}:{mapIndex(e,r,i){for(let o=-n,a=e.length-t+n+1;o<a;++o)i[e[o+n]]=uT(r,e,o,t)}}}function mT(t){let n,i,o,a,c,s=[{class:"plot-container"},t[2]],u={};for(let e=0;e<s.length;e+=1)u=r(u,s[e]);return{c(){n=v("div"),i=x(),o=v("div"),M(n,u),$(o,"id","heatmap")},m(e,r){y(e,n,r),y(e,i,r),y(e,o,r),a||(c=g(t[1].call(null,n)),a=!0)},p(t,[e]){M(n,u=H(s,[{class:"plot-container"},4&e&&t[2]]))},i:e,o:e,d(t){t&&b(n),t&&b(i),t&&b(o),a=!1,c()}}}function yT(t,n,e){const i=["options"];let o=p(n,i),{options:a}=n;const c=a.x.corrMatrixDecades;let s=c.map((t=>({danceability:t.danceability,energy:t.energy,key:t.key,loudness:t.loudness,mode:t.mode,speechiness:t.speechiness,acousticness:t.acousticness,instrumentalness:t.instrumentalness,liveness:t.liveness,valence:t.valence,tempo:t.tempo}))),u=Object.keys(s[0]);const f=(()=>{let t=[];u.map(((n,e)=>(t[e]=Object.keys(c[e]).map((t=>""!=t?c[e][t]:null)),t)));return t.map((t=>t.slice(1))).map((t=>t.map((t=>parseFloat(t)))))})().map(((t,n)=>t.slice(0,n+1))),l=[];for(let r=0;r<f.length;r++)for(let t=0;t<f[r].length;t++)l.push({i:r,j:t,value:f[r][t]});const h=t=>`${u[t.i]}\n${u[t.j]}\nValor: ${t.value}`,g=t=>u[t],m=ik({marks:[Vk(l,{x:"j",y:"i",fill:"value",inset:0,tip:!0,xAxis:!1,yAxis:!1,marginLeft:100,title:t=>h(t)}),Y$(l,{x:"j",y:"i",text:"value",inset:0,marginLeft:100,title:t=>h(t)})],x:{label:null,values:null,tickFormat:g},y:{label:null,values:null,tickFormat:g},color:{scheme:"blues"},width:900,height:300,marginTop:30,marginBottom:30,marginLeft:100,marginRight:30});return t.$$set=t=>{n=r(r({},n),d(t)),e(2,o=p(n,i)),"options"in t&&e(3,a=t.options)},[s,function(t){t.appendChild(m)},o,a]}class bT extends Z{constructor(t){super(),X(this,t,yT,mT,s,{options:3})}}function vT(t){let n,e,i,o=[{class:"plot-container"},t[2]],a={};for(let c=0;c<o.length;c+=1)a=r(a,o[c]);return{c(){n=v("div"),M(n,a)},m(r,o){y(r,n,o),e||(i=g(t[1].call(null,n)),e=!0)},p(t,e){M(n,a=H(o,[{class:"plot-container"},4&e&&t[2]]))},d(t){t&&b(n),e=!1,i()}}}function _T(t){let n,r=t[0],i=vT(t);return{c(){i.c(),n=w()},m(t,e){i.m(t,e),y(t,n,e)},p(t,[e]){1&e&&s(r,r=t[0])?(i.d(1),i=vT(t),i.c(),i.m(n.parentNode,n)):i.p(t,e)},i:e,o:e,d(t){t&&b(n),i.d(t)}}}function xT(t,n,e){const i=["options"];let o=p(n,i),{options:a}=n;const c=a.x.dataSongsDecades||a.x.dataPersonal,s=new Map;return c.forEach((t=>{const n=s.get(t.mode)||0;s.set(t.mode,n+1)})),t.$$set=t=>{n=r(r({},n),d(t)),e(2,o=p(n,i)),"options"in t&&e(0,a=t.options)},[a,function(t){t.appendChild(ik({marks:[Yk(c,c_({y:"count"},{x:"mode",y:"count",sort:{x:"y",reverse:!1},fill:"orange",filter:null}))],height:200,marginLeft:50,width:551}))},o]}class wT extends Z{constructor(t){super(),X(this,t,xT,_T,s,{options:0})}}function $T(t){let n,e,i,o=[{class:"plot-container"},t[2]],a={};for(let c=0;c<o.length;c+=1)a=r(a,o[c]);return{c(){n=v("div"),M(n,a)},m(r,o){y(r,n,o),e||(i=g(t[1].call(null,n)),e=!0)},p(t,e){M(n,a=H(o,[{class:"plot-container"},4&e&&t[2]]))},d(t){t&&b(n),e=!1,i()}}}function MT(t){let n,r=t[0],i=$T(t);return{c(){i.c(),n=w()},m(t,e){i.m(t,e),y(t,n,e)},p(t,[e]){1&e&&s(r,r=t[0])?(i.d(1),i=$T(t),i.c(),i.m(n.parentNode,n)):i.p(t,e)},i:e,o:e,d(t){t&&b(n),i.d(t)}}}function kT(t,n,e){const i=["options"];let o=p(n,i),{options:a}=n;let c=(a.x.dataSongsDecades||a.x.dataPersonal).sort(((t,n)=>new Date(t.release_date)-new Date(n.release_date)));c.map((t=>t.format_release_date=new Date(t.release_date)));const s=Ne("%b");return t.$$set=t=>{n=r(r({},n),d(t)),e(2,o=p(n,i)),"options"in t&&e(0,a=t.options)},[a,function(t){t.appendChild(ik({nice:!0,grid:!0,height:380,color:{legend:!0,scheme:"category10"},x:{tickFormat:s},y:{label:"energía"},marks:[Gk(c,nT({k:7,x:"release_date",y:"energy",z:null,title:t=>t.names+" / "+t.artists+" / "+t.release_date,stroke:"mode",tip:!0,strokeWidth:2}))],tooltip:{fill:"red",stroke:"blue",r:8},caption:"Evolución de enerdía en canciones desde los 40"}))},o]}class TT extends Z{constructor(t){super(),X(this,t,kT,MT,s,{options:0})}}function AT(t){let n,e,i,o=[{class:"plot-container"},t[2]],a={};for(let c=0;c<o.length;c+=1)a=r(a,o[c]);return{c(){n=v("div"),M(n,a)},m(r,o){y(r,n,o),e||(i=g(t[1].call(null,n)),e=!0)},p(t,e){M(n,a=H(o,[{class:"plot-container"},4&e&&t[2]]))},d(t){t&&b(n),e=!1,i()}}}function NT(t){let n,r=t[0],i=AT(t);return{c(){i.c(),n=w()},m(t,e){i.m(t,e),y(t,n,e)},p(t,[e]){1&e&&s(r,r=t[0])?(i.d(1),i=AT(t),i.c(),i.m(n.parentNode,n)):i.p(t,e)},i:e,o:e,d(t){t&&b(n),i.d(t)}}}function ST(t,n,e){const i=["options"];let o=p(n,i),{options:a}=n;let c=a.sort(((t,n)=>n.value-t.value)),s=ik({color:{legend:!1},marginLeft:160,marks:[Y$(c,{x:t=>t.value+2,y:"label",text:t=>t.value.toString(),fill:"black",textAnchor:"start",lignmentBaseline:"middle"}),j$([0]),Hk(c.slice(0,50),{y:"label",x:"value",sort:{y:"-x"},fill:"value",inset:.5,stroke:"value",tip:!0,fill:"value"})],height:500,width:551,y:{grid:!0}});return t.$$set=t=>{n=r(r({},n),d(t)),e(2,o=p(n,i)),"options"in t&&e(0,a=t.options)},[a,function(t){t.appendChild(s)},o]}class ET extends Z{constructor(t){super(),X(this,t,ST,NT,s,{options:0})}}function CT(t){let n,r;return{c(){n=v("img"),l(n.src,r="https://c.tenor.com/On7kvXhzml4AAAAi/loading-gif.gif")||$(n,"src","https://c.tenor.com/On7kvXhzml4AAAAi/loading-gif.gif"),$(n,"alt","Loading..."),$(n,"class","svelte-17li262")},m(t,e){y(t,n,e)},p:e,d(t){t&&b(n)}}}function LT(t){let n,r;return{c(){n=v("img"),l(n.src,r="https://icon-library.com/images/not-found-icon/not-found-icon-20.jpg")||$(n,"src","https://icon-library.com/images/not-found-icon/not-found-icon-20.jpg"),$(n,"alt","Not Found"),$(n,"class","svelte-17li262")},m(t,e){y(t,n,e)},p:e,d(t){t&&b(n)}}}function DT(t){let n,e;return{c(){n=v("img"),l(n.src,e=t[0])||$(n,"src",e),$(n,"alt","Document"),$(n,"class","svelte-17li262")},m(t,e){y(t,n,e)},p(t,r){1&r&&!l(n.src,e=t[0])&&$(n,"src",e)},d(t){t&&b(n)}}}function UT(t){let n;function r(t,n){return t[1]?DT:t[2]?LT:t[3]?CT:void 0}let i=r(t),o=i&&i(t);return{c(){o&&o.c(),n=w()},m(t,e){o&&o.m(t,e),y(t,n,e)},p(t,[e]){i===(i=r(t))&&o?o.p(t,e):(o&&o.d(1),o=i&&i(t),o&&(o.c(),o.m(n.parentNode,n)))},i:e,o:e,d(t){o&&o.d(t),t&&b(n)}}}function OT(t,n,e){let{src:r}=n,i=!1,o=!1,a=!1;return N((()=>{const t=new Image;t.src=r,e(3,a=!0),t.onload=()=>{e(3,a=!1),e(1,i=!0)},t.onerror=()=>{e(3,a=!1),e(2,o=!0)}})),t.$$set=t=>{"src"in t&&e(0,r=t.src)},[r,i,o,a]}class FT extends Z{constructor(t){super(),X(this,t,OT,UT,s,{src:0})}}function jT(t){let n,r,i,o,a,c,s,u,f,l,h,d,p,g,w,M,k,A,N,S,E,C,L,D,U,O,F,j,z,R,P,H,V,X,Z,G,J,Q,K,tt,nt,et,rt,it,ot,at,ct,st,ut,ft,lt,ht,dt,pt,gt,mt,yt,Mt,kt,Tt,At,Nt,St,Ct,Lt,Dt,Ot,Ft,jt,zt,Rt,Pt,qt,It,Ht,Yt,Bt,Wt,Vt,Xt,Zt,Gt,Jt,Qt,Kt,tn,nn,en,rn,on,an,cn,sn,un,fn,ln,hn,dn,pn,gn,mn,yn,bn,vn,_n,xn,wn,$n,Mn,kn,Tn,An,Nn,Sn,En;return r=new Et({props:{title:"¿Me ha afectado crecer entre Kurt Cobain y Bananarama?",tipo:"p"}}),u=new Et({props:{title:"¿Quieres probar con tu cuenta?"}}),w=new ET({props:{options:$t||[]}}),N=new FT({props:{src:"src/img/usuarios_spotify.png",alt:"usuarios_spotify"}}),U=new Et({props:{title:"Acordes mayores y menores"}}),V=new FT({props:{src:"src/img/ejemplo_acordes_mayores.png"}}),Z=new Et({props:{title:"Si occidente tuviera una cuenta de Spotify, ¿qué ha escuchado desde los 40?"}}),nt=new Et({props:{title:"Géneros más repetidos"}}),ot=new ET({props:{options:bt||[]}}),ct=new Et({props:{title:"Predominan acordes mayores "}}),ut=new wT({props:{options:{x:{dataSongsDecades:vt},grid:!0}}}),lt=new Et({props:{title:"Evolución, historia y acordes menores"}}),gt=new TT({props:{options:{x:{dataSongsDecades:vt},grid:!0}}}),yt=new Et({props:{title:"Correlacion entre parametros"}}),Lt=new bT({props:{options:{x:{corrMatrixDecades:wt},grid:!0}}}),Ot=new Et({props:{title:"Mis géneros más repetidos"}}),Wt=new ET({props:{options:xt||[]}}),Xt=new Et({props:{title:"Hay más acordes menores que en la lista mainstream"}}),Gt=new wT({props:{options:{x:{dataPersonal:_t},grid:!0}}}),rn=new Et({props:{title:"Evolución, historia y acordes menores"}}),an=new TT({props:{options:{x:{dataPersonal:_t},grid:!0}}}),fn=new Et({props:{title:"% DE COINCIDENCIA CON MI IDEA preconcevida"}}),mn=new Et({props:{title:"¿Intento adivinar qué pasará en un año?"}}),xn=new Et({props:{title:"Conclusión"}}),kn=new Ut({props:{sources:t[0]}}),{c(){n=v("div"),Y(r.$$.fragment),i=x(),o=v("h2"),o.innerHTML="<i>O por qué hablar de la evolución de la cultura musical en occidente cuando podemos hablar de mí</i>",a=x(),c=v("article"),s=v("div"),Y(u.$$.fragment),f=x(),l=v("div"),h=v("p"),h.textContent="Spotify tiene 406 millones de usuarios activos mensuales",d=x(),p=v("p"),p.textContent="El 30% están en Europa ...",g=x(),Y(w.$$.fragment),M=x(),k=v("a"),k.textContent="Este es el reparto",A=_('"\r\n      '),Y(N.$$.fragment),S=x(),E=v("p"),E.textContent="Spotify tiene una API a través de la cual podemos acceder a diferentes características de cada canción",C=x(),L=v("p"),L.textContent="No sólo nos da información sobre título, autores o género, también podemos acceder a parámetros como el tipo de acorde que predomina en la canción o las secciones que la conforman",D=x(),Y(U.$$.fragment),O=x(),F=v("p"),F.textContent="Podemos saber, por ejemplo, si una canción tiene predominio de acordes mayores",j=x(),z=v("p"),z.textContent="Los acordes mayores transmiten optimismo, los menores, sin embargo, transmiten melancolía o tristeza",R=x(),P=v("p"),P.textContent="Lo vamos a entender mejor a través de un ejemplo",H=x(),Y(V.$$.fragment),X=x(),Y(Z.$$.fragment),G=x(),J=v("p"),J.textContent="Siguiendo con los acordes, he seleccionado una de las playlist que dicen mostrar los grandes éxitos musicales desde los años 40",Q=x(),K=v("p"),K.textContent="Esta selección está centrada en gustos y consumo occidental",tt=x(),Y(nt.$$.fragment),et=x(),rt=v("div"),it=x(),Y(ot.$$.fragment),at=x(),Y(ct.$$.fragment),st=x(),Y(ut.$$.fragment),ft=x(),Y(lt.$$.fragment),ht=x(),dt=v("p"),dt.textContent="Se podrían marcar varios periodos históricos que coindiden con subidas o bajadas de energína.",pt=x(),Y(gt.$$.fragment),mt=x(),Y(yt.$$.fragment),Mt=x(),kt=v("p"),kt.textContent="A parte de la clave, mayor o menor, existen más parámetros que podemos explorar, como ya vimos antes por ejemplo, la energía",Tt=x(),At=v("p"),At.textContent="A continuación podemos ver los parámetros y la relación que guardan entre ellos",Nt=x(),St=v("p"),St.textContent="Algunos son bastante intuitivos, como la bailabilidad y la energía, que están altamente relacionados, y todo lo contrario ocurre con el modo (mayor o menor)",Ct=x(),Y(Lt.$$.fragment),Dt=x(),Y(Ot.$$.fragment),Ft=x(),jt=v("p"),jt.textContent="Por curiosidad exploré mi cuenta, que abrí en el 2013, y me llevé algunas sorpresas.",zt=x(),Rt=v("p"),Rt.textContent="Esta sería la lista de géneros que yo hubiese enumerado:",Pt=x(),qt=v("div"),qt.innerHTML="<li>Rock Psichodélico</li> \n      <li>New Wave</li> \n      <li>Punk español</li> \n      <li>Synth-pop</li> \n      <li>Dark wave</li> \n      <li>Música Industrial</li> \n      <li>Rock electrónico</li> \n      <li>Nostalgia</li>",It=x(),Ht=v("p"),Ht.textContent="Siguiendo el mismo método empleado con la lista del occidente mainstream desde los 40, llegué a estos resultados.",Yt=x(),Bt=v("div"),Y(Wt.$$.fragment),Vt=x(),Y(Xt.$$.fragment),Zt=x(),Y(Gt.$$.fragment),Jt=x(),Qt=v("div"),Qt.innerHTML="<h1>histograma?</h1>",Kt=x(),tn=v("div"),nn=x(),en=v("div"),Y(rn.$$.fragment),on=x(),Y(an.$$.fragment),cn=x(),sn=v("div"),un=x(),Y(fn.$$.fragment),ln=x(),hn=v("h1"),hn.textContent="SANSKY?",dn=x(),pn=v("div"),pn.innerHTML='<div style="height:150px"></div>',gn=x(),Y(mn.$$.fragment),yn=x(),bn=v("div"),bn.innerHTML='¿Intento adivinar qué pasará en un año?\n    <div style="height:150px"></div>',vn=x(),_n=v("div"),Y(xn.$$.fragment),wn=x(),$n=v("div"),Mn=x(),Y(kn.$$.fragment),Tn=x(),An=v("p"),An.textContent="¿Y a tí que tipo de música te gusta? Todo menos el country a excepción de Johny Cash, todo menos el reaggeton, el reaggeton, electrónica, hay mil maneras de contestar\r\n    a esta pregunta, unas se repiten más que otras, según dónde estemos y con quien hablemos",Nn=x(),Sn=v("p"),Sn.textContent="Dice mucho de nosotros la música que escuchamos, pero también da mucha información\r\n    la música con la que nos identificamos, la que creemos que nos representa y quizás, tambien, \r\n    la que decimos que nos representa porque, ¿son siempre lo mismo?",T(s,"background-color","green"),$(k,"href","https://es.statista.com/estadisticas/1118343/distribucion-de-usuarios-activos-mensuales-de-spotify-por-region/"),$(rt,"class","charts"),T(rt,"display","flex"),$(tn,"class","charts"),T(tn,"display","flex"),T(sn,"height","150px"),T($n,"height","150px"),$(c,"class","svelte-upf86d"),$(n,"data-type","graphics-svelte-app"),$(n,"class","svelte-upf86d")},m(t,e){y(t,n,e),B(r,n,null),m(n,i),m(n,o),m(n,a),m(n,c),m(c,s),B(u,s,null),m(c,f),m(c,l),m(l,h),m(l,d),m(l,p),m(l,g),B(w,l,null),m(l,M),m(l,k),m(l,A),B(N,l,null),m(l,S),m(l,E),m(l,C),m(l,L),m(l,D),B(U,l,null),m(l,O),m(l,F),m(l,j),m(l,z),m(l,R),m(l,P),m(l,H),B(V,l,null),m(c,X),B(Z,c,null),m(c,G),m(c,J),m(c,Q),m(c,K),m(c,tt),B(nt,c,null),m(c,et),m(c,rt),m(c,it),B(ot,c,null),m(c,at),B(ct,c,null),m(c,st),B(ut,c,null),m(c,ft),B(lt,c,null),m(c,ht),m(c,dt),m(c,pt),B(gt,c,null),m(c,mt),B(yt,c,null),m(c,Mt),m(c,kt),m(c,Tt),m(c,At),m(c,Nt),m(c,St),m(c,Ct),B(Lt,c,null),m(c,Dt),B(Ot,c,null),m(c,Ft),m(c,jt),m(c,zt),m(c,Rt),m(c,Pt),m(c,qt),m(c,It),m(c,Ht),m(c,Yt),m(c,Bt),B(Wt,Bt,null),m(c,Vt),B(Xt,c,null),m(c,Zt),B(Gt,c,null),m(c,Jt),m(c,Qt),m(c,Kt),m(c,tn),m(c,nn),m(c,en),B(rn,en,null),m(en,on),B(an,en,null),m(en,cn),m(en,sn),m(c,un),B(fn,c,null),m(c,ln),m(c,hn),m(c,dn),m(c,pn),m(c,gn),B(mn,c,null),m(c,yn),m(c,bn),m(c,vn),m(c,_n),B(xn,_n,null),m(_n,wn),m(_n,$n),m(c,Mn),B(kn,c,null),m(n,Tn),m(n,An),m(n,Nn),m(n,Sn),En=!0},p:e,i(t){En||(q(r.$$.fragment,t),q(u.$$.fragment,t),q(w.$$.fragment,t),q(N.$$.fragment,t),q(U.$$.fragment,t),q(V.$$.fragment,t),q(Z.$$.fragment,t),q(nt.$$.fragment,t),q(ot.$$.fragment,t),q(ct.$$.fragment,t),q(ut.$$.fragment,t),q(lt.$$.fragment,t),q(gt.$$.fragment,t),q(yt.$$.fragment,t),q(Lt.$$.fragment,t),q(Ot.$$.fragment,t),q(Wt.$$.fragment,t),q(Xt.$$.fragment,t),q(Gt.$$.fragment,t),q(rn.$$.fragment,t),q(an.$$.fragment,t),q(fn.$$.fragment,t),q(mn.$$.fragment,t),q(xn.$$.fragment,t),q(kn.$$.fragment,t),En=!0)},o(t){I(r.$$.fragment,t),I(u.$$.fragment,t),I(w.$$.fragment,t),I(N.$$.fragment,t),I(U.$$.fragment,t),I(V.$$.fragment,t),I(Z.$$.fragment,t),I(nt.$$.fragment,t),I(ot.$$.fragment,t),I(ct.$$.fragment,t),I(ut.$$.fragment,t),I(lt.$$.fragment,t),I(gt.$$.fragment,t),I(yt.$$.fragment,t),I(Lt.$$.fragment,t),I(Ot.$$.fragment,t),I(Wt.$$.fragment,t),I(Xt.$$.fragment,t),I(Gt.$$.fragment,t),I(rn.$$.fragment,t),I(an.$$.fragment,t),I(fn.$$.fragment,t),I(mn.$$.fragment,t),I(xn.$$.fragment,t),I(kn.$$.fragment,t),En=!1},d(t){t&&b(n),W(r),W(u),W(w),W(N),W(U),W(V),W(Z),W(nt),W(ot),W(ct),W(ut),W(lt),W(gt),W(yt),W(Lt),W(Ot),W(Wt),W(Xt),W(Gt),W(rn),W(an),W(fn),W(mn),W(xn),W(kn)}}}function zT(t,n,e){let r;!function(t,n,e){t.$$.on_destroy.push(h(n,e))}(t,lt,(t=>e(1,r=t))),r.title,r.subtitle;return[r.sources]}new class extends Z{constructor(t){super(),X(this,t,zT,jT,s,{})}}({target:((t={})=>document.currentScript||(()=>{const n=(t.url||"").replace(/^.+?(\/src\/.+?.js)+?/,"$1");return document.querySelector("script[src='"+n+"']")})())(import.meta).previousElementSibling,props:{}}),n();
